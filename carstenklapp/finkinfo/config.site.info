Package: config.site
Version: 1.0
Revision: 1
Type: nosource
CompileScript: echo "Nothing to compile."
InstallScript: <<
#!/bin/sh
 dir=%i/var/cache/automake
 cachef=${dir}/config.site
 mkdir -p ${dir}
 touch ${cachef}
 chown -R root:staff ${dir}
 chmod 775 ${dir}
 chmod 664 ${cachef}
<<
ConfFiles: %p/var/cache/automake/config.site
RuntimeVars: CONFIG_SITE: %p/var/cache/automake/config.site
Description: Site config.cache for automake configure results
DescDetail: <<
 By default, configure uses ./config.cache as the cache file, creating
 it if it does not exist already. You can give configure the
 --cache-file=FILE option or set the environment variable CONFIG_SITE
 to use a different cache file; that is what configure does when it
 calls configure scripts in subdirectories, so they share the cache.
 
 Giving --cache-file=/dev/null disables caching, for debugging
 configure. config.status only pays attention to the cache file if you
 give it the --recheck option to rerun configure.
<<
DescUsage: <<
After installation, CACHE_SITE will be active in new terminal windows.

Some Suggestions If You Have Any ./configure Errors:

Not all configure scripts look for a config.site.

Try 'fink reinstall %n'. This will filter some cache entries known to
be problematic with fink.

Try 'unsetenv CACHE_SITE' and build again.

Failing that:
- manually edit /sw/var/cache/automake/config.site
- delete CFLAGS lines (or whichever indicated by the ./configure
  error) or substitute those two lines with:
  ac_cv_env_CFLAGS_set=${ac_cv_env_CFLAGS_set=set}
  ac_cv_env_CFLAGS_value=${ac_cv_env_CFLAGS_value=-I/sw/include}
  (maybe a better PostInstScript to automate this)
Failing that:
- Delete /sw/var/cache/automake/config.site
- Try again
Finally, uninstall via: sudo fink purge %n
<<
PostInstScript: <<
#!/bin/sh
 dir=%p/var/cache/automake
 cachef=${dir}/config.site
 bak=${cachef}-bak
 echo "*"
 echo "* Checking: ${cachef}"
 [ -f ${cachef} ] && echo "* Backing up to: ${bak}"; mv ${cachef} ${bak}
 [ -f ${bak} ] && echo "* Filtering: ${cachef}"; grep -v ac_cv_env_CFLAGS_set ${bak} | grep -v ac_cv_env_CFLAGS_value > ${cachef}
 echo "* Setting permissions g+rw for staff on: ${dir}/*"
 chown -R root:staff ${dir}
 chmod 775 ${dir}
 chmod 664 ${cachef}
 echo "*"
 echo "*** To completely remove this package"
 echo "    along with the site cache ${cachef}:"
 echo " "
 echo "  sudo fink purge %n"
 echo " "
 echo " "
 echo "***************************************************"
 echo "* WARNING: Read the DescUsage for troubleshooting *"
 echo "*          any cache problems in ./configure.     *"
 echo "***************************************************"
<<
License: GPL
Maintainer: Carsten Klapp <carstenklapp@users.sourceforge.net>
