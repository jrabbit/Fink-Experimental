h2. The GCC field

A package needs a GCC field if anything in the package is compiled with ==c++ or g++==.

This is a practical guide. For policy information see "the packaging manual":http://fink.sourceforge.net/doc/packaging/compilers.php and "email to fink-devel":http://www.mail-archive.com/fink-devel@lists.sourceforge.net/msg11877.html .

h3. How to tell if a binary has been compiled with g++

A good way to tell if a binary in your package was compiled with g++ is:

<pre><code>
nm -g $binary > symbols
c++filt3 < symbols > symbols.filt
diff symbols symbols.filt
</code></pre>

In most cases, if there is a difference it was compiled with g++ (some exceptions exist involving weirdly named C functions).

h3. The script

The script "gcc-field":http://cvs.sourceforge.net/viewcvs.py/*checkout*/fink/experimental/vasi/scripts/gcc-field can check one or more packages to see if they need a GCC field.

To check one package, run it like this:

<pre><code>
gcc-field $package
</code></pre>

If it prints anything, the package doesn't have the right field (or is an exceptional case). If it doesn't print anything, you're ok!

You can also check all your packages:

<pre><code>
gcc-field --maintainer=Vasilevsky
</code></pre>

Or check a set of files:

<pre><code>
find ./root-foo | gcc-field -
</code></pre>

Please run @gcc-field --help@ for details.
