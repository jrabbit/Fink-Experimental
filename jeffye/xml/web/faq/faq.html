<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><title>Fink Documentation - The Fink F.A.Q.</title></head><body><h1 style="text-align: center;">The Fink F.A.Q.</h1>
    <p>This is the list of frequently asked questions about Fink. Like
in most FAQs, some questions are taken from real life and some are
made up. It's really more like a documentation written in an ad-hoc,
question and answer style.</p>
    <p>The FAQ consists of several pages, one for each section. All
questions are listed and linked in the table of contents below.</p>
  <h2>Contents</h2><ul><li><a href="#general"><b>1 General Questions</b></a><ul><li><a href="#general.what">1.1 What is Fink?</a></li><li><a href="#general.naming">1.2 What does the name Fink stand for?</a></li><li><a href="#general.bsd-ports">1.3 How is Fink different
from the BSD port mechanism (this includes OpenPackages and
GNU-Darwin)?</a></li><li><a href="#general.usr-local">1.4 Why doesn't Fink install into
/usr/local?</a></li><li><a href="#general.why-sw">1.5 Then why did you choose
/sw?</a></li></ul></li><li><a href="#relations"><b>2 Relations with Other Projects</b></a><ul><li><a href="#relations.upstream">2.1 Do you contribute your patches
back to the upstream maintainers?</a></li><li><a href="#relations.debian">2.2 What is your relation with the
Debian project? Are you porting Debian Linux to Mac OS X?</a></li><li><a href="#relations.apple">2.3 What is your relation with
Apple?</a></li><li><a href="#relations.openosx">2.4 What is your relation with OpenOSX.com?</a></li><li><a href="#relations.forked">2.5 What is your relation with macosx.forked.net?</a></li><li><a href="#relations.darwinports">2.6 What is your relation with Darwinports?</a></li></ul></li><li><a href="#mirrors"><b>3 Fink mirrors</b></a><ul><li><a href="#mirrors.when-use">3.1 What are Fink Mirrors?</a></li><li><a href="#mirrors.why">3.2 Why should I use rsync mirrors?</a></li><li><a href="#mirrors.where">3.3 Where can I find more information about Fink mirrors?</a></li><li><a href="#mirrors.when-not">3.4 I cannot connect to rsync server, what should I do?</a></li><li><a href="#mirrors.otherinfogone">3.5 I have switched to the rsync method now all info files from
the unused trees are gone</a></li><li><a href="#mirrors.howswitch">3.6 How can I switch back and forth between methods.</a></li><li><a href="#mirrors.status">3.7 Can I see what the current status of rsync mirrors is?</a></li><li><a href="#mirrors.Master">3.8 What is a Distfiles mirror?</a></li></ul></li><li><a href="#upgrade-fink"><b>4 Upgrading Fink (version-specific troubleshooting)</b></a><ul><li><a href="#upgrade-fink.gcc-0.16.0">4.1 I just upgraded to 0.16.0 and it tells me "Your version of the
gcc 3.3 compiler is out of date." What do I do?</a></li></ul></li><li><a href="#usage-fink"><b>5 Installing, Using and Maintaining Fink</b></a><ul><li><a href="#usage-fink.what-packages">5.1 How can I find out what packages
Fink supports?</a></li><li><a href="#usage-fink.proxy">5.2 I'm behind a firewall. How do I
configure Fink to use an HTTP proxy?</a></li><li><a href="#usage-fink.firewalled-cvs">5.3 How do I update available packages from CVS when I am behind a firewall?</a></li><li><a href="#usage-fink.moving">5.4 Can I move Fink to another
location after installation?</a></li><li><a href="#usage-fink.moving-symlink">5.5 If I move Fink after
installation and provide a symlink from the old location, will it
work?</a></li><li><a href="#usage-fink.removing">5.6 How can I uninstall all of Fink?</a></li><li><a href="#usage-fink.bindist">5.7 The package database at the
website lists package xxx, but apt-get and dselect know nothing about
it. Who's lying?</a></li><li><a href="#usage-fink.unstable">5.8 There's this package in unstable that I want to install, but the fink command just says 'no package found'. How can I install it?</a></li><li><a href="#usage-fink.sudo">5.9 I'm tired of typing my password into sudo again
and again. Is there a way around this?</a></li><li><a href="#usage-fink.exec-init-csh">5.10 When I try to run init.csh or init.sh, I get a "Permission denied" error. What am I doing wrong?</a></li><li><a href="#usage-fink.dselect-access">5.11 Help! I used the
"[A]ccess" menu entry in dselect and now I can't download packages any
more!</a></li><li><a href="#usage-fink.cvs-busy">5.12 When I try to run <q>fink selfupdate</q> or "fink selfupdate-cvs", I get the error "<tt style="white-space: nowrap;">Updating using CVS failed. Check the error messages above.</tt>"</a></li><li><a href="#usage-fink.kernel-panics">5.13 When I use Fink, my whole machine 
freezes up/kernel panics/dies. Help!</a></li><li><a href="#usage-fink.not-found">5.14 I'm trying to install a package, but Fink can't download it. The download site shows a later version number of the package than what Fink has. What do I do?</a></li><li><a href="#usage-fink.fink-not-found">5.15 I get "command not found" errors when I run Fink or anything that I installed with Fink.</a></li><li><a href="#usage-fink.invisible-sw">5.16 I want to hide /sw in the Finder to keep users from damaging the Fink setup.</a></li><li><a href="#usage-fink.install-info-bad">5.17 I can't install anything, because I get the following error: "install-info: unrecognized option `--infodir=/sw/share/info'"</a></li><li><a href="#usage-fink.bad-list-file">5.18 I can't install or remove anything, because of a problem with a "files list file".</a></li><li><a href="#usage-fink.error-nineteen">5.19 When I use the Fink binary installer package, I get a big "19" in the window and can't install anything.</a></li><li><a href="#usage-fink.dselect-garbage">5.20 I get a bunch of garbage when I select packages in <tt style="white-space: nowrap;">dselect</tt>. How can I use it?</a></li><li><a href="#usage-fink.perl-undefined-symbol">5.21 Why do I get a bunch of "dyld: perl undefined symbols" errors when I run Fink commands?</a></li><li><a href="#usage-fink.cant-upgrade">5.22 I can't seem to update Fink's version.</a></li><li><a href="#usage-fink.spaces-in-directory">5.23 Can I put Fink in a volume or directory with a space in its name?</a></li><li><a href="#usage-fink.packages-gz">5.24 When I try to do a binary update, there are many messages with "File not found"</a></li><li><a href="#usage-fink.wrong-tree">5.25 I've changed my OS | Developer Tools, but Fink doesn't recognize the change.</a></li><li><a href="#usage-fink.seg-fault">5.26 I get errors with <tt style="white-space: nowrap;">gzip</tt> | <tt style="white-space: nowrap;">dpkg-deb</tt>I applications from the<tt style="white-space: nowrap;"> fileutils </tt>package! Help!</a></li><li><a href="#usage-fink.pathsetup-keeps-running">5.27 When I open a Terminal window, I get a message that "Your environment seems to be correctly
set up for Fink already.", and it logs out.</a></li></ul></li><li><a href="#comp-general"><b>6 Compile Problems - General</b></a><ul><li><a href="#comp-general.compiler">6.1 A configure script complains
that it can't find an "acceptable cc". What's that?</a></li><li><a href="#comp-general.cvs">6.2 When I try a "fink selfupdate-cvs" I get this message: "cvs: Command not found." </a></li><li><a href="#comp-general.missing-make">6.3 I'm getting an error message involving <tt style="white-space: nowrap;">make</tt>
        </a></li><li><a href="#comp-general.head">6.4 I'm getting a strange usage message
from the head command. What's broken?</a></li><li><a href="#comp-general.also_in">6.5 When I try to install a package I get an error message about trying to overwrite a file that is in another package.</a></li><li><a href="#comp-general.weak_lib">6.6 After I installed the December 2002 Development Tools I get messages about "weak libraries".</a></li><li><a href="#comp-general.mv-failed">6.7 What does "execution of mv failed, exit code 1" mean when I try to build a package?</a></li><li><a href="#comp-general.node-exists">6.8 I can't install a package | update because I get a message that a "node" already exists.</a></li><li><a href="#comp-general.usr-local-libs">6.9 I've heard that libraries installed in /usr/local/lib sometimes cause build problems for Fink. Is this true?</a></li><li><a href="#comp-general.toc-out-of-date">6.10 When I try to build a package, I get a message that a "table of contents" is out of date. What do I need to do?</a></li><li><a href="#comp-general.fc-atlas">6.11 Fink Commander hangs when I try to install atlas.</a></li><li><a href="#comp-general.basic-headers">6.12 I get messages saying that I'm missing stddef.h. Where do I find it?</a></li><li><a href="#comp-general.multiple-dependencies">6.13 I can't update, because Fink is "unable to resolve version conflict on multiple dependencies".</a></li><li><a href="#comp-general.dpkg-parse-error">6.14 I can't install anything because I get "dpkg: parse error, in file `/sw/var/lib/dpkg/status'"!</a></li><li><a href="#comp-general.freetype-problems">6.15 I get errors involving freetype.</a></li><li><a href="#comp-general.dlfcn-from-oo">6.16 I get build errors involving `Dl_info'.</a></li><li><a href="#comp-general.gcc2">6.17 Fink says I'm missing <tt style="white-space: nowrap;">gcc2</tt> but I can't seem to install it.</a></li></ul></li><li><a href="#comp-packages"><b>7 Compile Problems - Specific Packages</b></a><ul><li><a href="#comp-packages.libgtop">7.1 A package fails to build with errors involving <tt style="white-space: nowrap;">sed</tt>.</a></li><li><a href="#comp-packages.cant-install-xfree">7.2 I want to switch to Fink's XFree86 packages, but I can't install <tt style="white-space: nowrap;">xfree86-base</tt> | <tt style="white-space: nowrap;">xfree86</tt>, because it conflicts with <tt style="white-space: nowrap;">system-xfree86</tt>.</a></li><li><a href="#comp-packages.change-thread-nothread">7.3 How do I change from the non-threaded version of Fink's XFree86 packages to the threaded version (or vice-versa)?</a></li><li><a href="#comp-packages.cctools">7.4 "When I try to install KDE, I get the following message: 'Can't resolve dependency "cctools (&gt;= 446-1)"'</a></li></ul></li><li><a href="#usage-general"><b>8 Package Usage Problems - General</b></a><ul><li><a href="#usage-general.xlocale">8.1 I'm getting lots of messages
like "locale not supported by C library". Is that bad?</a></li><li><a href="#usage-general.passwd">8.2 There are suddenly a number of 
strange users on my system, with names like "mysql", "pgsql", and "games".
Where did they come from?</a></li><li><a href="#usage-general.compile-myself">8.3 How do I compile something
myself using Fink-installed software?</a></li><li><a href="#usage-general.apple-x11-applications-menu">8.4 I can't run any of my Fink-installed applications using the Applications menu in Apple X11.</a></li><li><a href="#usage-general.x-options">8.5 I'm bewildered by the X11 options: Apple X11, XFree86, etc. What should I install?</a></li><li><a href="#usage-general.no-display">8.6 When I try to run an application, I get a message that says "cannot open display:". What do I need to do?</a></li><li><a href="#usage-general.suggest-package">8.7 I don't see my favorite program in Fink. How do I suggest a new package for inclusion in Fink?</a></li></ul></li><li><a href="#usage-packages"><b>9 Package Usage Problems - Specific Packages</b></a><ul><li><a href="#usage-packages.xmms-quiet">9.1 I get no sound from
XMMS</a></li><li><a href="#usage-packages.nedit-window-locks">9.2 If I am editing a file in nedit, when I open another file its window pops up but is unresponsive.</a></li><li><a href="#usage-packages.xdarwin-start">9.3 Help! When I start
XDarwin, it immediately quits!</a></li><li><a href="#usage-packages.no-server">9.4 When I try to start XDarwin I get the message "xinit: No such file or directory (errno 2): no server "/usr/X11R6/bin/X" in PATH".</a></li><li><a href="#usage-packages.xterm-error">9.5 xterm fails with "dyld: xterm Undefined symbols: xterm undefined reference to _tgetent expected to be defined in /usr/lib/libSystem.B.dylib".</a></li><li><a href="#usage-packages.libXmuu">9.6 When I try to start XFree86 I get one of the following errors: "dyld: xinit can't open library: /usr/X11R6/lib/libXmuu.1.dylib" or "dyld: xinit can't open library: /usr/X11R6/lib/libXext.6.dylib"</a></li><li><a href="#usage-packages.apple-x-bugs">9.7 I had Fink's XFree86 installed, and I've replaced it with Apple's X11, and now everything's crashing!</a></li><li><a href="#usage-packages.apple-x-delete">9.8 I want the delete key in Apple's X11.app to behave like that in XDarwin.</a></li><li><a href="#usage-packages.gnome-two">9.9 I upgraded from GNOME 1.x to GNOME 2.x and now <tt style="white-space: nowrap;">gnome-session</tt> won't open a window manager.</a></li><li><a href="#usage-packages.apple-x11-no-windowbar">9.10 I upgraded to Apple's X11 in Panther and now my window title bars are missing.</a></li><li><a href="#usage-packages.apple-x11-wants-xfree86">9.11 I installed Apple's X11 in Panther but Fink keeps asking to install xfree86.</a></li><li><a href="#usage-packages.apple-x11-beta-wants-xfree86">9.12 I installed Apple's X11 with the 10.2-gcc3.3 version of Fink but Fink keeps asking to install xfree86.</a></li></ul></li></ul><h2><a name="general">1 General Questions</a></h2>
    
    
    <a name="general.what">
      <div class="question"><p><b>Q1.1: What is Fink?</b></p></div>
      <div class="answer"><p><b>A:</b> 
Fink wants to bring more Unix software to Mac OS X, which results in
two main goals:
</p><p>
Goal number one is porting software to Mac OS X.
That means we take commodity Open Source Unix software and fix
whatever is necessary so that it will compile and run on Mac OS X.
Sometimes that's easy, but it can also be very hard or even impossible
for some packages.
We're trying to provide tools and documentation to make this easier.
</p><p>
Goal number two is making the results available to casual users.
For this, we build a distribution using package management tools
ported over from Linux, namely <tt style="white-space: nowrap;">dpkg</tt> and
<tt style="white-space: nowrap;">apt-get</tt>, written by and for the <a href="http://www.debian.org/">Debian GNU/Linux</a> project.
The binary distribution uses the <tt style="white-space: nowrap;">.deb</tt> package format.
For building packages from source, we have our own tool, named
<tt style="white-space: nowrap;">fink</tt>, which creates those <tt style="white-space: nowrap;">.deb</tt> package
files.
</p></div>
    </a>
    <a name="general.naming">
      <div class="question"><p><b>Q1.2: What does the name Fink stand for?</b></p></div>
      <div class="answer"><p><b>A:</b> Nothing, it's just a name. It's not even an acronym.</p><p>Well, actually Fink is the German name for Finch, a kind of
bird. I was looking for a name for the project, and the name of the
OS, Darwin, led me to think about Charles Darwin, the Galapagos
Islands and evolution. I remembered a piece about the so-called Darwin
Finches and their beaks from school, and well, that's it...</p></div>
    </a>
    <a name="general.bsd-ports">
      <div class="question"><p><b>Q1.3: How is Fink different
from the BSD port mechanism (this includes OpenPackages and
GNU-Darwin)?</b></p></div>
      <div class="answer"><p><b>A:</b> Some main advantages:</p><ul>
          <li>
            <p>
It's written in Perl, not make/shell.
Thus it doesn't rely on special features only found in BSD make.
There is no need to flag packages that need GNU make to build.
</p>
          </li>
          <li>
            <p>
dpkg provides sophisticated management for binary packages - smooth
updating, special handling for configuration files, virtual packages
and other advanced dependencies.
</p>
          </li>
          <li>
            <p>
Fink doesn't install into /usr/local unless explicitly requested and
doesn't require fiddling with /usr/bin/make or other system-provided
commands.
That makes it safer to use and reduces interference with Mac OS X and
third-party packages to a minimum.
</p>
          </li>
        </ul></div>
    </a>
    <a name="general.usr-local">
      <div class="question"><p><b>Q1.4: Why doesn't Fink install into
/usr/local?</b></p></div>
      <div class="answer"><p><b>A:</b> There are several reasons, but the common line is "because
breakage will occur".</p><p>Reason One: Third-party software. /usr/local is the
well-established place to put software that is not part of the system
shipped by the original vendor. This means that it is a good place to
put stuff. However, it also means that other people will put stuff
there, too. Most install routines will just overwrite what's there -
this also applies to dpkg. One can, of course, choose not to install
third-party software in /usr/local. Unfortunately, most installers
don't tell you beforehand what they will install where.</p><p>Reason Two: /usr/local/bin is in the default PATH. This means that
your shell will find the installed programs without additional
measures. But it also means that you do have to take additional
measures if you do not want to use the programs. In extreme cases,
this can also affect the system itself - many parts depend on shell
scripts.</p><p>Reason Three: The compiler tool chain searches /usr/local by
default. The compiler searches /usr/local/include for header files and
the linker searches /usr/local/lib for libraries. Again, this is
sometimes a welcome convenience, but it's very hard to disable should
the need arise. You can easily disable the compiler by putting a
garbage file called <tt style="white-space: nowrap;">stdio.h</tt> into /usr/local/include.</p><p>All that said, it is possible to install Fink into /usr/local. The
installation script will warn you explicitly, but proceed once you
acknowledge that you're doing this at your own risk.</p></div>
    </a>
    <a name="general.why-sw">
      <div class="question"><p><b>Q1.5: Then why did you choose
/sw?</b></p></div>
      <div class="answer"><p><b>A:</b> That choice is quite arbitrary, but is likely to stay for
the foreseeable future for practical (upgrade) issues as well as the
fact that it's safe from conflicting with other packaging systems.</p></div>
    </a>
  <h2><a name="relations">2 Relations with Other Projects</a></h2>
    
    
    <a name="relations.upstream">
      <div class="question"><p><b>Q2.1: Do you contribute your patches
back to the upstream maintainers?</b></p></div>
      <div class="answer"><p><b>A:</b> 
We're trying to.
Sometimes sending patches back is easy and everyone is happy once the
next release of the package is out.
Unfortunately with most packages it's not that easy.
Some common problems:
</p><ul>
          <li>The Fink package maintainer is very busy and doesn't have the time
to send the patch and accompanying explanations to the upstream
maintainers.</li>
          <li>The upstream maintainers reject the patch. There are lots of valid
reasons for this. Most upstream maintainers have a strong interest in
clean code, clean configure checks, and compatibility with other
platforms.</li>
          <li>The upstream maintainers accept the patch, but it takes some weeks
or months until they release a new version of their package.</li>
          <li>The package has been abandoned by the original authors and there
will be no new releases into which the patch could be merged.</li>
        </ul></div>
    </a>
    <a name="relations.debian">
      <div class="question"><p><b>Q2.2: What is your relation with the
Debian project? Are you porting Debian Linux to Mac OS X?</b></p></div>
      <div class="answer"><p><b>A:</b> 
There is no formal relation between Fink and
<a href="http://www.debian.org">Debian</a>.
Fink is <b>not</b> a port of the Debian GNU/Linux distribution.
We have ported Debian's package management tools (dpkg, dselect,
apt-get) though, and use these tools and the .deb binary package
format.
The actual packages are tailor-made for Mac OS X / Darwin and don't
use the Debian source package format.
</p></div>
    </a>
    <a name="relations.apple">
      <div class="question"><p><b>Q2.3: What is your relation with
Apple?</b></p></div>
      <div class="answer"><p><b>A:</b> 
          <a href="http://www.apple.com/">Apple</a> is aware of Fink and
has given us some support as part of their Open Source relations
efforts.
In the summer and fall of 2001, they provided us with pre-release seeds of
new Mac OS X 
versions in the hope that Fink packages can be adapted in time for the
release.
Quote:
<b>"Hopefully it underscores the commitment that many suspect we're
not willing to provide. We'll get better at the open source game over
time."</b>
Thanks Apple!
</p></div>
    </a>
    <a name="relations.openosx">
      <div class="question"><p><b>Q2.4: What is your relation with OpenOSX.com?</b></p></div>
      <div class="answer"><p><b>A:</b> 
They used Fink to build the first release of their GIMP CD and refuse
to acknowledge that properly.
Read the <a href="http://fink.sourceforge.net/pr/openosx.php">public
statement</a> for details.
</p></div>
    </a>
    <a name="relations.forked">
      <div class="question"><p><b>Q2.5: What is your relation with macosx.forked.net?</b></p></div>
      <div class="answer"><p><b>A:</b> 
That site redistributes some Fink packages as Installer.app packages,
unchanged but with their own boilerplate that doesn't mention Fink.
Read the <a href="http://fink.sourceforge.net/pr/forked.php">public
statement</a> for details.
</p></div>
    </a>
    <a name="relations.darwinports">
      <div class="question"><p><b>Q2.6: What is your relation with Darwinports?</b></p></div>
      <div class="answer"><p><b>A:</b> 
			Darwinports and Fink are complementary projects. There is some
			overlap between the two projects, and several people contribute to
			both the Fink and OpenDarwin projects. For example, Benjamin Reed
			is doing the KDE packages for both. Darwinports/OpenDarwin makes
			use of patches from Fink, and we have discussed collaboration
			on a new dependency engine.
		</p><p>
			OpenDarwin started from scratch to try a different approach to a
			packaging system. Read the statement on <a href="http://www.opendarwin.org/projects/darwinports/en/faq.php">OpenDarwin.org</a>
			for details.
		</p></div>
    </a>
  <h2><a name="mirrors">3 Fink mirrors</a></h2>
    
    
    <a name="mirrors.when-use">
      <div class="question"><p><b>Q3.1: What are Fink Mirrors?</b></p></div>
      <div class="answer"><p><b>A:</b> 
	Fink mirrors are rsync servers mirroring the current and stable
description files that Fink uses to build packages from source.
       </p></div>
    </a>
    <a name="mirrors.why">
      <div class="question"><p><b>Q3.2: Why should I use rsync mirrors?</b></p></div>
      <div class="answer"><p><b>A:</b> Rsync is a very fast protocol.  It will update the description files
faster than the old CVS update method. Furthermore, CVS updates are
    always done from sourceforge.net while rsync updates can be done
from a mirror close to you.</p></div>
    </a>
    <a name="mirrors.where">
      <div class="question"><p><b>Q3.3: Where can I find more information about Fink mirrors?</b></p></div>
      <div class="answer"><p><b>A:</b> All Fink mirrors are consolidated under the finkmirrors.net
domain. The Web-Site at http://finkmirrors.net/ has more information.
</p></div>
    </a>
    <a name="mirrors.when-not">
      <div class="question"><p><b>Q3.4: I cannot connect to rsync server, what should I do?</b></p></div>
      <div class="answer"><p><b>A:</b> Sometimes very strict firewalls forbid you to connect to
rsync services. If that is the case simply continue using the CVS
method
</p></div>
    </a>
    <a name="mirrors.otherinfogone">
      <div class="question"><p><b>Q3.5: I have switched to the rsync method now all info files from
the unused trees are gone</b></p></div>
      <div class="answer"><p><b>A:</b> This is normal. The rsync update method will only update
your active tree, e.g. 10.3, and it will also delete the CVS
subdirectories.
</p></div>
    </a>
    <a name="mirrors.howswitch">
      <div class="question"><p><b>Q3.6: How can I switch back and forth between methods.</b></p></div>
      <div class="answer"><p><b>A:</b> By using fink selfupdate-rsync or fink selfupdate-cvs to switch to rsync or CVS, respectively.</p></div>
    </a>
    <a name="mirrors.status">
      <div class="question"><p><b>Q3.7: Can I see what the current status of rsync mirrors is?</b></p></div>
      <div class="answer"><p><b>A:</b> Yes, go to http://finkmirrors.net/status.html</p></div>
    </a>
    <a name="mirrors.Master">
      <div class="question"><p><b>Q3.8: What is a Distfiles mirror?</b></p></div>
      <div class="answer"><p><b>A:</b> Sometimes it is hard to fetch a certain version of sources
from the Internet. Distfile mirrors hold and mirror the source packages
needed by fink to build its source packages.</p></div>
    </a>
  <h2><a name="upgrade-fink">4 Upgrading Fink (version-specific troubleshooting)</a></h2>
    
    
    <a name="upgrade-fink.gcc-0.16.0">
      <div class="question"><p><b>Q4.1: I just upgraded to 0.16.0 and it tells me "Your version of the
gcc 3.3 compiler is out of date." What do I do?</b></p></div>
      <div class="answer"><p><b>A:</b> As of the release of Panther, Fink has been updated to understand
the newer gcc 3.3 compiler. In order to be able to support users
on both 10.2 (Jaguar) and 10.3 (Panther), we are requiring all users
to install the latest gcc 3.3 update (August 2003 Updater, and the
Panther XCode tools, respectively). You will get this warning if
you installed the earlier XCode beta updater for Mac OS X 10.2's
December 2002 developer tools. If you're on 10.2, the command:
</p><pre>gcc --version</pre><p>...should tell you what version you have. As of October 24th,
2003, we require build 1493 or higher.</p><p>10.2 users can download the August 2003 Updater from <a href="http://developer.apple.com/">Apple Developer Connection</a>
(free registration required).</p><p>10.3 users should upgrade to a Panther-compatible developer tools
release (i.e. XCode). A CD with XCode should have been provided
with your Panther media.</p></div>
    </a>
  <h2><a name="usage-fink">5 Installing, Using and Maintaining Fink</a></h2>
    
    
    <a name="usage-fink.what-packages">
      <div class="question"><p><b>Q5.1: How can I find out what packages
Fink supports?</b></p></div>
      <div class="answer"><p><b>A:</b> 
Since Fink 0.2.3, there is the <tt style="white-space: nowrap;">list</tt> command.
It produces a list of all packages known to your Fink installation.
Example:
</p><pre>fink list</pre><p>
If you're using the binary distribution, <tt style="white-space: nowrap;">dselect</tt> gives
you a nice browsable listing of available packages.
Note that you must run it as root if you want to select and install
packages from within dselect.
</p><p>
There's also the <a href="http://fink.sourceforge.net/pdb/">package
database</a> at the website.
</p></div>
    </a>
    <a name="usage-fink.proxy">
      <div class="question"><p><b>Q5.2: I'm behind a firewall. How do I
configure Fink to use an HTTP proxy?</b></p></div>
      <div class="answer"><p><b>A:</b> The <tt style="white-space: nowrap;">fink</tt> command supports explicit proxy settings that
are passed on to <tt style="white-space: nowrap;">wget</tt>/<tt style="white-space: nowrap;">curl</tt>.
If you were not asked for proxies on first time installation, you can
run <tt style="white-space: nowrap;">fink configure</tt> to set it up.
You can also run that command at any time to reconfigure the
<tt style="white-space: nowrap;">fink</tt> command.
If you followed the instructions in the installation guide, and use
<tt style="white-space: nowrap;">/sw/bin/init.csh</tt> (or <tt style="white-space: nowrap;">/sw/bin/init.sh</tt>),
then <tt style="white-space: nowrap;">apt-get</tt> and <tt style="white-space: nowrap;">dselect</tt> also will use these
proxy settings. Make sure that you put the protocol in front of the proxy, e.g.</p><pre>ftp://proxy.yoursite.somewhere</pre><p>If you are still having problems, go into System Preferences, select the Network pane, select the Proxies tab, and make sure that the box labeled "Use Passive FTP Mode (PASV)" is checked.</p></div>
    </a>
    <a name="usage-fink.firewalled-cvs">
      <div class="question"><p><b>Q5.3: How do I update available packages from CVS when I am behind a firewall?</b></p></div>
      <div class="answer"><p><b>A:</b> The package <b>cvs-proxy</b> can tunnel through HTTP proxies.</p><ul>
          <li>
            <p>First download the <a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/fink/dists/10.2/unstable/main/finkinfo/devel/">cvs-proxy</a> files (an .info file and a .patch file) and place them into your local tree (i.e. /sw/fink/dists/local/main/finkinfo/).</p>
          </li>
          <li>
            <p>Install the <b>cvs-proxy</b> package with the command:</p>
            <p>
              <tt style="white-space: nowrap;">fink install <b>cvs-proxy</b>
              </tt>
            </p>
          </li>
          <li>
            <p>Packages are then updated with the commands:</p>
            <p>
              <tt style="white-space: nowrap;">fink selfupdate-cvs</tt>
            </p>
            <p>
              <tt style="white-space: nowrap;">fink update-all</tt>
            </p>
          </li>
        </ul><p>If fink is not configured to use your proxy, change the settings using:</p><p>
          <tt style="white-space: nowrap;">fink configure</tt>.</p></div>
    </a>
    <a name="usage-fink.moving">
      <div class="question"><p><b>Q5.4: Can I move Fink to another
location after installation?</b></p></div>
      <div class="answer"><p><b>A:</b> 
No.
Well, of course you can move the files using mv or the Finder, but 99%
of the programs will stop working when you do.
That's because basically all Unix software depends on hardcoded paths
to find data files, libraries and other stuff.
</p></div>
    </a>
    <a name="usage-fink.moving-symlink">
      <div class="question"><p><b>Q5.5: If I move Fink after
installation and provide a symlink from the old location, will it
work?</b></p></div>
      <div class="answer"><p><b>A:</b> 
Maybe.
The general expectation is that it should work, but there may be
hidden traps somewhere.
</p></div>
    </a>
    <a name="usage-fink.removing">
      <div class="question"><p><b>Q5.6: How can I uninstall all of Fink?</b></p></div>
      <div class="answer"><p><b>A:</b> 
Almost all files installed by Fink are in /sw (or wherever you chose
to install it). Thus in order to get rid of Fink, enter this command:
</p><pre>sudo rm -rf /sw</pre><p>
The only exception to this rule is XFree86. If you installed XFree86 through
Fink (i.e., you installed the <tt style="white-space: nowrap;">xfree86</tt> or 
<tt style="white-space: nowrap;">xfree86-rootless</tt> packages,
instead of using <tt style="white-space: nowrap;">system-xfree86</tt>) and want to remove it, you 
will need additionally to enter this:
</p><pre>sudo rm -rf /usr/X11R6 /etc/X11 /Applications/XDarwin.app</pre><p>If you aren't planning to reinstall Fink you also will want to remove 
the "<tt style="white-space: nowrap;">source 
/sw/bin/init.csh</tt>" line you added to your 
<tt style="white-space: nowrap;">.cshrc</tt> file or the 
"<tt style="white-space: nowrap;">source /sw/bin/init.sh</tt>" line you added to your 
<tt style="white-space: nowrap;">.bashrc</tt> file, whichever is appropriate to your setup,  
using a text editor.</p></div>
    </a>
    <a name="usage-fink.bindist">
      <div class="question"><p><b>Q5.7: The package database at the
website lists package xxx, but apt-get and dselect know nothing about
it. Who's lying?</b></p></div>
      <div class="answer"><p><b>A:</b> 
Both are correct.
The <a href="http://fink.sourceforge.net/pdb/">package database</a>
knows about every package, including those that are still in the
unstable section.
The <tt style="white-space: nowrap;">dselect</tt> and <tt style="white-space: nowrap;">apt-get</tt> tools on the other
hand only know about the packages available as precompiled binary
packages.
Many packages are not available in precompiled form through these
tools for a variety of reasons.
A package must be in the "stable" section of the latest point release
to be considered, and it must pass additional checks for policy
compliance as well as licensing and patent restrictions.
</p><p>
If you want to install a package that is not available via
<tt style="white-space: nowrap;">dselect</tt> / <tt style="white-space: nowrap;">apt-get</tt>, you have to compile it
from source using <tt style="white-space: nowrap;">fink install <b>packagename</b>
          </tt>.
Make sure you have the Developer Tools installed before you try this.
(If there is no installer for the Developer Tools in your
<tt style="white-space: nowrap;">/Applications</tt> folder, you can get them from the <a href="http://connect.apple.com/">Apple Developer Connection</a> after free registration.)
See also the question about unstable below.
</p></div>
    </a>
    <a name="usage-fink.unstable">
      <div class="question"><p><b>Q5.8: There's this package in unstable that I want to install, but the fink command just says 'no package found'. How can I install it?</b></p></div>
      <div class="answer"><p><b>A:</b> First make sure you understand what 'unstable' means. Packages in the unstable tree usually have not been tested by more than a few people. For that reason, Fink doesn't search the unstable tree by default.  If you do enable unstable, please remember to e-mail the maintainer if something works (or even if it doesn't).  Feedback from users like you is what we use to determine if something is ready for stable!  To find out the maintainer of a package, run <tt style="white-space: nowrap;">fink info &lt;packagename&gt;</tt>.</p><p>Packages often have dependencies, and packages in unstable often depend on other packages in unstable. For that reason, it is best to activate all of unstable.</p><p>If you want Fink to use all of unstable, edit <tt style="white-space: nowrap;">/sw/etc/fink.conf</tt>, add <tt style="white-space: nowrap;">unstable/main</tt> and <tt style="white-space: nowrap;">unstable/crypto</tt> to the <tt style="white-space: nowrap;">Trees:</tt> line, and then run <tt style="white-space: nowrap;">fink selfupdate; fink index</tt>.</p><p>If you only want one or two specific packages, and nothing else from unstable, then you need to switch over to CVS updating (i.e. use <tt style="white-space: nowrap;">fink selfupdate-cvs</tt>), because rsync only updates the trees that are active in your <tt style="white-space: nowrap;">fink.conf</tt>. 
		Edit <tt style="white-space: nowrap;">/sw/etc/fink.conf</tt> and add <tt style="white-space: nowrap;">local/main</tt> to the <tt style="white-space: nowrap;">Trees:</tt> line, if not present. Then you'll need to run <tt style="white-space: nowrap;">fink selfupdate</tt> to download the package description files. Now copy the relevant <tt style="white-space: nowrap;">.info</tt> files 
		(and their associated <tt style="white-space: nowrap;">.patch</tt> files, if there are any) from <tt style="white-space: nowrap;">/sw/fink/dists/unstable/main/finkinfo</tt> (or <tt style="white-space: nowrap;">/sw/fink/dists/unstable/crypto/finkinfo</tt>) to <tt style="white-space: nowrap;">/sw/fink/dists/local/main/finkinfo</tt>. However, note that your package may depend on other packages (or particular 
		versions) which are also only in unstable.  You will have to move their <tt style="white-space: nowrap;">.info</tt> and <tt style="white-space: nowrap;">.patch</tt> files as well.  After you move all of the files, make sure to run <tt style="white-space: nowrap;">fink index</tt>, so that Fink's record of available packages is updated.
		Once you're done you can switch back to rsync (<tt style="white-space: nowrap;">fink selfupdate-rsync</tt>) if you want.</p></div>
    </a>
    <a name="usage-fink.sudo">
      <div class="question"><p><b>Q5.9: I'm tired of typing my password into sudo again
and again. Is there a way around this?</b></p></div>
      <div class="answer"><p><b>A:</b> If you're not paranoid, you can configure sudo to not ask you for a
password. To do this, edit <tt style="white-space: nowrap;">/etc/sudoers</tt> as root
and add a line like this:</p><pre>username ALL = NOPASSWD: ALL</pre><p>Replace <tt style="white-space: nowrap;">username</tt> with your actual username, of course. This
line allows you to run any command via sudo without typing your
password.</p></div>
    </a>
    <a name="usage-fink.exec-init-csh">
      <div class="question"><p><b>Q5.10: When I try to run init.csh or init.sh, I get a "Permission denied" error. What am I doing wrong?</b></p></div>
      <div class="answer"><p><b>A:</b> init.csh and init.sh are not supposed to be run like normal commands. These files set environment variables like PATH and MANPATH in your shell. To have a lasting effect on the shell, it must be processed with the <tt style="white-space: nowrap;">source</tt> command, like this:</p><pre>source /sw/bin/init.csh</pre><p>for csh/tcsh</p><pre>source /sw/bin/init.sh</pre><p>or for bash.</p></div>
    </a>
    <a name="usage-fink.dselect-access">
      <div class="question"><p><b>Q5.11: Help! I used the
"[A]ccess" menu entry in dselect and now I can't download packages any
more!</b></p></div>
      <div class="answer"><p><b>A:</b> 
You probably pointed apt at a Debian mirror, which of course doesn't
have the Fink files.
You can fix this manually or through dselect.
To fix it manually, edit the file
<tt style="white-space: nowrap;">/sw/etc/apt/sources.list</tt> in a text editor as root.
Remove lines that mention debian.org and replace them with these:
</p><pre>deb http://us.dl.sourceforge.net/fink/direct_download release main crypto
deb http://us.dl.sourceforge.net/fink/direct_download current main crypto</pre><p>
(Or if you live in Europe, you can use <tt style="white-space: nowrap;">eu.dl.sourceforge.net</tt>
instead of <tt style="white-space: nowrap;">us.dl.sourceforge.net</tt>)
</p><p>
To fix it through dselect, run "[A]ccess" again, choose the "apt"
method and enter the following info:
</p><p>
URL: http://us.dl.sourceforge.net/fink/direct_download -
Distribution: release -
Components: main crypto
</p><p>
Then, say you want to add another source and repeat the process with
"current" instead of "release".
</p><p>
A fixed version of the apt package (which provides the configuration
script as a plug-in for dselect) is making it's way through CVS now.
</p></div>
    </a>
    <a name="usage-fink.cvs-busy">
      <div class="question"><p><b>Q5.12: When I try to run <q>fink selfupdate</q> or "fink selfupdate-cvs", I get the error "<tt style="white-space: nowrap;">Updating using CVS failed. Check the error messages above.</tt>"</b></p></div>
      <div class="answer"><p><b>A:</b> If the message is</p><pre>Can't exec "cvs": No such file or directory at 
/sw/lib/perl5/Fink/Services.pm line 216, &lt;STDIN&gt; line 3.
### execution of cvs failed, exit code -1</pre><p>then you need to install the Developer Tools.</p><p>If, on the other hand, the last line is</p><pre>### execution of su failed, exit code 1</pre><p>you'll need to look further back in the output to see the error. If you see a message that your connection was refused:</p><pre>(Logging in to anonymous@cvs.sourceforge.net)
CVS password:
cvs [login aborted]: connect to cvs.sourceforge.net:2401 failed:
Connection refused
### execution of su failed, exit code 1
Failed: Logging into the CVS server for anonymous read-only access failed.</pre><p>or a message like the following:</p><pre>cvs [update aborted]: recv() from server cvs.sourceforge.net: 
Connection reset by peer
### execution of su failed, exit code 1
Failed: Updating using CVS failed. Check the error messages above.</pre><p>or</p><pre>cvs [update aborted]: End of file received from server</pre><p>or</p><pre>cvs [update aborted]: received broken pipe signal</pre><p>then it's likely that the cvs servers are overloaded and you have to try the update later.</p><p>Another possibility is that you have some bad permissions in your CVS directories, in which case you get "Permission denied" messages:</p><pre>cvs update: in directory 10.2/stable/main:
cvs update: cannot open CVS/Entries for reading: No such file or directory
cvs server: Updating 10.2/stable/main
cvs update: cannot write 10.2/stable/main/.cvsignore: Permission denied
cvs [update aborted]: cannot make directory 10.2/stable/main/finkinfo: No such file or directory
### execution of su failed, exit code 1
Failed: Updating using CVS failed. Check the error messages above.
</pre><p>In this case you need to reset your cvs directories. Use the command:</p><pre>sudo find /sw/fink -type d -name 'CVS' -exec rm -rf {} \;
fink selfupdate-cvs</pre><p>If, you don't see either of the above messages, then this almost always means you've modified a file in your /sw/fink/dists tree and now the maintainer has changed it. Look further back in the selfupdate-cvs output for lines that start with "C", like so:
</p><pre>C 10.2/unstable/main/finkinfo/libs/db31-3.1.17-6.info
...
(other info and patch files)
...
### execution of su failed, exit code 1
Failed: Updating using CVS failed. Check the error messages above.</pre><p>The "C" means CVS had a conflict in trying to update the latest version.</p><p>The fix is to delete any files that show up as starting with "C" in the output of selfupdate-cvs, and try again.</p><pre>sudo rm /sw/fink/10.2/unstable/main/finkinfo/libs/db31-3.1.17-6.info
fink selfupdate-cvs</pre></div>
    </a>
    <a name="usage-fink.kernel-panics">
      <div class="question"><p><b>Q5.13: When I use Fink, my whole machine 
freezes up/kernel panics/dies. Help!</b></p></div>
      <div class="answer"><p><b>A:</b>  A number of recent reports on the 
<a href="http://sourceforge.net/mailarchive/forum.php?forum=fink-users">fink-users
mailing list</a> have indicated problems (including kernel panics and
infinite hangs during patching) when using Fink to compile packages while
anti-virus software is installed. You may need to switch off any anti-virus
software before using Fink.
</p></div>
    </a>
    <a name="usage-fink.not-found">
      <div class="question"><p><b>Q5.14: I'm trying to install a package, but Fink can't download it. The download site shows a later version number of the package than what Fink has. What do I do?</b></p></div>
      <div class="answer"><p><b>A:</b> The package sources get moved around by the upstream sites when new
versions are released.</p><p>The first thing you should do is run <tt style="white-space: nowrap;">fink selfupdate</tt>.
It may be that the package maintainer has already fixed this, and you will
get an updated package description with either a more recent version or a
revised download URL.</p><p>If this doesn't work, most sources are available on <a href="http://distfiles.master.finkmirrors.net/">http://distfiles.master.finkmirrors.net/</a> (thanks to Rob Braun) , and you can run <tt style="white-space: nowrap;">fink configure</tt> to choose to search "Master" source mirrors so that Fink will automatically look there.</p><p>If this doesn't work, please let the package maintainer (available from "<tt style="white-space: nowrap;">fink describe <b>packagename</b>
          </tt>") know that the URL is broken; not all maintainers read the mailing lists all of the time.</p><p>To get a usable source, first try hunting around the remote site in
other directories for the same version of the source that Fink wants 
(e.g. in an "old"
directory). Keep in mind, though, that some remote sites like to trash the
old versions of their packages. If the official site doesn't have it, then
try a web search--sometimes there are unofficial sites that have the 
tarball you want. Another place to look is <a href="http://us.dl.sourceforge.net/fink/direct_download/source/">http://us.dl.sourceforge.net/fink/direct_download/source/</a>, 
which is where Fink stores sourcefiles from packages that have been 
released in binary form. If all of the above fail, then you might consider posting on the
<a href="http://sourceforge.net/mailarchive/forum.php?forum=fink-users">fink-users
mailing list</a> to ask if anybody has the old source available to give
you. </p><p>Once you locate the proper source tarball, download it manually, and then move the file into your Fink source location (i.e. for a default Fink install, "<tt style="white-space: nowrap;">sudo mv <b>package-source.tar.gz</b> /sw/src/</tt>". Then use '<tt style="white-space: nowrap;">fink install <b>packagename</b>
          </tt>' as normal.</p><p>If you can't get the source file, then you'll have to wait for the maintainer to deal with the problem. They may either post a link to the old source, or update the .info and .patch files to use the newer version.
</p></div>
    </a>
    <a name="usage-fink.fink-not-found">
      <div class="question"><p><b>Q5.15: I get "command not found" errors when I run Fink or anything that I installed with Fink.</b></p></div>
      <div class="answer"><p><b>A:</b> If this always happens, then you may have inadvertently modified your startup scripts.  Run the <tt style="white-space: nowrap;">/sw/bin/pathsetup.command</tt> script (either by double-clicking in the Finder or in a terminal), which will attempt to detect your startup configuration.  You'll then need to open a new terminal session so that your environment settings are loaded.</p><p>On the other hand, if you only have problems in the Apple X11 terminal, this probably means that you need to create a <a href="http://fink.sourceforge.net/doc/x11/run-xfree86.php#xinitrc">.xinitrc</a> file and add the line</p><pre>. /sw/bin/init.sh</pre><p>near the beginning (i.e. before any programs get run).  Restart X11 (if running) after you do this.</p></div>
    </a>
    <a name="usage-fink.invisible-sw">
      <div class="question"><p><b>Q5.16: I want to hide /sw in the Finder to keep users from damaging the Fink setup.</b></p></div>
      <div class="answer"><p><b>A:</b> You can indeed do this. If you have the Development Tools installed, then you can run the following command:</p><pre>sudo /Developer/Tools/SetFile -a V /sw</pre><p>This makes /sw invisible, just like the standard system folders (/usr, etc.). If you don't have the Developer Tools, there are various third-party applications that let you manipulate file attributes--you need to set /sw to be invisible.</p></div>
    </a>
    <a name="usage-fink.install-info-bad">
      <div class="question"><p><b>Q5.17: I can't install anything, because I get the following error: "install-info: unrecognized option `--infodir=/sw/share/info'"</b></p></div>
      <div class="answer"><p><b>A:</b> This usually is due to a problem in your PATH. In a terminal window type:</p><pre>printenv PATH</pre><p>If <tt style="white-space: nowrap;">/sw/sbin</tt> doesn't appear at all, then you need to set your environment up as per the <a href="http://fink.sourceforge.net/doc/users-guide/install.php#setup">instructions</a> in the Users Guide. If <tt style="white-space: nowrap;">/sw/sbin</tt> is there, but there are other directories ahead of it (e.g. <tt style="white-space: nowrap;">/usr/local/bin</tt>), then you will either want to reorder your PATH so that <tt style="white-space: nowrap;">/sw/sbin</tt> is near the beginning, or if you really need the other directory to be before <tt style="white-space: nowrap;">/sw/sbin</tt>, then you'll want to temporarily rename the other <tt style="white-space: nowrap;">install-info</tt> when you use Fink.</p></div>
    </a>
    <a name="usage-fink.bad-list-file">
      <div class="question"><p><b>Q5.18: I can't install or remove anything, because of a problem with a "files list file".</b></p></div>
      <div class="answer"><p><b>A:</b> Typically these errors take the form:</p><pre>files list file for package <b>packagename</b> contains empty filename</pre><p>or</p><pre>files list file for package <b>packagename</b> is missing final newline</pre><p>This can be fixed, with a little work. If you have the .deb file for the offending package currently available on your system, then check its integrity by running</p><pre>dpkg --contents <b>full-path-to-debfile</b>
        </pre><p>e.g.</p><pre>dpkg --contents /sw/fink/debs/libgnomeui2-dev_2.0.6-2_darwin-powerpc.deb</pre><p>If you get back a listing of directories and files, then your .deb is OK. If the output is something other than directories and files, or if you don't have the .deb file, you can still proceed because the error doesn't interfere with builds.</p><p>If you have been installing from the binary distribution or you know for sure that the version in the binary distribution is the same as what you have installed (e.g. by checking the <a href="http://fink.sourceforge.net/pdb/index.php">package database</a>), then you can get a .deb file by running <tt style="white-space: nowrap;">sudo apt=get install --reinstall --download-only <b>packagename</b>
          </tt>. Otherwise you can build one yourself by running <tt style="white-space: nowrap;">fink rebuild <b>packagename</b>
          </tt>, but it won't install yet.</p><p>Once you have a valid .deb file, then you can reconstitute the file. First become root by using <tt style="white-space: nowrap;">sudo -s</tt> (enter your administrative user password if necessary), and then use the following command (on one line--it's split for readability here):</p><pre>dpkg -c <b>full-path-to-debfile</b>
  | awk '{if ($6 == "./"){ print "/."; } else if (substr($6, length($6), 1) == "/")
    {print substr($6, 2, length($6) - 2); } else { print substr($6, 2, length($6) - 1);}}' 
  &gt; /sw/var/lib/dpkg/info/<b>packagename</b>.list</pre><p>e.g.</p><pre>dpkg -c /sw/fink/debs/libgnomeui2-dev_2.0.6-2_darwin-powerpc.deb
  | awk '{if ($6 == "./") { print "/."; } else if (substr($6, length($6), 1) == "/")
   {print substr($6, 2, length($6) - 2); } else { print substr($6, 2, length($6) - 1);}}'
  &gt; /sw/var/lib/dpkg/info/libgnomeui2-dev.list</pre><p>What this does is to extract the contents of the .deb file, remove everything but the filenames, and write these to the .list file.</p></div>
    </a>
    <a name="usage-fink.error-nineteen">
      <div class="question"><p><b>Q5.19: When I use the Fink binary installer package, I get a big "19" in the window and can't install anything.</b></p></div>
      <div class="answer"><p><b>A:</b> The number 19 appears because your OS X system is localized to a language
other than English. (This is a bug in Apple's Installer, that it doesn't
just show you the English-language error message.)</p><p>The English language error message corresponding to number 19 is</p><p>"A root directory /sw exists. Please see the Read Me file for update instructions, or for information on installing Fink on a separate volume."</p><p>You may be getting this error if you've used Fink before, and didn't delete <tt style="white-space: nowrap;">/sw</tt>. If you haven't installed Fink before, the most likely cause of this
is that you installed the Virex program available for free to .Mac users.
As explained on Fink's webpage, Virex is incompatible with Fink (due to
the Virex folks having made errors in the way they set things up).</p></div>
    </a>
    <a name="usage-fink.dselect-garbage">
      <div class="question"><p><b>Q5.20: I get a bunch of garbage when I select packages in <tt style="white-space: nowrap;">dselect</tt>. How can I use it?</b></p></div>
      <div class="answer"><p><b>A:</b> There are issues between <tt style="white-space: nowrap;">dselect</tt> and <tt style="white-space: nowrap;">Terminal.app</tt>. A workaround is to enter the following command</p><p>tcsh users:</p><pre>setenv TERM xterm-color</pre><p>bash users:</p><pre>export TERM=xterm-color</pre><p>before you run <tt style="white-space: nowrap;">dselect</tt>.  You may want to put this in your startup file (e.g. <tt style="white-space: nowrap;">.cshrc</tt> | <tt style="white-space: nowrap;">.profile</tt>) so that it gets run all of the time.</p></div>
    </a>
    <a name="usage-fink.perl-undefined-symbol">
      <div class="question"><p><b>Q5.21: Why do I get a bunch of "dyld: perl undefined symbols" errors when I run Fink commands?</b></p></div>
      <div class="answer"><p><b>A:</b> If you see an error sequence like the following:</p><pre>dyld: perl Undefined symbols:
_Perl_safefree
_Perl_safemalloc
_Perl_saferealloc
_Perl_sv_2pv
_perl_call_sv
_perl_eval_sv
_perl_get_sv</pre><p>then what has probably happened is that you updated Perl to a new version and now <tt style="white-space: nowrap;">storable-pm</tt> needs to be updated. 
You should update Fink.  During the process you will be prompted to install either <tt style="white-space: nowrap;">perl-core</tt> or <tt style="white-space: nowrap;">system-perl</tt>; choose the latter. 
In addition, <tt style="white-space: nowrap;">storable-pm</tt> should also get updated.</p><p>For OS 10.1.x, perform the following commands (you'll need the Developer Tools):</p><pre>sudo mv /sw/lib/perl5/darwin/Storable.pm /tmp
sudo mv /sw/lib/perl5/darwin/auto/Storable /tmp
fink rebuild storable-pm
fink selfupdate-cvs</pre></div>
    </a>
    <a name="usage-fink.cant-upgrade">
      <div class="question"><p><b>Q5.22: I can't seem to update Fink's version.</b></p></div>
      <div class="answer"><p><b>A:</b> There are <a href="http://fink.sourceforge.net/download/fix-upgrade.php">special instructions</a> to follow under these circumstances.</p></div>
    </a>
    <a name="usage-fink.spaces-in-directory">
      <div class="question"><p><b>Q5.23: Can I put Fink in a volume or directory with a space in its name?</b></p></div>
      <div class="answer"><p><b>A:</b> We recommend against putting your Fink directory tree inside a directory with spaces in its name. It's just not worth the hassle.</p></div>
    </a>
    <a name="usage-fink.packages-gz">
      <div class="question"><p><b>Q5.24: When I try to do a binary update, there are many messages with "File not found"</b></p></div>
      <div class="answer"><p><b>A:</b> If you see something like the following:</p><pre>
Err file: local/main Packages
  File not found
Ign file: local/main Release
Err file: stable/main Packages
  File not found
Ign file: stable/main Release
Err file: stable/crypto Packages
  File not found
Ign file: stable/crypto Release
Hit http://us.dl.sourceforge.net 10.3/release/main Packages
Hit http://us.dl.sourceforge.net 10.3/release/main Release
Hit http://us.dl.sourceforge.net 10.3/release/crypto Packages
Hit http://us.dl.sourceforge.net 10.3/release/crypto Release
Hit http://us.dl.sourceforge.net 10.3/current/main Packages
Hit http://us.dl.sourceforge.net 10.3/current/main Release
Hit http://us.dl.sourceforge.net 10.3/current/crypto Packages
Hit http://us.dl.sourceforge.net 10.3/current/crypto Release
Failed to fetch
file:/sw/fink/dists/local/main/binary-darwin-powerpc/Packages
File not found
Failed to fetch
file:/sw/fink/dists/stable/main/binary-darwin-powerpc/Packages
File not found
Failed to fetch
file:/sw/fink/dists/stable/crypto/binary-darwin-powerpc/Packages
File not found
Reading Package Lists... Done
Building Dependency Tree... Done
E: Some index files failed to download, they have been ignored, or old
ones used instead.

update available list script returned error exit status 1.
</pre><p>then all you need to do is run <tt style="white-space: nowrap;">fink scanpackages</tt>. This generates the files that aren't being found.</p></div>
    </a>
    <a name="usage-fink.wrong-tree">
      <div class="question"><p><b>Q5.25: I've changed my OS | Developer Tools, but Fink doesn't recognize the change.</b></p></div>
      <div class="answer"><p><b>A:</b> When changing the Fink distribution (of which the source and binary distros are subsets), Fink needs to be told that this has happened.  To do this, you can run a script that normally gets run when you first install Fink:</p><pre>/sw/lib/fink/postinstall.pl</pre><p>Doing this will point Fink to the correct place.</p></div>
    </a>
    <a name="usage-fink.seg-fault">
      <div class="question"><p><b>Q5.26: I get errors with <tt style="white-space: nowrap;">gzip</tt> | <tt style="white-space: nowrap;">dpkg-deb</tt>I applications from the<tt style="white-space: nowrap;"> fileutils </tt>package! Help!</b></p></div>
      <div class="answer"><p><b>A:</b> Errors of the form:</p><pre>gzip -dc /sw/src/dpkg-1.10.9.tar.gz | /sw/bin/tar -xf -
### execution of gzip failed, exit code 139</pre><p>or</p><pre>gzip -dc /sw/src/aquaterm-0.3.0a.tar.gz | /sw/bin/tar -xf -
gzip: stdout: Broken pipe
### execution of gzip failed, exit code 138</pre><p>or</p><pre>dpkg-deb -b root-base-files-1.9.0-1
/sw/fink/dists/unstable/main/binary-darwin-powerpc/base
### execution of dpkg-deb failed, exit code 10
Failed: can't create package base-files_1.9.0-1_darwin-powerpc.deb</pre><p>or segmentation faults when running utilities from<tt style="white-space: nowrap;"> fileutils</tt>, e.g. <tt style="white-space: nowrap;">ls</tt> or <tt style="white-space: nowrap;">mv</tt>, are likely to be due to a prebinding error in a library, and can be fixed by running</p><pre>sudo /sw/var/lib/fink/prebound/update-package-prebinding.pl -f</pre></div>
    </a>
    <a name="usage-fink.pathsetup-keeps-running">
      <div class="question"><p><b>Q5.27: When I open a Terminal window, I get a message that "Your environment seems to be correctly
set up for Fink already.", and it logs out.</b></p></div>
      <div class="answer"><p><b>A:</b> What happened is that somehow the OSX Terminal program has been told to run <tt style="white-space: nowrap;">/sw/bin/pathsetup.command</tt> every time you log in.  You can fix this by removing the Preferences file, <tt style="white-space: nowrap;">~/Library/Preferences/com.apple.Terminal.plist</tt>.</p><p>If you have other preferences that you want to keep, you can edit the file with a text editor and remove the reference to <tt style="white-space: nowrap;">/sw/bin/pathsetup.command</tt>.</p></div>
    </a>
  <h2><a name="comp-general">6 Compile Problems - General</a></h2>
    
    
    <a name="comp-general.compiler">
      <div class="question"><p><b>Q6.1: A configure script complains
that it can't find an "acceptable cc". What's that?</b></p></div>
      <div class="answer"><p><b>A:</b> 
Read the docs next time.
To compile packages from source, you must install the Developer Tools,
which among other stuff contains the C compiler, <tt style="white-space: nowrap;">cc</tt>.
</p></div>
    </a>
    <a name="comp-general.cvs">
      <div class="question"><p><b>Q6.2: When I try a "fink selfupdate-cvs" I get this message: "cvs: Command not found." </b></p></div>
      <div class="answer"><p><b>A:</b> You need to install the Developer Tools.</p></div>
    </a>
    <a name="comp-general.missing-make">
      <div class="question"><p><b>Q6.3: I'm getting an error message involving <tt style="white-space: nowrap;">make</tt>
        </b></p></div>
      <div class="answer"><p><b>A:</b> if your message is of the form</p><pre>make: command not found</pre><p>or</p><pre>Can't exec "make": No such file or directory at /sw/lib/perl5/Fink/Services.pm line 190.</pre><p>It means you need to install the Developer Tools.</p><p>On the other hand, if your error message looks like</p><pre>make: illegal option -- C</pre><p>then you've replaced the GNU version of the <tt style="white-space: nowrap;">make</tt> utility
installed as part of the Developer Tools with a BSD version of make.
Many packages rely on special features only supported by GNU make.
Make sure that <tt style="white-space: nowrap;">/usr/bin/make</tt> is a symlink to
<tt style="white-space: nowrap;">gnumake</tt>, not <tt style="white-space: nowrap;">bsdmake</tt>. Furthermore,
make sure that <tt style="white-space: nowrap;">/usr/local/bin/</tt> does not contain another
copy of <tt style="white-space: nowrap;">make</tt>.
</p></div>
    </a>
    <a name="comp-general.head">
      <div class="question"><p><b>Q6.4: I'm getting a strange usage message
from the head command. What's broken?</b></p></div>
      <div class="answer"><p><b>A:</b> If you're seeing this:</p><pre>Unknown option: 1
Usage: head [-options] &lt;url&gt;...</pre><p>followed by a list of option descriptions, you have a broken
<tt style="white-space: nowrap;">head</tt> executable.
This happens when you install the Perl libwww library on an HFS+
system volume.
It tries to create a new command <tt style="white-space: nowrap;">/usr/bin/HEAD</tt>, which
overwrites the existing <tt style="white-space: nowrap;">head</tt> command because the file
system is case-insensitive.
<tt style="white-space: nowrap;">head</tt> is a standard command used in many shell scripts and
Makefiles.
You need to get the original <tt style="white-space: nowrap;">head</tt> executable back if you
want to use Fink.
</p><p>
The bootstrap script of the source release now checks for this, but
you can still run into it if you use the binary release for first-time
installation or install libwww after you installed Fink.
</p><p>This problem has also been reported due to the installation of <tt style="white-space: nowrap;">/sw/bin/HEAD</tt> (not by any Fink package). This is easier to solve: rename <tt style="white-space: nowrap;">/sw/bin/HEAD</tt>.</p></div>
    </a>
    <a name="comp-general.also_in">
      <div class="question"><p><b>Q6.5: When I try to install a package I get an error message about trying to overwrite a file that is in another package.</b></p></div>
      <div class="answer"><p><b>A:</b> This occasionally happens with splitoff packages (i.e. the ones with -dev, -shlibs, etc.) when a file gets moved from one part of the splitoff to another (e.g. from <tt style="white-space: nowrap;">foo</tt> to <tt style="white-space: nowrap;">foo-shlibs</tt>. What you can do is overwrite the file with that from the package you are trying to install (since they are nominally the same):</p><pre>sudo dpkg -i --force-overwrite <b>filename</b>
        </pre><p>where <b>filename</b> is the .deb file corresponding to the package that you are trying to install.</p></div>
    </a>
    <a name="comp-general.weak_lib">
      <div class="question"><p><b>Q6.6: After I installed the December 2002 Development Tools I get messages about "weak libraries".</b></p></div>
      <div class="answer"><p><b>A:</b> This is new with the December 2002 Tools. You may occasionally see messages like (choosing libgdk-pixbuf as an example):</p><p>
          <tt style="white-space: nowrap;">ld: warning dynamic shared library: /sw/lib/libgdk-pixbuf.dylib not made a weak library in output with MACOSX_DEPLOYMENT_TARGET environment variable set to: 10.1</tt>
        </p><p>You may regard these as harmless. If you are curious, read through the release notes in the developer documentation directory, 
especially GCC's and the linker's, for more info. It essentially has to 
do with whether missing symbols at runtime is considered a fatal error on 
startup or not, for applications that use weak references.</p></div>
    </a>
    <a name="comp-general.mv-failed">
      <div class="question"><p><b>Q6.7: What does "execution of mv failed, exit code 1" mean when I try to build a package?</b></p></div>
      <div class="answer"><p><b>A:</b> If you have StuffIt Pro installed, it could be that you have "Archive Via Real Name" mode enabled.  Check for a StuffIt preference pane in the System Preferences tool, and disable "ArchiveViaRealName" if it's enabled.  It contains a buggy reimplementation of a few important system calls that will cause a number of strange and transient errors such as this.</p><p>Otherwise, am <tt style="white-space: nowrap;">mv</tt> error typically means that another error happened earlier in the build, but the build process didn't stop. To track down the offending file(s), search in the output of the build for the nonexistent file, e.g. if you have something like:</p><pre>mv /sw/src/root-foo-0.1.2-3/sw/lib/libbar*.dylib \
 /sw/src/root-foo-shlibs-0.1.2-3/sw/lib/
 mv: cannot stat `/sw/src/root-foo-0.1.2-3/sw/lib/libbar*.dylib': 
 No such file or directory
### execution of mv failed, exit code 1
Failed: installing foo-0.1.2-3 failed</pre><p>then you should look for <tt style="white-space: nowrap;">libbar</tt> somewhere further back in the output of your build attempt.</p></div>
    </a>
    <a name="comp-general.node-exists">
      <div class="question"><p><b>Q6.8: I can't install a package | update because I get a message that a "node" already exists.</b></p></div>
      <div class="answer"><p><b>A:</b> These errors look something like this:</p><pre>Failed: Internal error: node for system-xfree86 already exists</pre><p>This problem is that the dependency engine is confused, due to changes in some of the package info files. To fix it:</p><ul>
          <li>
            <p>Remove the offending package by force, e. g.</p>
            <pre>sudo dpkg -r --force-all system-xfree86</pre>
            <p>for the example given above.</p>
          </li>
          <li>
            <p>Try again to install | upgrade. At some point a "virtual dependency" prompt will come up that includes the package you just removed. Select it, and it will be reinstalled during your build.</p>
          </li>
        </ul></div>
    </a>
    <a name="comp-general.usr-local-libs">
      <div class="question"><p><b>Q6.9: I've heard that libraries installed in /usr/local/lib sometimes cause build problems for Fink. Is this true?</b></p></div>
      <div class="answer"><p><b>A:</b> This is a frequent source of problems, because the package configuration script finds libraries under <tt style="white-space: nowrap;">/usr/local/lib</tt> before searching in the Fink path. If you are having problems with a build that aren't covered by another FAQ entry, you should check whether you have libraries in <tt style="white-space: nowrap;">/usr/local/lib</tt>. If so, then try renaming <tt style="white-space: nowrap;">/usr/local</tt> to something else, e.g.:</p><pre>sudo mv /usr/local /usr/local.moved</pre><p>do your build, and then put <tt style="white-space: nowrap;">/usr/local</tt> back:</p><pre>sudo mv /usr/local.moved /usr/local</pre></div>
    </a>
    <a name="comp-general.toc-out-of-date">
      <div class="question"><p><b>Q6.10: When I try to build a package, I get a message that a "table of contents" is out of date. What do I need to do?</b></p></div>
      <div class="answer"><p><b>A:</b> The output hints at what to do. The message is usually something like:</p><pre>ld: table of contents for archive: /sw/lib/libintl.a is out of date; rerun ranlib(1) (can't load from it)</pre><p>What you need to do is run ranlib (as root) on whatever library is causing the problem. As an example, for the case above, you would run:</p><pre>sudo ranlib /sw/lib/libintl.a</pre></div>
    </a>
    <a name="comp-general.fc-atlas">
      <div class="question"><p><b>Q6.11: Fink Commander hangs when I try to install atlas.</b></p></div>
      <div class="answer"><p><b>A:</b> This happens because one of the steps in the build of <tt style="white-space: nowrap;">atlas</tt> sends a prompt to the user that Fink Commander doesn't display. You'll have to use <tt style="white-space: nowrap;">fink install atlas</tt> instead.</p></div>
    </a>
    <a name="comp-general.basic-headers">
      <div class="question"><p><b>Q6.12: I get messages saying that I'm missing stddef.h. Where do I find it?</b></p></div>
      <div class="answer"><p><b>A:</b> This header, and many others, are provided by the DevSDK package of the Developer Tools. Check whether <tt style="white-space: nowrap;">/Library/Receipts/DevSDK.pkg</tt> exists on your system. If not, then run the Dev Tools Installer again, and install the DevSDK package using a Custom Install.</p></div>
    </a>
    <a name="comp-general.multiple-dependencies">
      <div class="question"><p><b>Q6.13: I can't update, because Fink is "unable to resolve version conflict on multiple dependencies".</b></p></div>
      <div class="answer"><p><b>A:</b> To get around this, try updating a single package, then try to use "fink update-all" again. If you still get the message, repeat the process.</p></div>
    </a>
    <a name="comp-general.dpkg-parse-error">
      <div class="question"><p><b>Q6.14: I can't install anything because I get "dpkg: parse error, in file `/sw/var/lib/dpkg/status'"!</b></p></div>
      <div class="answer"><p><b>A:</b> This means that somehow your dpkg database got corrupted, usually from a crash or some other unrecoverable error. You can fix it by copying the previous
version of the database, like so:</p><pre>
sudo cp /sw/var/lib/dpkg/status-old /sw/var/lib/dpkg/status
</pre><p>You may need to re-install the last couple of packages you installed before the problem started occurring.</p></div>
    </a>
    <a name="comp-general.freetype-problems">
      <div class="question"><p><b>Q6.15: I get errors involving freetype.</b></p></div>
      <div class="answer"><p><b>A:</b> There are several varieties of such errors.  If your error looks like:</p><pre>/sw/include/pango-1.0/pango/pangoft2.h:52: error: parse error before '*' token
/sw/include/pango-1.0/pango/pangoft2.h:57: error: parse error before '*' token
/sw/include/pango-1.0/pango/pangoft2.h:61: error: parse error before '*' token
/sw/include/pango-1.0/pango/pangoft2.h:86: error: parse error before "pango_ft2_font_get_face"
/sw/include/pango-1.0/pango/pangoft2.h:86: warning: data definition has no type or storage class
make[2]: *** [rsvg-gz.lo] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all-recursive-am] Error 2
### execution of make failed, exit code 2
Failed: compiling librsvg2-2.4.0-3 failed</pre><p>or</p><pre>In file included from vteft2.c:32:
vteglyph.h:64: error: parse error before "FT_Library"
vteglyph.h:64: warning: no semicolon at end of struct or union
vteft2.c: In function `_vte_ft2_get_text_width':
vteft2.c:236: error: dereferencing pointer to incomplete type
vteft2.c: In function `_vte_ft2_get_text_height':
vteft2.c:244: error: dereferencing pointer to incomplete type
vteft2.c: In function `_vte_ft2_get_text_ascent':
vteft2.c:252: error: dereferencing pointer to incomplete type
vteft2.c: In function `_vte_ft2_draw_text':
vteft2.c:294: error: dereferencing pointer to incomplete type
vteft2.c:295: error: dereferencing pointer to incomplete type
make[2]: *** [vteft2.lo] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2
### execution of make failed, exit code 2
Failed: compiling vte-0.11.10-3 failed</pre><p>or</p><pre>checking for freetype-config... /usr/X11R6/bin/freetype-config
checking For sufficiently new FreeType (at least 2.0.1)... no
configure: error: pangoxft Pango backend found but did not find freetype libraries
make: *** No targets specified and no makefile found.  Stop.
### execution of LD_TWOLEVEL_NAMESPACE=1 failed, exit code 2
Failed: compiling gtk+2-2.2.4-2 failed</pre><p>the problem is due to confusion between headers from the <tt style="white-space: nowrap;">freetype</tt> | <tt style="white-space: nowrap;">freetype-hinting</tt> package and the <tt style="white-space: nowrap;">freetype2</tt> headers that are included with X11 | XFree86.</p><pre>fink remove freetype freetype-hinting</pre><p>will remove whichever variant you have installed.  On the other hand, if your error looks like:</p><pre>ld: Undefined symbols:
_FT_Access_Frame </pre><p>this is typically due to a residual file from a prior installation of X11.  Reinstall the X11 SDK.  Finally, if you get an error like </p><pre>dyld: klines Undefined symbols:
/sw/lib/libqt-mt.3.dylib undefined reference to _FT_Access_Frame
</pre><p>then you probably have a binary version that built fine with <tt style="white-space: nowrap;">gcc3.3</tt> on Jaguar but doesn't work on Panther.  This has now been updated, so you you just need to update your packages, e.g. via <tt style="white-space: nowrap;">sudo apt-get update ; sudo apt-get dist-upgrade</tt>.</p></div>
    </a>
    <a name="comp-general.dlfcn-from-oo">
      <div class="question"><p><b>Q6.16: I get build errors involving `Dl_info'.</b></p></div>
      <div class="answer"><p><b>A:</b> If you have an error that looks like this</p><pre>unix_dl.c: In function `rep_open_dl_library':
unix_dl.c:328: warning: assignment discards qualifiers from pointer target type
unix_dl.c: In function `rep_find_c_symbol':
unix_dl.c:466: error: `Dl_info' undeclared (first use in this function)
unix_dl.c:466: error: (Each undeclared identifier is reported only once
unix_dl.c:466: error: for each function it appears in.)
unix_dl.c:466: error: parse error before "info"
unix_dl.c:467: error: `info' undeclared (first use in this function)
make[1]: *** [unix_dl.lo] Error 1</pre><p>then most likely you have a header file, <tt style="white-space: nowrap;">/usr/local/include/dlfcn.h</tt>, that is incompatible with Panther.  Move it out of the way.</p><p>This usually is installed by Open Office, and you should replace this header file, as well as the library <tt style="white-space: nowrap;">/usr/local/lib/libdl.dylib</tt>, with symbolic links to Panther's builtin files</p><pre>sudo ln -s /usr/include/dlfcn.h /usr/local/include/dlfcn.h
sudo ln -s /usr/lib/libdl.dylib /usr/local/lib/libdl.dylib</pre></div>
    </a>
    <a name="comp-general.gcc2">
      <div class="question"><p><b>Q6.17: Fink says I'm missing <tt style="white-space: nowrap;">gcc2</tt> but I can't seem to install it.</b></p></div>
      <div class="answer"><p><b>A:</b> This is because <tt style="white-space: nowrap;">gcc2</tt> is a virtual package to indicate the presence of gcc-2.95 on your system.  Install the gcc2.95 package from the XCode Tools (earlier OS versions have gcc-2.95 as part of their main Developer Tools installation.</p></div>
    </a>
  <h2><a name="comp-packages">7 Compile Problems - Specific Packages</a></h2>
    
    
    <a name="comp-packages.libgtop">
      <div class="question"><p><b>Q7.1: A package fails to build with errors involving <tt style="white-space: nowrap;">sed</tt>.</b></p></div>
      <div class="answer"><p><b>A:</b> This can happen if your login script (e.g. <tt style="white-space: nowrap;">~/.cshrc</tt>) does something that writes to the terminal, e.g "<tt style="white-space: nowrap;">echo Hello</tt>" or <tt style="white-space: nowrap;">xttitle</tt>. To get rid of the problem, the easy solution is to comment out the offending lines.</p><p>If you want to keep the echo, then you can do something like the following:</p><pre>if ( $?prompt) then
echo Hello
endif</pre></div>
    </a>
    <a name="comp-packages.cant-install-xfree">
      <div class="question"><p><b>Q7.2: I want to switch to Fink's XFree86 packages, but I can't install <tt style="white-space: nowrap;">xfree86-base</tt> | <tt style="white-space: nowrap;">xfree86</tt>, because it conflicts with <tt style="white-space: nowrap;">system-xfree86</tt>.</b></p></div>
      <div class="answer"><p><b>A:</b> All flavors of X11, unfortunately, really needs to be installed in /usr/X11R6. Because of this the Fink <tt style="white-space: nowrap;">xfree86-base</tt> and <tt style="white-space: nowrap;">xfree86-rootless</tt> packages install there, too. However, since Fink won't remove any files that aren't in its database, it won't automatically replace a non-Fink installation of X11.</p><p></p><p>Here's how to proceed:</p><p></p><p>
          <b>Note:  10.2.x users with up-to-date versions of Fink (&gt;= 0.16.2) and 10.3.x users should skip step 1 below (it won't work anyway).</b>
        </p><p>1. Remove <tt style="white-space: nowrap;">system-xfree86</tt>. If you don't have any packages that depend on X11, this is straightforward. Frequently, however, many packages that depend on X11 are installed. Rather than uninstalling all of them, you can use</p><p>
          <tt style="white-space: nowrap;">sudo dpkg --remove --force-depends system-xfree86</tt>
        </p><p>to remove it, leaving everything in place. If you don't have <tt style="white-space: nowrap;">system-xfree86</tt> installed then proceed to step 3.</p><p>2. Manually remove all of XFree86. This can be done with</p><p>
          <tt style="white-space: nowrap;">sudo rm -rf /Applications/XDarwin.app /usr/X11R6 /etc/X11</tt>
        </p><p>If you are switching from Apple X11, remove the X11 application, too.</p><p>3. To get XFree86-4.2.1, Install Fink's <tt style="white-space: nowrap;">xfree86-base</tt> and <tt style="white-space: nowrap;">xfree86-rootless</tt> packages by the usual means: "<tt style="white-space: nowrap;">fink install</tt>" for source users, "<tt style="white-space: nowrap;">apt-get install</tt>" or <tt style="white-space: nowrap;">dselect</tt> for binaries.</p><p> -or-</p><p>3a. To get XFree86-4.3.x, install Fink's <tt style="white-space: nowrap;">xfree86</tt> package, with "fink install xfree86"--this version isn't in the binary distro yet, and is currently only in the unstable tree [FAQ 3.9].</p></div>
    </a>
    <a name="comp-packages.change-thread-nothread">
      <div class="question"><p><b>Q7.3: How do I change from the non-threaded version of Fink's XFree86 packages to the threaded version (or vice-versa)?</b></p></div>
      <div class="answer"><p><b>A:</b> If you are running the Fink version of XFree86 and you want to switch between the threaded and non-threaded versions of Fink, you need to manually remove the old version. This is done at the command-line with the commands:</p><pre>
sudo dpkg -r --force-depends xfree86-base
sudo dpkg -r --force-depends xfree86-shlibs
sudo dpkg -r --force-depends xfree86-rootless
sudo dpkg -r --force-depends xfree86-rootless-shlibs
	</pre><p>or to delete the threaded versions:</p><pre>
sudo dpkg -r --force-depends xfree86-base-threaded
sudo dpkg -r --force-depends xfree86-shlibs-threaded
sudo dpkg -r --force-depends xfree86-rootless-threaded
sudo dpkg -r --force-depends xfree86-rootless-threaded-shlibs
	</pre><p>FinkCommander also has a way to remove packages. In the source window, select a package, and then in the <tt style="white-space: nowrap;">Source Menu</tt> use "<tt style="white-space: nowrap;">Force Remove</tt>."</p><p>If you are using system-xfree86, see the previous question for removing it.</p><p>Install the version of xfree86 you want: </p><p>
          <tt style="white-space: nowrap;">xfree86-base</tt> and <tt style="white-space: nowrap;">xfree86-rootless</tt>
        </p><p>
          <tt style="white-space: nowrap;">xfree86-base-threaded</tt> and <tt style="white-space: nowrap;">xfree86-rootless-threaded</tt>
        </p><p>by the usual means: "<tt style="white-space: nowrap;">fink install</tt>" for source users, "<tt style="white-space: nowrap;">apt-get install</tt>" or <tt style="white-space: nowrap;">dselect</tt> for binaries.</p></div>
    </a>
    <a name="comp-packages.cctools">
      <div class="question"><p><b>Q7.4: "When I try to install KDE, I get the following message: 'Can't resolve dependency "cctools (&gt;= 446-1)"'</b></p></div>
      <div class="answer"><p><b>A:</b> This somewhat cryptic message means you need to install the December 2002 Developer Tools.</p></div>
    </a>
  <h2><a name="usage-general">8 Package Usage Problems - General</a></h2>
    
    
    <a name="usage-general.xlocale">
      <div class="question"><p><b>Q8.1: I'm getting lots of messages
like "locale not supported by C library". Is that bad?</b></p></div>
      <div class="answer"><p><b>A:</b> 
It's not bad, it just means that the program will use the default
English messages, date formats, etc.
The program will function normally otherwise.
The Running X11 document has <a href="http://fink.sourceforge.net/doc/x11/trouble.php#locale">details</a>.
</p></div>
    </a>
    <a name="usage-general.passwd">
      <div class="question"><p><b>Q8.2: There are suddenly a number of 
strange users on my system, with names like "mysql", "pgsql", and "games".
Where did they come from?</b></p></div>
      <div class="answer"><p><b>A:</b> 
You have used Fink to install a package which is dependent on another package,
passwd. passwd installs a number of extra users on your system for security 
reasons -- on Unix systems, files and processes belong to "owners", which 
allows
system administrators to fine-tune the permissions and security of the system. 
 Programs such as Apache and MySQL need an "owner", and it is insecure to 
assign these daemons to root (imagine what would happen if Apache were to be 
compromised and suddenly had write permission to all files on the system). 
Thus, the passwd package takes the work out of setting up these extra users 
for Fink packages that require this.</p><p>It can be alarming to suddenly discover a number of unexpected users in your
 "System Preferences: Users" pane, but suppress the urge to delete them:
</p><ul>
          <li>First of all, you have obviously chosen to install a package which requires
 their use, so deleting the user doesn't make much sense, does it?</li>
          <li>There are in fact a number of extra users already installed on Mac OS X 
that you may not have known about: www, daemon, nobody, are just a few of 
them.
The presence of these extra users is a standard Unix convention for running 
certain services; the passwd package simply adds a couple of extra that Apple 
did not provide. You can see these Apple-installed users in NetInfo 
Manager.app, or by running
<tt style="white-space: nowrap;">niutil -list . /users</tt>
          </li>
          <li>If you do decide to delete these users, be very careful of how you go about
 it. Using the "System Preferences: Users" pane will assign all of their files
 to a random administrator account, and there have been reports of havoc played
 with the administrator account's permissions. This is a bug with System 
Preferences, and has been submitted to Apple. A safer way to remove these 
users from your system is to do so from within NetInfo Manager.app or use the 
command line tool <tt style="white-space: nowrap;">niutil</tt> in Terminal. Read the man page
 for <tt style="white-space: nowrap;">niutil</tt> for more information about NetInfo.</li>
        </ul><p>Fink <b>does</b> request permission to install these additional users on 
your system during the installation of the passwd package, so this should not 
have come as a surprise.
</p></div>
    </a>
    <a name="usage-general.compile-myself">
      <div class="question"><p><b>Q8.3: How do I compile something
myself using Fink-installed software?</b></p></div>
      <div class="answer"><p><b>A:</b> When compiling something yourself outside of Fink, the compiler and
linker need to be told where to find the Fink-installed libraries and
headers. For a package that uses standard configure/make process, you
need to set some environment variables:
</p><p>-tcsh-</p><pre>setenv CFLAGS -I/sw/include
setenv LDFLAGS -L/sw/lib
setenv CXXFLAGS $CFLAGS
setenv CPPFLAGS $CXXFLAGS
setenv ACLOCAL_FLAGS "-I /sw/share/aclocal"
setenv PKG_CONFIG_PATH "/sw/lib/pkgconfig"</pre><p>-bash-</p><pre>export CFLAGS=-I/sw/include
export LDFLAGS=-L/sw/lib
export CXXFLAGS=$CFLAGS
export CPPFLAGS=$CXXFLAGS
export ACLOCAL_FLAGS="-I /sw/share/aclocal"
export PKG_CONFIG_PATH="/sw/lib/pkgconfig"</pre><p>
It is often easiest just to add these to your startup files (e.g. <tt style="white-space: nowrap;">.cshrc</tt> | <tt style="white-space: nowrap;">.profile</tt>) so they
are set automatically.
If a package does not use these variables, you may need to add the
"-I/sw/include" (for headers) and "-L/sw/lib" (for libraries) to the
compile lines yourself. Some packages may use similar non-standard
variables such as EXTRA_CFLAGS or --with-qt-dir= configure options.
"./configure --help" will usually give you a list of the extra configure
options.
</p><p>In addition, you may need to install the development headers (e.g. <b>foo-1.0-1-dev</b>) for the library packages that you are using, if they aren't already installed.</p></div>
    </a>
    <a name="usage-general.apple-x11-applications-menu">
      <div class="question"><p><b>Q8.4: I can't run any of my Fink-installed applications using the Applications menu in Apple X11.</b></p></div>
      <div class="answer"><p><b>A:</b> Apple X11 doesn't keep track of the Fink environment settings, which means that the Applications menu doesn't have the PATH set correctly to find your Fink applications. The solution is to preface the name of a Fink-installed application with</p><pre>source /sw/bin/init.sh ; </pre><p>For example, if you want to run a Fink-installed GIMP, then put</p><pre>source /sw/bin/init.sh ; gimp</pre><p>in the Command field of your GIMP entry.</p><p>You can also edit your .xinitrc file (in your user directory) and add:</p><pre>source /sw/bin/init.sh</pre><p>after the first line.</p></div>
    </a>
    <a name="usage-general.x-options">
      <div class="question"><p><b>Q8.5: I'm bewildered by the X11 options: Apple X11, XFree86, etc. What should I install?</b></p></div>
      <div class="answer"><p><b>A:</b> All are variants on XFree86 (they're all based on the XFree86 code), but have some slight differences between them. Apple's X11, which is a modification of XFree86-4.2.1, and XFree86-4.3 are faster than standard XFree86-4.2.1.1, but the latter is more stable. There is also a modification of 4.2.1.1 with threading support added, which is required by a few packages.</p><p>Currently, under Panther, Apple's X11 (on the third disk) is the only choice. Don't forget to install the X11 SDK (on the XCode disk) if you want to compile programs.</p><p> Under Jaguar, the most popular choices, and the Fink packages to make them work are:</p><ul>
          <li>
            <p>4.2.x built via Fink: install <tt style="white-space: nowrap;">xfree86-base</tt> and <tt style="white-space: nowrap;">xfree86-rootless</tt> or <tt style="white-space: nowrap;">xfree86-base-threaded</tt> and <tt style="white-space: nowrap;">xfree86-rootless-threaded</tt> (and the respective <tt style="white-space: nowrap;">-shlibs</tt>)</p>
          </li>
          <li>
            <p>4.3.x built via Fink: install the <tt style="white-space: nowrap;">xfree86</tt> and <tt style="white-space: nowrap;">xfree86-shlibs</tt> packages</p>
          </li>
          <li>
            <p>4.2.x from Apple (User+SDK packages installed): install the <tt style="white-space: nowrap;">system-xfree86</tt> package</p>
          </li>
        </ul><p>There are other options, as well. There is a more extensive treatment in the <a href="http://fink.sourceforge.net/doc/x11/index.php">Running X11 document</a>.</p></div>
    </a>
    <a name="usage-general.no-display">
      <div class="question"><p><b>Q8.6: When I try to run an application, I get a message that says "cannot open display:". What do I need to do?</b></p></div>
      <div class="answer"><p><b>A:</b> This error means that the system isn't connecting with your X display. Make sure you do the following:</p><p>1. Start X (Apple's X11, XFree86, ...).</p><p>2. Make sure your DISPLAY environment variable is set correctly. If you are using the default setup for X, you can do this with</p><pre>setenv DISPLAY :0</pre><p>if you are running <tt style="white-space: nowrap;">tcsh</tt>, or</p><pre>export DISPLAY=:0</pre><p>if you're running <tt style="white-space: nowrap;">bash</tt>.</p></div>
    </a>
    <a name="usage-general.suggest-package">
      <div class="question"><p><b>Q8.7: I don't see my favorite program in Fink. How do I suggest a new package for inclusion in Fink?</b></p></div>
      <div class="answer"><p><b>A:</b> Make the request on the <a href="http://sourceforge.net/tracker/?atid=371315&amp;group_id=17203">Package Request Tracker</a> on the Fink project page.</p><p>Note that you must have a SourceForge id to do so.</p></div>
    </a>
  <h2><a name="usage-packages">9 Package Usage Problems - Specific Packages</a></h2>
    
    
    <a name="usage-packages.xmms-quiet">
      <div class="question"><p><b>Q9.1: I get no sound from
XMMS</b></p></div>
      <div class="answer"><p><b>A:</b> 
Make sure you have the "eSound Output Plugin" selected in the XMMS
preferences.
For some strange reason, it selects the disk writer plugin as the
default.
</p><p>
If you still get no sound output or XMMS complains that it can't find
your sound card try this:
</p><ul>
          <li>Make sure you haven't muted sound output in Mac OS X.</li>
          <li>Run <tt style="white-space: nowrap;">esdcat /usr/libexec/config.guess</tt> (or any other
file of a decent size).
If you hear a short noise, eSound works and XMMS should work too if
it's configured correctly.
If you don't hear anything, esd isn't working for some reason.
You can try to start it up manually with <tt style="white-space: nowrap;">esd &amp;</tt> and watch
the messages.
</li>
          <li>
If it still doesn't work, check the permissions on
<tt style="white-space: nowrap;">/tmp/.esd</tt> and <tt style="white-space: nowrap;">/tmp/.esd/socket</tt>.
Those should have your normal user account as the owner.
If they aren't owned by you, kill esd if it's running, remove the
directory as root (<tt style="white-space: nowrap;">sudo rm -rf /tmp/.esd</tt>), then start esd
again (as a normal user, not as root).
</li>
        </ul><p>
Note that esd is designed to be run by a normal user, not by root.
It usually communicates via the file system socket
<tt style="white-space: nowrap;">/tmp/.esd/socket</tt>.
You only need the <tt style="white-space: nowrap;">-tcp</tt> and <tt style="white-space: nowrap;">-port</tt> switches if
you want to run esd clients on another machine over the network.
</p><p>There have also been reports of XMMS crashing or freezing on 10.1. We don't have an analysis or a fix yet.</p></div>
    </a>
    <a name="usage-packages.nedit-window-locks">
      <div class="question"><p><b>Q9.2: If I am editing a file in nedit, when I open another file its window pops up but is unresponsive.</b></p></div>
      <div class="answer"><p><b>A:</b> This is a known problem that occurs with recent versions of <tt style="white-space: nowrap;">nedit</tt> and <tt style="white-space: nowrap;">lesstif</tt> on all platforms. The workaround is to open a new window with File--&gt;New, then open the next file you want to work on.</p><p>This is now fixed in <tt style="white-space: nowrap;">nedit-5.3-6</tt>, which depends on <tt style="white-space: nowrap;">openmotif3</tt> rather than <tt style="white-space: nowrap;">lesstif</tt>.</p></div>
    </a>
    <a name="usage-packages.xdarwin-start">
      <div class="question"><p><b>Q9.3: Help! When I start
XDarwin, it immediately quits!</b></p></div>
      <div class="answer"><p><b>A:</b> 
Don't Panic.
The Running X11 document now has an extensive <a href="http://fink.sourceforge.net/doc/x11/trouble.php#immediate-quit">troubleshooting
section</a> for this common problem.
</p></div>
    </a>
    <a name="usage-packages.no-server">
      <div class="question"><p><b>Q9.4: When I try to start XDarwin I get the message "xinit: No such file or directory (errno 2): no server "/usr/X11R6/bin/X" in PATH".</b></p></div>
      <div class="answer"><p><b>A:</b> First, make sure you are sourcing init.sh in your X startup <tt style="white-space: nowrap;">~/.xinitrc</tt>.</p><p>In Jaguar, sometimes all of the <tt style="white-space: nowrap;">xfree86</tt> packages get built, but only <tt style="white-space: nowrap;">xfree86-base</tt> and <tt style="white-space: nowrap;">xfree86-base-shlibs</tt> are installed. Check whether you have <tt style="white-space: nowrap;">xfree86-rootless</tt> and <tt style="white-space: nowrap;">xfree86-rootless-shlibs</tt> installed. If not, then <tt style="white-space: nowrap;">fink install xfree86-rootless</tt> should do the trick.</p><p>If you do have it installed, then try <tt style="white-space: nowrap;">fink rebuild xfree86-rootless</tt>. If that doesn't work, verify that you have <tt style="white-space: nowrap;">/usr/bin/X11R6</tt> in your PATH.</p></div>
    </a>
    <a name="usage-packages.xterm-error">
      <div class="question"><p><b>Q9.5: xterm fails with "dyld: xterm Undefined symbols: xterm undefined reference to _tgetent expected to be defined in /usr/lib/libSystem.B.dylib".</b></p></div>
      <div class="answer"><p><b>A:</b> This is caused by using a 10.1 version of XFree86 on 10.2. You must upgrade to a 10.2 version.</p><p>If you are using the Fink <tt style="white-space: nowrap;">xfree86</tt> packages, then you can get an upgrade by the usual means ("<tt style="white-space: nowrap;">fink selfupdate-cvs ; fink update-all</tt>" for installation from source, <tt style="white-space: nowrap;">fink selfupdate ; ; sudo apt-get update; sudo apt-get dist-upgrade</tt>" for installation from binaries.</p><p>If you have installed XFree86 by other means, you can find patches to bring you up to date at the <a href="http://mrcla.com/XonX">XonX web site</a>.</p></div>
    </a>
    <a name="usage-packages.libXmuu">
      <div class="question"><p><b>Q9.6: When I try to start XFree86 I get one of the following errors: "dyld: xinit can't open library: /usr/X11R6/lib/libXmuu.1.dylib" or "dyld: xinit can't open library: /usr/X11R6/lib/libXext.6.dylib"</b></p></div>
      <div class="answer"><p><b>A:</b> 
You are missing a file that is supposed to be installed by <tt style="white-space: nowrap;">xfree86-base-(threaded)-shlibs</tt>. You should reinstall it using <tt style="white-space: nowrap;">fink reinstall xfree86-base-shlibs</tt> (<tt style="white-space: nowrap;">fink reinstall xfree86-base-threaded-shlibs</tt> if you are using the threaded XFree86 packages) for source, or <tt style="white-space: nowrap;">sudo apt-get install --reinstall xfree86-base-shlibs</tt> for binaries.</p></div>
    </a>
    <a name="usage-packages.apple-x-bugs">
      <div class="question"><p><b>Q9.7: I had Fink's XFree86 installed, and I've replaced it with Apple's X11, and now everything's crashing!</b></p></div>
      <div class="answer"><p><b>A:</b> First of all, if you previously had the "threaded" versions of Fink's XFree86 packages installed, you may need to rebuild the application that is crashing. Some programs check for the availability of threading at build time, and then from then on believe that threading is available to them.
 </p><p>Secondly, you may have just hit an Apple X11 bug. As of the time of this writing, a number of bugs are known by the Apple team and are being worked on.
 </p><p>If you have general questions regarding Apple's X11 that are not really related to Fink, you may want to check <a href="http://www.lists.apple.com/x11-users">Apple's official discussion list on X11</a>. They also have also recommended that bugs in X11 be <a href="http://developer.apple.com/bugreporter">submitted to the Apple bug reporter</a>.
 </p></div>
    </a>
    <a name="usage-packages.apple-x-delete">
      <div class="question"><p><b>Q9.8: I want the delete key in Apple's X11.app to behave like that in XDarwin.</b></p></div>
      <div class="answer"><p><b>A:</b> Some users have reported that the behavior of the <tt style="white-space: nowrap;">delete</tt> key is different between XDarwin and Apple X11. This can be rectified by adding lines to the appropriate X startup files:</p><p>
          <b>.Xmodmap:</b>
        </p><pre>keycode 59 = Delete</pre><p>
          <b>.Xresources:</b>
        </p><pre>
xterm*.deleteIsDEL: true
xterm*.backarrowKey: false
xterm*.ttyModes: erase ^?
</pre><p>
          <b>.xinitrc</b>
        </p><pre>xrdb -load $HOME/.Xresources
xmodmap $HOME/.Xmodmap</pre><p></p></div>
    </a>
    <a name="usage-packages.gnome-two">
      <div class="question"><p><b>Q9.9: I upgraded from GNOME 1.x to GNOME 2.x and now <tt style="white-space: nowrap;">gnome-session</tt> won't open a window manager.</b></p></div>
      <div class="answer"><p><b>A:</b> While under GNOME 1.x <tt style="white-space: nowrap;">gnome-session</tt> invokes the <tt style="white-space: nowrap;">sawfish</tt> window manager automatically, under GNOME 2.x, you'll have to call a window manager in <tt style="white-space: nowrap;">~/.xinitrc</tt> before running <tt style="white-space: nowrap;">gnome-session</tt>, e.g.:</p><pre>...
exec metacity &amp;
exec gnome-session</pre></div>
    </a>
    <a name="usage-packages.apple-x11-no-windowbar">
      <div class="question"><p><b>Q9.10: I upgraded to Apple's X11 in Panther and now my window title bars are missing.</b></p></div>
      <div class="answer"><p><b>A:</b> You didn't upgrade X11 to version "X11 1.0 - XFree86 4.3.0" included with Panther. You can install X11 from X11.pkg on Disk 3.</p></div>
    </a>
    <a name="usage-packages.apple-x11-wants-xfree86">
      <div class="question"><p><b>Q9.11: I installed Apple's X11 in Panther but Fink keeps asking to install xfree86.</b></p></div>
      <div class="answer"><p><b>A:</b> You need to (re)install the X11SDK, which is on the Xcode CD, and is <b>not</b> installed by default.</p><p>Even if you install XCode, the X11SDK is <b>not</b> installed by default. It has to be installed either with a custom Xcode install, or by clicking on the <tt style="white-space: nowrap;">X11SDK</tt> pkg in the <tt style="white-space: nowrap;">Packages</tt> folder.</p><p>You can check your install by running <tt style="white-space: nowrap;">fink-virtual-pkgs</tt> and checking to see that the <tt style="white-space: nowrap;">Package: system-xfree86</tt> section is present and the <tt style="white-space: nowrap;">provides:</tt> line contains <tt style="white-space: nowrap;">x11</tt>
        </p><p>If you don't see everything properly installed, the safest way to fix this error is to remove all older copies of xfree86 or system-xfree86 and reinstall Apple's X11 and the X11SDK. You may see warnings from the first line, which you can ignore:</p><pre>sudo dpkg -r --force-all system-xfree86 system-xfree86-42 system-xfree86-43 \
xfree86-base xfree86-base-shlibs; rm -rf /Library/Receipts/X11SDK.pkg \
/Library/Receipts/X11User.pkg; fink selfupdate; fink index</pre><p>Then, reinstall X11 from the third Panther CD and X11SDK from the Xcode CD.</p><p>Note:  <tt style="white-space: nowrap;">system-xfree86</tt> no longer requires the X11SDK for binary installs if you have <tt style="white-space: nowrap;">fink-0.17.0</tt> or later.</p></div>
    </a>
    <a name="usage-packages.apple-x11-beta-wants-xfree86">
      <div class="question"><p><b>Q9.12: I installed Apple's X11 with the 10.2-gcc3.3 version of Fink but Fink keeps asking to install xfree86.</b></p></div>
      <div class="answer"><p><b>A:</b> You need to (re)install the X11SDK, which you should have downloaded when you downloaded your beta copy of Apple's X11.</p><p>You can check your install by running <tt style="white-space: nowrap;">fink-virtual-pkgs</tt> and checking to see that the <tt style="white-space: nowrap;">Package: system-xfree86</tt> section is present and the <tt style="white-space: nowrap;">provides:</tt> line contains <tt style="white-space: nowrap;">x11</tt>
        </p><p>If you don't see everything properly installed, the safest way to fix this error is to remove all older copies of xfree86 or system-xfree86 and reinstall Apple's X11 and the X11SDK. You may see warnings from the first line, which you can ignore:</p><pre>sudo dpkg -r --force-all system-xfree86 system-xfree86-42 system-xfree86-43 \
xfree86-base xfree86-base-shlibs; rm -rf /Library/Receipts/X11SDK.pkg \
/Library/Receipts/X11User.pkg; fink selfupdate; fink index</pre><p>Then, reinstall X11 and the X11SDK.</p><p>Note:  <tt style="white-space: nowrap;">system-xfree86</tt> no longer requires the X11SDK for binary installs if you have <tt style="white-space: nowrap;">fink-0.17.0</tt> or later.</p></div>
    </a>
  <hr><h2>Copyright Notice</h2><p>Copyright (c) 2001 Christoph Pfisterer,
Copyright (c) 2001-2004 The Fink Project.
You may distribute this document in print for private purposes,
provided the document and this copyright notice remain complete and
unmodified. Any commercial reproduction and any online publication
requires the explicit consent of the author.</p><hr><p>Generated from <i>$Fink: faq.xml,v 1.174 2004/02/26 00:14:53 alexkhansen Exp $</i></p></body></html>
