diff -ur package/inc/ZipPackageFolder.hxx package_new/inc/ZipPackageFolder.hxx
--- package/inc/ZipPackageFolder.hxx	2005-07-12 14:28:10.000000000 +0200
+++ package_new/inc/ZipPackageFolder.hxx	2005-07-14 17:30:52.000000000 +0200
@@ -121,7 +121,7 @@
 	}
 
 	void setPackageFormat_Impl( sal_Bool bPackageFormat ) { m_bPackageFormat = bPackageFormat; }
-	void setRemoveOnInsertMode_Impl( sal_Bool bRemove ) { ZipPackageEntry::mbAllowRemoveOnInsert = bRemove; }
+	void setRemoveOnInsertMode_Impl( sal_Bool bRemove ) { this->mbAllowRemoveOnInsert = bRemove; }
 
 	// Recursive functions
 	void  saveContents(rtl::OUString &rPath, std::vector < com::sun::star::uno::Sequence < com::sun::star::beans::PropertyValue > > &rManList, ZipOutputStream & rZipOut, com::sun::star::uno::Sequence < sal_Int8 > &rEncryptionKey, rtlRandomPool & rRandomPool)
diff -ur package/source/zippackage/ZipPackageFolder.cxx package_new/source/zippackage/ZipPackageFolder.cxx
--- package/source/zippackage/ZipPackageFolder.cxx	2005-07-12 14:31:33.000000000 +0200
+++ package_new/source/zippackage/ZipPackageFolder.cxx	2005-07-14 17:31:14.000000000 +0200
@@ -128,7 +128,7 @@
 {
 	OSL_ENSURE( m_xFactory.is(), "No factory is provided to the package folder!" );
 
-	ZipPackageEntry::mbAllowRemoveOnInsert = bAllowRemoveOnInsert;
+	this->mbAllowRemoveOnInsert = bAllowRemoveOnInsert;
 
 	SetFolder ( sal_True );
 	aEntry.nVersion		= -1;
diff -ur package/source/zippackage/ZipPackageStream.cxx package_new/source/zippackage/ZipPackageStream.cxx
--- package/source/zippackage/ZipPackageStream.cxx	2005-07-12 14:31:48.000000000 +0200
+++ package_new/source/zippackage/ZipPackageStream.cxx	2005-07-14 17:32:10.000000000 +0200
@@ -137,7 +137,7 @@
 { 
 	OSL_ENSURE( m_xFactory.is(), "No factory is provided to ZipPackageStream!\n" );
 
-	ZipPackageEntry::mbAllowRemoveOnInsert = bAllowRemoveOnInsert;
+	this->mbAllowRemoveOnInsert = bAllowRemoveOnInsert;
 
 	SetFolder ( sal_False );
 	aEntry.nVersion		= -1;
--- config_office/configure	2005-08-04 00:25:19.000000000 +0900
+++ config_office/configure.fink	2005-08-04 09:22:19.000000000 +0900
@@ -8099,7 +8099,7 @@
 ac_ext=cc
 ac_cpp='$CXXCPP $CPPFLAGS'
 ac_compile='$CXX -c $CXXFLAGS $CPPFLAGS conftest.$ac_ext >&5'
-ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
+ac_link='$CXX -o conftest$ac_exeext $CXXFLAGS $CPPFLAGS $LDFLAGS -L@FINK_PREFIX@/lib conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_cxx_compiler_gnu
 
 fi
@@ -9954,7 +9954,8 @@
    python_include=`$PYTHON -c "import distutils.sysconfig; print distutils.sysconfig.get_config_var('INCLUDEPY');"`
    python_version=`$PYTHON -c "import distutils.sysconfig; print distutils.sysconfig.get_config_var('VERSION');"`
    PYTHON_CFLAGS="-I$python_include"
-   PYTHON_LIBS="-lpython$python_version"
+   PYTHON_LIBS=`$PYTHON -c "import distutils.sysconfig; print distutils.sysconfig.get_config_var('LIBPL');"`
+   PYTHON_LIBS="-L$PYTHON_LIBS -lpython$python_version"
 
       save_CPPFLAGS="$CPPFLAGS"
    CPPFLAGS="$CPPFLAGS $PYTHON_CFLAGS"
@@ -13954,7 +13955,7 @@
    { (exit 1); exit 1; }; } # Exit
    fi
    CFLAGS=$X_CFLAGS
-   LDFLAGS="$X_LDFLAGS $X_LIBS"
+   LDFLAGS="-L@FINK_PREFIX@/lib $X_LDFLAGS $X_LIBS"
    echo "$as_me:$LINENO: checking for XOpenDisplay in -lX11" >&5
 echo $ECHO_N "checking for XOpenDisplay in -lX11... $ECHO_C" >&6
 if test "${ac_cv_lib_X11_XOpenDisplay+set}" = set; then
@@ -15106,7 +15107,7 @@
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lportaudio  $LIBS"
+LIBS="-framework CoreAudio -framework AudioToolBox -lportaudio  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -15169,7 +15170,7 @@
 #define HAVE_LIBPORTAUDIO 1
 _ACEOF
 
-  LIBS="-lportaudio $LIBS"
+  LIBS="-framework CoreAudio -framework AudioToolBox -lportaudio $LIBS"
 
 else
   { { echo "$as_me:$LINENO: error: portaudio library not found or functional" >&5
@@ -15324,7 +15325,7 @@
 
             echo "$as_me:$LINENO: checking NEON_CFLAGS" >&5
 echo $ECHO_N "checking NEON_CFLAGS... $ECHO_C" >&6
-            NEON_CFLAGS=`$PKG_CONFIG --cflags "neon >= 0.24.0"`
+            NEON_CFLAGS=`$PKG_CONFIG --cflags "neon >= 0.24.0" | /usr/bin/sed "s|/include/neon|/include|"`
             echo "$as_me:$LINENO: result: $NEON_CFLAGS" >&5
 echo "${ECHO_T}$NEON_CFLAGS" >&6
 
--- solenv/inc/libs.mk	2005-06-21 00:27:27.000000000 +0900
+++ solenv/inc/libs.mk.fink	2005-08-06 23:25:40.000000000 +0900
@@ -206,7 +206,7 @@
 .IF "$(SYSTEM_JPEG)"=="YES"
 .IF "$(SOLAR_JAVA)" != ""
 #i34482# Blackdown jdk is in the libsearch patch and has a libjpeg
-JPEG3RDLIB=/usr/lib/libjpeg.so
+JPEG3RDLIB=-ljpeg
 .ELSE
 JPEG3RDLIB=-ljpeg
 .ENDIF
--- libxmlsec/xmlsec1-1.2.6.patch	2005-05-31 18:34:29.000000000 +0200
+++ libxmlsec/xmlsec1-1.2.6.patch.new	2005-07-07 13:32:26.000000000 +0200
@@ -710,6 +710,10 @@
 ! dummy
 --- 1,44 ----
 ! #! /bin/sh
+!
+! if test "$SYSTEM_LIBXML" = "YES"
+! then xml2-config "$@"; exit 0
+! fi
 ! 
 ! prefix=${SOLARVERSION}/${INPATH}
 ! includedir=${SOLARVERSION}/${INPATH}/inc${UPDMINOREXT}/external
