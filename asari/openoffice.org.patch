### Script to create language packs
--- /dev/null	Fri Feb 10 20:33:39 2006
+++ languagepack-splitoff	Fri Feb 10 20:32:14 2006
@@ -0,0 +1,42 @@
+#!/bin/bash
+
+set -e
+
+lang1=$1
+lang2=$2
+fink_p=$3
+fink_d=$4
+fink_i=$5
+fink_N=$6
+# Setting up environment
+case `uname -p` in
+  powerpc) . ./MacOSXPPCEnv.Set.sh;;
+  i386) . ./MacOSXIntelEnv.Set.sh;;
+  *) echo 'Unknown architecture'; exit 1;;
+esac
+
+# Variables needed to execute make_installer.pl
+export OUT="../$INPATH"
+export LOCAL_OUT="$OUT"
+export LOCAL_COMMON_OUT="$OUT"
+solarlibdir=$SOLARVER/$UPD/$INPATH/lib
+export PYTHONPATH=$SRC_ROOT/instsetoo_native/$INPATH/bin:$solarlibdir:$solarlibdir/python:$solarlibdir/python/lib-dynload
+build=`sed -n 's/^BUILD=\(.*\)$/\1/p' $SOLARENVINC/minor.mk`
+
+set -v
+
+# Install language pack
+pushd instsetoo_native/util
+/usr/bin/perl -w $SOLARENV/bin/make_installer.pl \
+  -f openoffice.lst -l $lang2 -p OpenOffice \
+  -packagelist ../inc_openoffice/unix/packagelist.txt \
+  -buildid $build -languagepack \
+  -destdir $fink_d \
+  -simple $fink_p/lib/$fink_N
+popd
+
+# Remove the list files
+/bin/rm -v $fink_d/gid_Module*
+
+/usr/bin/install -m 755 -d $fink_i/share/doc/$fink_N-$lang1
+/bin/ln -sf $fink_p/lib/$fink_N/licenses/LICENSE_$lang2 $fink_i/share/doc/$fink_N-$lang1/LICENSE
### Script to convert Mac OS X fonts to truetype fonts
--- /dev/null	Tue Feb  7 11:38:20 2006
+++ update-ooo-fonts.in	Tue Feb  7 11:37:47 2006
@@ -0,0 +1,52 @@
+#!/bin/sh
+set -e
+case $1 in
+    -h|-help|--help)
+    echo "Usage: `basename $0` [--clean]"
+    exit 0;;
+    ""|--clean) ;;
+    *)
+    echo "Usage: `basename $0` [--clean]"
+    exit 1;;
+esac
+
+/bin/mkdir -p "@PREFIX@/lib/@PKGNAME@/share/fonts/fondu"
+trap '/bin/rm -rf "@PREFIX@/lib/@PKGNAME@/share/fonts/fondu/"*.tmp' 0
+cd "@PREFIX@/lib/@PKGNAME@/share/fonts"
+
+# Remove old fonts and symlinks
+echo "Cleaning old Mac OS X fonts..."
+/bin/rm -f truetype/.fondudone
+/usr/bin/find -H truetype -type l > fondu/oldlinks.tmp
+while read link; do
+    to=`@PREFIX@/sbin/readlink "$link" || :`
+    case $to in
+        ../fondu/*) /bin/rm -f "$link"
+    esac
+done < fondu/oldlinks.tmp
+case $1 in
+    --clean)
+    /bin/rm -rf fondu
+    exit 0;;
+    *) /usr/bin/find -H fondu -type f -delete;;
+esac
+
+# Convert fonts
+echo "Converting Mac OS X fonts..."
+cd fondu
+/usr/bin/find -H /System/Library/Fonts /Library/Fonts -type f > sysfonts.tmp
+{
+    while read font; do
+        @PREFIX@/bin/fondu -force "$font" || :
+    done < sysfonts.tmp 3>&2 2>&1 1>&3 |
+      /usr/bin/grep -v "Can't find an appropriate resource fork" || :
+} 3>&2 2>&1 1>&3 3>&-
+/usr/bin/find -H . -name "*.bdf" -delete
+/usr/bin/find -H . -name "*.ttf" | /usr/bin/sed 's/.*\///' > fondu-ttf.tmp
+cd "@PREFIX@/lib/@PKGNAME@/share/fonts"
+
+# Create new symlinks
+while read font; do
+  /bin/ln -sf "../fondu/$font" "truetype/$font"
+done < fondu/fondu-ttf.tmp
+/usr/bin/touch truetype/.fondudone
### No-op if --with-system-python
--- python/makefile.mk	2005-12-29 01:57:47.000000000 +0900
+++ python/makefile.mk.fink	2006-01-15 20:59:52.000000000 +0900
@@ -105,7 +105,7 @@
 .ENDIF			# "$(SYSBASE)"!=""
 
 CONFIGURE_ACTION=./configure --prefix=$(MYCWD)/python-inst --enable-shared CFLAGS="$(python_CFLAGS)" LDFLAGS="$(python_LDFLAGS)"
-.IF "$(OS)$(CPU)" == "SOLARISI"
+.IF "$(OS)$(CPU)" == "SOLARISI" || "$(OS)$(BUILD_OS_MAJOR)$(BUILD_OS_MINOR)" == "MACOSX103"
 CONFIGURE_ACTION += --disable-ipv6
 .ENDIF
 .IF "$(COMNAME)"=="sunpro5"

### Temporarily disabling checkdll!
--- OOF680_m15/solenv/bin/checkdll.sh	2007-05-02 03:38:03.000000000 +0900
+++ OOF680_m15.fink/solenv/bin/checkdll.sh	2007-05-02 03:25:39.000000000 +0900
@@ -42,7 +42,8 @@
     exit 1
 }
 
-checkdll="$SOLARVERSION/$INPATH/bin$UPDMINOREXT/checkdll"
+#checkdll="$SOLARVERSION/$INPATH/bin$UPDMINOREXT/checkdll"
+checkdll=/usr/bin/true
 
 if [ -x $checkdll ]; then
     while :
