Package: openoffice
Version: 1.9m93
Revision: 2
Description: Integrated office productivity suite
License: OSI-Approved
Maintainer: Todai Fink Team <fink@sodan.ecc.u-tokyo.ac.jp>

BuildDepends: <<
  x11-dev, ant, bison, fileutils, system-java14-dev,
  archive-zip-pm581, libidl2,
  atk1, audiofile, esound, gconf2-dev, gettext-dev, glib2-dev,
  gnome-keyring-dev, gnome-vfs2-ssl-dev | gnome-vfs2-dev,
  gtk+2-dev, libart2, libbonobo2-dev, libbonoboui2-dev, libglade2,
  libgnome2-dev, libgnomecanvas2-dev, libgnomeprint2.2-dev,
  libgnomeprintui2.2-dev, libgnomeui2-dev, libiconv-dev, libjpeg, libxml2,
  orbit2-dev, pango1-xft2-dev, pcre, pkgconfig, popt, vte-dev,
<<
Depends: x11, system-java14, system-perl

Source: ftp://ooopackages.good-day.net/pub/OpenOffice.org/sources/OOo_%v_source.tar.bz2
Source-MD5: 30989783ca51e90a33d61bde5421d508
NoSourceDirectory: true
Source2: ftp://ooopackages.good-day.net/pub/OpenOffice.org/MacOSX/%v/%n2-macosx-20050414.tar.bz2
Source2-MD5: 18897c1e2c44a824e44965e5bbf230ce
Source3: ftp://ftp.cs.man.ac.uk/pub/toby/gpc/gpc231.tar.Z
Source3-MD5: fdb06fdb5a4670b172f9fb738b717be9
Source4: mirror:custom:mozilla/releases/mozilla1.7.5/source/mozilla-source-1.7.5.tar.bz2
Source4-MD5: e5994f3e801cd834966367c6a12f8aeb
CustomMirror: <<
  Primary: http://ftp.mozilla.org/pub/mozilla.org/
  nam-US: ftp://ftp.spnet.net/mozilla/
  eur-BE: ftp://ftp.kulnet.kuleuven.ac.be/mirror/mozilla-releases/
  asi-JP: http://core.ring.gr.jp/pub/net/www/mozilla/
<<

PatchScript: <<
  #!/bin/sh -ev
  /bin/mv gpc231/gpc.{c,h} external/gpc
  /usr/bin/tar zcf moz/download/mozilla-source-1.7.5.tar.gz mozilla
  for patch in openoffice2-macosx/patches/patch-*; do
    patch -p0 < $patch
  done
<<

# --with-lang=ALL --with-dict=ALL \
ConfigureParams: <<
  --with-gnu-cp=%p/bin/cp \
  --enable-mozilla --enable-build-mozilla \
  --with-package-format=portable \
  --with-x \
  --with-jdk-home=/Library/Java/Home --with-ant-home=%p/lib/ant \
  --disable-gtk \
  --enable-gnome-vfs=no \
  --with-build-version="Built with Fink <http://fink.sourceforge.net>"
<<
CompileScript: <<
  #!/bin/tcsh -ev
  unsetenv LD_SEG_ADDR_TABLE
  unsetenv LD_PREBIND
  unsetenv LD_PREBIND_ALLOW_OVERLAP
  (cd config_office && ./configure %c)
  ./bootstrap
  source MacosxEnv.Set
  (cd moz && build.pl && deliver.pl && dmake zip && /bin/cp unxmacxp.pro/zipped/*.zip zipped)
  setenv DEFAULT_TO_ENGLISH_FOR_PACKING yes
  (cd instsetoo_native  && build.pl --all)
<<

InstallScript: <<
  #!/bin/sh -ex
  /usr/bin/install -m 755 -d %i/lib
  for i in instsetoo_native/unxmacxp.pro/OpenOffice/install/en-US/darwin-*/*.sw; do
    /usr/bin/tar xf $i -C %i/lib
  done
  /bin/mv %i/{Applications,%n}
<<

DescDetail: <<
OpenOffice.org is an Open Source, community-developed, multi-platform office
productivity suite. It includes the key desktop applications, such as a
word processor, spreadsheet, presentation manager, and drawing program,
with a user interface and feature set similar to other office suites.

Components include:
  * A universal word processing application for creating business
    letters, extensive text documents, professional layouts, and HTML
    documents.
  * A sophisticated application for performing advanced spreadsheet
    functions, such as analyzing figures, creating lists, and viewing data.
  * A tool for creating effective eye-catching presentations.
  * A vector-oriented draw module that enables the creation of 3D
    illustrations.
<<
Homepage: http://www.openoffice.org/