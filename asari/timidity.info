Package: timidity
Version: 2.13.2
Revision: 6
Description: MIDI to WAVE converter and player
License: GPL
Maintainer: ASARI Takashi <asari@sodan.ecc.u-tokyo.ac.jp>

Depends: ncurses-shlibs, slang-shlibs, lesstif-shlibs, tcltk, gtk+-shlibs, libogg-shlibs, libvorbis-shlibs, macosx
BuildDepends: ncurses-dev, slang, lesstif, tcltk-dev, xaw3d, gtk+, libogg, libvorbis
Suggests: timidity-voice

Source: mirror:sourceforge:timidity/TiMidity++-%v.tar.bz2
Source-MD5: a82ceeb2245e22f4de2b41da21eaee32

ConfigureParams: --bindir=%p/lib/%n --mandir=%p/share/man --enable-interface=ncurses,slang,motif,tcltk,emacs,vt100,xaw,gtk,server --enable-network --enable-spectrogram --enable-wrd --with-default-path=%p/etc --with-lispdir=%p/share/emacs/site-lisp --with-x 

InstallScript: <<
#!/bin/sh
/usr/bin/make install DESTDIR=%i/..

/usr/bin/install -d -m 755 %i/bin
/bin/cat > %i/bin/%n <<EOF
#!/bin/sh
if [ -z "\$TIMIDITY_CFG" ]; then
  %p/lib/%n/%n "\$@"
else
  %p/lib/%n/%n --config-file="\$TIMIDITY_CFG" "\$@"
fi
EOF
/bin/chmod 755 %i/bin/%n

/usr/bin/install -d -m 755 %i/etc
/bin/cat > %i/etc/%n.cfg <<EOF
# This file is a config file of TiMidity++, generated by Fink.
# You don't have to modify this file manually,
# if you use patches provided by fink.
EOF
/bin/chmod 644 %i/etc/%n.cfg

/usr/bin/install -d -m 755 %i/share/doc/%n/{C,ja_JP.eucJP}
/usr/bin/install -c -m 644 doc/C/{CHANGES.02i,README.*} %i/share/doc/%n/C
/usr/bin/install -c -m 644 doc/ja_JP.eucJP/README.* %i/share/doc/%n/ja_JP.eucJP
<<
DocFiles: AUTHORS ChangeLog* COPYING INSTALL* NEWS README* TODO

ConfFiles: %p/etc/%n.cfg

SplitOff: <<
  Package: %N-el
  Description: Emacs interface for TiMidity++
  Depends: emacsen
  InstallScript:<<
#!/bin/sh
/usr/bin/install -d -m 755 %i/etc/emacs/site-start.d/
/bin/cat >> %i/etc/emacs/site-start.d/50%N.el <<EOF
(autoload 'timidity "timidity" "TiMidity Interface" t)
(setq timidity-prog-path "%p/bin/%N")
EOF
  <<
  DocFiles: AUTHORS ChangeLog* COPYING INSTALL* NEWS README* TODO
  Files: share/emacs
<<

Homepage: http://timidity.sourceforge.net/
DescDetail: <<
TiMidity++ is a software synthesizer.
It can play MIDI files by converting them into PCM waveform data;
give it a MIDI data along with digital instrument data files,
then it synthesizes them in real-time, and plays.
It can not only play sounds, but also can save the generated waveforms
into hard disks as various audio file formats.
<<
DescPackaging: <<
The voices (i.e. Eawpatches, Izumo patches, etc.) should be installed in
/sw/share/timidity/PATCH_NAME (i.e. /sw/share/timidity/eawpatches etc.).
The voices can use TIMIDITY_CFG environment variable for an easy setup.
<<
