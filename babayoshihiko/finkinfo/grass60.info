Package: grass60
Version: 6.0.0
Revision: 1
Description: Powerful GIS software
License: GPL
Homepage: http://grass.itc.it
Maintainer: Baba Yoshihiko <babayoshihiko@mac.com>
DescDetail: <<
Very Powerful Geographical Information System with CLI and GUI.
<<
DescUsage: Just type 'grass60' at the command prompt inside an X environment.

# Dependencies.
Depends: %N-shlibs (>=%v-%r), fftw-shlibs, gdal, proj, gettext, libjpeg-shlibs, libpng3-shlibs, libtiff-shlibs, lesstif-shlibs, postgresql80 (>= 8.0.2-11) | postgresql80-ssl (>= 8.0.2-11), tcltk (>= 8.4.1-1), unixodbc2-nox-shlibs | unixodbc2-shlibs, x11-shlibs
BuildDepends: fftw, gdal-dev, libjpeg, libpng3, libtiff, lesstif, postgresql80-dev (>= 8.0.2-11) | postgresql80-ssl-dev (>= 8.0.2-11), readline (>= 4.3-5), tcltk-dev (>= 8.4.1-1), unixodbc2-nox | unixodbc2, x11, x11-dev
Suggests: g77, r-base
Conflicts: grass
Replaces: grass

# Unpack Phase.
Source: http://grass.itc.it/grass60/source/grass-%v.tar.gz
CustomMirror: <<
 afr-ZA: http://grass.ru.ac.za/grass60/source/
 asi-JP: http://wgrass.media.osaka-cu.ac.jp/grassh/grass60/source/
 asi-TH: http://www.hpcc.nectec.or.th/grass/grass60/source/
 asi-TW: http://grass.cis.sinica.edu.tw/grass60/source/
 eur-DE: http://www.geog.uni-hannover.de/grass/grass60/source/
 eur-IT: http://grass.itc.it/grass60/source/
 eur-UK: http://www.fieldinstruments.co.uk/grass/grass60/source/
 nam-US: http://grass.ibiblio.org/grass60/source/
<<
Source-MD5: acfa05ada219cd15c9db1a5d5320e008
#Source2: http://wwwamb.bologna.enea.it/forgrass/files/grass60-patch-OSX-10.4.zip
#Source2-MD5: bb4b390695852195842993ea06874391

# Patch Phase.

# Compile Phase.
#SetCFLAGS: -faltivec -framework Accelerate
GCC: 3.3
ConfigureParams: <<
	--bindir=%p/grass/bin \
	--with-postgres-includes=%p/include/postgresql \
	--with-readline \
	--with-includes='%p/include /usr/X11R6/include' \
	--bindir=%i/bin \
	--with-dbm \
	--with-gdal=%p/bin/gdal-config \
	--with-glw \
	--with-freetype \
	--with-freetype-includes=/usr/X11R6/include/freetype2 \
	--with-freetype-libs=/usr/X11R6/lib \
	--with-motif \
	--with-glw-includes=/usr/X11R6/include \
	--with-nls \
	--with-proj \
	--with-proj-includes=%p/include \
	--with-proj-libs=%p/lib
<<
CompileScript: ./configure %c; make

# Install Phase.
InstallScript: <<
#!/bin/sh -xe

  export SHELL="/bin/sh -xe"
  
  # Installing grass60
  make install prefix=%i/share
  
  # Installing Shared Libraries
  mkdir %i/lib
  cp dist.powerpc-apple-darwin*/lib/*.dylib %i/lib
  cp dist.powerpc-apple-darwin*/lib/*.a %i/lib
  
  # Installing Headers
  mkdir %i/include
  cp dist.powerpc-apple-darwin*/include/*.h %i/include
<<
DocFiles: AUTHORS CHANGES COPYING GPL.TXT INSTALL README REQUIREMENTS.html SUBMITTING TODO dist.powerpc-apple-darwin*/docs/html/*.html dist.powerpc-apple-darwin*/docs/nviz/*.html dist.powerpc-apple-darwin*/docs/nviz/*.gif  dist.powerpc-apple-darwin*/docs/nviz/nvimg/*/*.gif

# Additional Phase.
SplitOff: <<
  Description: PostgreSQL development headers and libraries
  Package: %N-dev
  Depends: %N (>= %v-%r)
  BuildDependsOnly: true
  Files: <<
    include/*
  <<
<<
SplitOff2: <<
  Package: %N-shlibs
  Files: lib/*.6.0.0.dylib
  Shlibs: <<
	       %p/lib/libgrass_D.6.0.0.dylib            0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_I.6.0.0.dylib            0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_Iortho.6.0.0.dylib       0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_bitmap.6.0.0.dylib       0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_btree.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_cdhc.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_datetime.6.0.0.dylib     0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dbmibase.6.0.0.dylib     0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dbmiclient.6.0.0.dylib   0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dbmidriver.6.0.0.dylib   0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dbstubs.6.0.0.dylib      0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dgl.6.0.0.dylib          0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dig2.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_display.6.0.0.dylib      0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_dspf.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_edit.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_form.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_g3d.6.0.0.dylib          0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_gis.6.0.0.dylib          0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_gmath.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_gproj.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_image.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_interpdata.6.0.0.dylib   0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_interpfl.6.0.0.dylib     0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_ismap.6.0.0.a            0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_linkm.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_manage.6.0.0.a           0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_ogsf.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_qtree.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_raster.6.0.0.dylib       0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_rowio.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_rtree.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_segment.6.0.0.dylib      0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_shape.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_sites.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_sqlp.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_symb.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_trans.6.0.0.dylib        0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_vask.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
           %p/lib/libgrass_vect.6.0.0.dylib         0.0.0 grass60 (>=6.0.0-1)
	<<
<<

DescPort: <<

LAPACK and BLAS supports are disabled because no module uses them in version 6.0.0.

<<