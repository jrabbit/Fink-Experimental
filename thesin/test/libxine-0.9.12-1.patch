diff -ruN xine-lib-0.9.10cvs.orig/configure xine-lib-0.9.10cvs/configure
--- xine-lib-0.9.10cvs.orig/configure	Thu May 23 20:18:09 2002
+++ xine-lib-0.9.10cvs/configure	Fri May 24 09:44:29 2002
@@ -12451,7 +12451,7 @@
 #define ENABLE_ALTIVEC 1
 EOF
 
-        CFLAGS="$CFLAGS -Wa,-m7400"
+        CFLAGS="$CFLAGS -Wa, -faltivec"
     fi
     ;;
 
diff -ruN xine-lib-0.9.10cvs.orig/src/input/Makefile.in xine-lib-0.9.10cvs/src/input/Makefile.in
--- xine-lib-0.9.10cvs.orig/src/input/Makefile.in	Thu May 23 20:19:44 2002
+++ xine-lib-0.9.10cvs/src/input/Makefile.in	Fri May 24 11:56:07 2002
@@ -189,8 +189,8 @@
 #
 
 @HAVE_CDROM_IOCTLS_TRUE@in_dvd = xineplug_inp_dvd.la
-@HAVE_CDROM_IOCTLS_TRUE@in_vcd = xineplug_inp_vcd.la
-@HAVE_CDROM_IOCTLS_TRUE@in_cda = xineplug_inp_cda.la
+#@HAVE_CDROM_IOCTLS_TRUE@in_vcd = xineplug_inp_vcd.la
+#@HAVE_CDROM_IOCTLS_TRUE@in_cda = xineplug_inp_cda.la
 
 lib_LTLIBRARIES = xineplug_inp_file.la $(in_dvd) $(in_vcd) $(in_cda) 	xineplug_inp_stdin_fifo.la xineplug_inp_net.la 	xineplug_inp_rtp.la xineplug_inp_http.la xineplug_inp_mms.la
 
diff -ruN xine-lib-0.9.10cvs.orig/src/input/input_rtp.c xine-lib-0.9.10cvs/src/input/input_rtp.c
--- xine-lib-0.9.10cvs.orig/src/input/input_rtp.c	Sun May  5 14:20:11 2002
+++ xine-lib-0.9.10cvs/src/input/input_rtp.c	Fri May 24 12:31:12 2002
@@ -67,7 +67,6 @@
 #endif
 
 #include <stdio.h>
-#include <malloc.h>
 #include <unistd.h>
 #include <fcntl.h>
 #include <string.h>
diff -ruN xine-lib-0.9.10cvs.orig/src/libmpeg2/cpu_state.c xine-lib-0.9.10cvs/src/libmpeg2/cpu_state.c
--- xine-lib-0.9.10cvs.orig/src/libmpeg2/cpu_state.c	Mon Apr  1 06:18:21 2002
+++ xine-lib-0.9.10cvs/src/libmpeg2/cpu_state.c	Fri May 24 14:24:11 2002
@@ -39,7 +39,7 @@
 }
 #endif
 
-#ifdef ARCH_PPC
+#if defined(ARCH_PPC) && defined(ENABLE_ALTIVEC)
 static void state_save_altivec (cpu_state_t * state)
 {
     asm ("						\n"
@@ -106,7 +106,7 @@
 	mpeg2_cpu_state_restore = state_restore_mmx;
     }
 #endif
-#ifdef ARCH_PPC
+#if defined(ARCH_PPC) && defined(ENABLE_ALTIVEC)
     if (mm_accel & MM_ACCEL_PPC_ALTIVEC) {
 	mpeg2_cpu_state_save = state_save_altivec;
 	mpeg2_cpu_state_restore = state_restore_altivec;
diff -ruN xine-lib-0.9.10cvs.orig/src/libmpeg2/idct_altivec.c xine-lib-0.9.10cvs/src/libmpeg2/idct_altivec.c
--- xine-lib-0.9.10cvs.orig/src/libmpeg2/idct_altivec.c	Mon Apr  1 06:18:21 2002
+++ xine-lib-0.9.10cvs/src/libmpeg2/idct_altivec.c	Fri May 24 13:18:52 2002
@@ -25,7 +25,7 @@
 
 #include "config.h"
 
-#ifdef ARCH_PPC
+#if defined (ARCH_PPC) && defined (ENABLE_ALTIVEC)
 
 #include <inttypes.h>
 
diff -ruN xine-lib-0.9.10cvs.orig/src/libmpeg2/motion_comp_altivec.c xine-lib-0.9.10cvs/src/libmpeg2/motion_comp_altivec.c
--- xine-lib-0.9.10cvs.orig/src/libmpeg2/motion_comp_altivec.c	Mon Apr  1 06:18:21 2002
+++ xine-lib-0.9.10cvs/src/libmpeg2/motion_comp_altivec.c	Fri May 24 13:19:45 2002
@@ -25,7 +25,7 @@
 
 #include "config.h"
 
-#ifdef ARCH_PPC
+#if defined(ARCH_PPC) && defined(ENABLE_ALTIVEC)
 
 #include <inttypes.h>
 
diff -ruN xine-lib-0.9.10cvs.orig/src/libspudec/spu.c xine-lib-0.9.10cvs/src/libspudec/spu.c
--- xine-lib-0.9.10cvs.orig/src/libspudec/spu.c	Wed Apr 24 14:26:07 2002
+++ xine-lib-0.9.10cvs/src/libspudec/spu.c	Fri May 24 12:48:46 2002
@@ -45,7 +45,6 @@
 #include <unistd.h>
 #include <string.h>
 #include <inttypes.h>
-#include <malloc.h>
 #include <sys/stat.h>
 #include <sys/types.h>
 #include <fcntl.h>
diff -ruN xine-lib-0.9.10cvs.orig/src/video_out/video_out_syncfb.c xine-lib-0.9.10cvs/src/video_out/video_out_syncfb.c
--- xine-lib-0.9.10cvs.orig/src/video_out/video_out_syncfb.c	Sat May  4 15:30:15 2002
+++ xine-lib-0.9.10cvs/src/video_out/video_out_syncfb.c	Fri May 24 10:47:55 2002
@@ -41,6 +41,7 @@
 #endif
 
 #include <sys/ioctl.h>
+#include <sys/types.h> /* Needs by darwin for sys/mman.h */
 #include <sys/mman.h>
 #include <math.h>
 #include <fcntl.h>
diff -ruN xine-lib-0.9.10cvs.orig/src/xine-engine/Makefile.am xine-lib-0.9.10cvs/src/xine-engine/Makefile.am
--- xine-lib-0.9.10cvs.orig/src/xine-engine/Makefile.am	Fri May  3 17:21:04 2002
+++ xine-lib-0.9.10cvs/src/xine-engine/Makefile.am	Fri May 24 11:05:43 2002
@@ -11,7 +11,7 @@
 	load_plugins.c video_decoder.c buffer_types.c \
 	audio_decoder.c video_out.c audio_out.c resample.c events.c lrb.c \
 	video_overlay.c osd.c scratch.c locale.c
-libxine_la_DEPENDENCIES = @INTLLIBS@
+libxine_la_DEPENDENCIES = 
 libxine_la_LIBADD = $(THREAD_LIBS) $(DYNAMIC_LD_LIBS) @INTLLIBS@ $(ZLIB_LIBS) -lm
 
 libxine_la_LDFLAGS =  \
diff -ruN xine-lib-0.9.10cvs.orig/src/xine-engine/Makefile.in xine-lib-0.9.10cvs/src/xine-engine/Makefile.in
--- xine-lib-0.9.10cvs.orig/src/xine-engine/Makefile.in	Thu May 23 20:19:36 2002
+++ xine-lib-0.9.10cvs/src/xine-engine/Makefile.in	Fri May 24 09:33:20 2002
@@ -187,7 +187,7 @@
 
 libxine_la_SOURCES = xine.c metronom.c configfile.c buffer.c 	load_plugins.c video_decoder.c buffer_types.c 	audio_decoder.c video_out.c audio_out.c resample.c events.c lrb.c 	video_overlay.c osd.c scratch.c locale.c
 
-libxine_la_DEPENDENCIES = @INTLLIBS@
+libxine_la_DEPENDENCIES = 
 libxine_la_LIBADD = $(THREAD_LIBS) $(DYNAMIC_LD_LIBS) @INTLLIBS@ $(ZLIB_LIBS) -lm
 
 libxine_la_LDFLAGS =  	-version-info $(LT_CURRENT):$(LT_REVISION):$(LT_AGE)
