diff -ruN pilot-link-0.11.0.orig/bindings/Java/Makefile.in pilot-link-0.11.0/bindings/Java/Makefile.in
--- pilot-link-0.11.0.orig/bindings/Java/Makefile.in	Fri Jul 12 12:39:28 2002
+++ pilot-link-0.11.0/bindings/Java/Makefile.in	Mon Jul 15 16:36:20 2002
@@ -151,7 +151,7 @@
 COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) -o $@
 DIST_COMMON =  README Makefile.am Makefile.in
 
 
@@ -228,7 +228,7 @@
 
 doConstants$(EXEEXT): $(doConstants_OBJECTS) $(doConstants_DEPENDENCIES)
 	@rm -f doConstants$(EXEEXT)
-	$(LINK) $(doConstants_LDFLAGS) $(doConstants_OBJECTS) $(doConstants_LDADD) $(LIBS)
+	$(LINK) $(doConstants_LDFLAGS) $(doConstants_OBJECTS) $(doConstants_LDADD) $(LDFLAGS) $(LIBS)
 
 tags: TAGS
 
diff -ruN pilot-link-0.11.0.orig/configure pilot-link-0.11.0/configure
--- pilot-link-0.11.0.orig/configure	Fri Jul 12 12:30:49 2002
+++ pilot-link-0.11.0/configure	Tue Jul 16 20:30:47 2002
@@ -6262,7 +6262,7 @@
   echo $ac_n "(cached) $ac_c" 1>&6
 else
   ac_save_LIBS="$LIBS"
-LIBS="-lpng  $LIBS"
+LIBS="-L${prefix}/lib -lpng  $LIBS"
 cat > conftest.$ac_ext <<EOF
 #line 6268 "configure"
 #include "confdefs.h"
@@ -6286,7 +6286,7 @@
 fi
 if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
   echo "$ac_t""yes" 1>&6
-  have_png=yes; LIBS="$LIBS -lpng"
+  have_png=yes; LIBS="$LIBS -L${prefix}/lib -lpng"
 else
   echo "$ac_t""no" 1>&6
 fi
@@ -6579,7 +6579,7 @@
 echo "configure:6580: checking for readline" >&5
 
 	ac_save_LIBS="$LIBS"
-	LIBS="$LIBS -lreadline"
+	LIBS="$LIBS -L${prefix}/lib -lreadline"
 	cat > conftest.$ac_ext <<EOF
 #line 6585 "configure"
 #include "confdefs.h"
@@ -6590,7 +6590,7 @@
 EOF
 if { (eval echo configure:6592: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
-  RL_LIBS="-lreadline"
+  RL_LIBS="-L${prefix}/lib -lreadline"
 else
   echo "configure: failed program was:" >&5
   cat conftest.$ac_ext >&5
@@ -6606,7 +6606,7 @@
 EOF
 if { (eval echo configure:6608: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
-  RL_LIBS="-lreadline -ltermcap"
+  RL_LIBS="-L${prefix}/lib -lreadline -ltermcap"
 else
   echo "configure: failed program was:" >&5
   cat conftest.$ac_ext >&5
diff -ruN pilot-link-0.11.0.orig/include/pi-source.h pilot-link-0.11.0/include/pi-source.h
--- pilot-link-0.11.0.orig/include/pi-source.h	Tue Mar 19 13:05:11 2002
+++ pilot-link-0.11.0/include/pi-source.h	Mon Jul 15 15:46:57 2002
@@ -50,6 +50,10 @@
 #endif
 #endif
 
+#ifndef ENOMSG
+# define ENOMSG 150
+#endif
+
 #ifndef WIN32
 #ifdef SGTTY
 # include <sgtty.h>
diff -ruN pilot-link-0.11.0.orig/libpisock/Makefile.in pilot-link-0.11.0/libpisock/Makefile.in
--- pilot-link-0.11.0.orig/libpisock/Makefile.in	Fri Jul 12 12:39:18 2002
+++ pilot-link-0.11.0/libpisock/Makefile.in	Mon Jul 15 16:34:12 2002
@@ -211,7 +211,7 @@
 COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) -o $@
 DIST_COMMON =  Makefile.am Makefile.in
 
 
@@ -303,7 +303,7 @@
 maintainer-clean-libtool:
 
 libpisock.la: $(libpisock_la_OBJECTS) $(libpisock_la_DEPENDENCIES)
-	$(LINK) -rpath $(libdir) $(libpisock_la_LDFLAGS) $(libpisock_la_OBJECTS) $(libpisock_la_LIBADD) $(LIBS)
+	$(LINK) -rpath $(libdir) $(libpisock_la_LDFLAGS) $(libpisock_la_OBJECTS) $(libpisock_la_LIBADD) $(LDFLAGS) $(LIBS)
 
 tags: TAGS
 
diff -ruN pilot-link-0.11.0.orig/libpisock++/Makefile.in pilot-link-0.11.0/libpisock++/Makefile.in
--- pilot-link-0.11.0.orig/libpisock++/Makefile.in	Fri Jul 12 12:39:20 2002
+++ pilot-link-0.11.0/libpisock++/Makefile.in	Mon Jul 15 16:34:42 2002
@@ -151,7 +151,7 @@
 CXXCOMPILE = $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
 LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
 CXXLD = $(CXX)
-CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -o $@
+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) -o $@
 DIST_COMMON =  Makefile.am Makefile.in
 
 
@@ -243,7 +243,7 @@
 maintainer-clean-libtool:
 
 libpisock++.la: $(libpisock___la_OBJECTS) $(libpisock___la_DEPENDENCIES)
-	$(CXXLINK) -rpath $(libdir) $(libpisock___la_LDFLAGS) $(libpisock___la_OBJECTS) $(libpisock___la_LIBADD) $(LIBS)
+	$(CXXLINK) -rpath $(libdir) $(libpisock___la_LDFLAGS) $(libpisock___la_OBJECTS) $(libpisock___la_LIBADD) $(LDFLAGS) $(LIBS)
 .cc.o:
 	$(CXXCOMPILE) -c $<
 .cc.obj:
diff -ruN pilot-link-0.11.0.orig/libpisync/Makefile.in pilot-link-0.11.0/libpisync/Makefile.in
--- pilot-link-0.11.0.orig/libpisync/Makefile.in	Fri Jul 12 12:39:19 2002
+++ pilot-link-0.11.0/libpisync/Makefile.in	Mon Jul 15 16:33:40 2002
@@ -150,7 +150,7 @@
 COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) -o $@
 DIST_COMMON =  Makefile.am Makefile.in
 
 
@@ -242,7 +242,7 @@
 maintainer-clean-libtool:
 
 libpisync.la: $(libpisync_la_OBJECTS) $(libpisync_la_DEPENDENCIES)
-	$(LINK) -rpath $(libdir) $(libpisync_la_LDFLAGS) $(libpisync_la_OBJECTS) $(libpisync_la_LIBADD) $(LIBS)
+	$(LINK) -rpath $(libdir) $(libpisync_la_LDFLAGS) $(libpisync_la_OBJECTS) $(libpisync_la_LIBADD) $(LDFLAGS) $(LIBS)
 
 tags: TAGS
 
diff -ruN pilot-link-0.11.0.orig/ltmain.sh pilot-link-0.11.0/ltmain.sh
--- pilot-link-0.11.0.orig/ltmain.sh	Fri Jul 12 12:30:41 2002
+++ pilot-link-0.11.0/ltmain.sh	Mon Jul 15 15:52:22 2002
@@ -49,14 +49,14 @@
 fi
 
 # The name of this program.
-progname=`$echo "$0" | ${SED} 's%^.*/%%'`
+progname=`$echo "$0" | sed 's%^.*/%%'`
 modename="$progname"
 
 # Constants.
 PROGRAM=ltmain.sh
 PACKAGE=libtool
-VERSION=1.4.2a
-TIMESTAMP=" (1.922.2.100 2002/06/26 07:25:14)"
+VERSION=1.4.2
+TIMESTAMP=" (1.922.2.53 2001/09/11 03:18:52)"
 
 default_mode=
 help="Try \`$progname --help' for more information."
@@ -67,19 +67,10 @@
 
 # Sed substitution that helps us do robust quoting.  It backslashifies
 # metacharacters that are still active within double-quoted strings.
-Xsed="${SED}"' -e 1s/^X//'
+Xsed='sed -e 1s/^X//'
 sed_quote_subst='s/\([\\`\\"$\\\\]\)/\\\1/g'
-# test EBCDIC or ASCII                                                         
-case `echo A|od -x` in                                                         
- *[Cc]1*) # EBCDIC based system                                                
-  SP2NL="tr '\100' '\n'"                                                       
-  NL2SP="tr '\r\n' '\100\100'"                                                 
-  ;;                                                                           
- *) # Assume ASCII based system                                                
-  SP2NL="tr '\040' '\012'"                                                     
-  NL2SP="tr '\015\012' '\040\040'"                                             
-  ;;                                                                           
-esac                                                                           
+SP2NL='tr \040 \012'
+NL2SP='tr \015\012 \040\040'
 
 # NLS nuisances.
 # Only set LANG and LC_ALL to C if already set.
@@ -153,7 +144,7 @@
     ;;
 
   --config)
-    ${SED} -e '1,/^# ### BEGIN LIBTOOL CONFIG/d' -e '/^# ### END LIBTOOL CONFIG/,$d' $0
+    sed -e '1,/^# ### BEGIN LIBTOOL CONFIG/d' -e '/^# ### END LIBTOOL CONFIG/,$d' $0
     exit 0
     ;;
 
@@ -186,8 +177,6 @@
   --mode) prevopt="--mode" prev=mode ;;
   --mode=*) mode="$optarg" ;;
 
-  --preserve-dup-deps) duplicate_deps="yes" ;;
-
   --quiet | --silent)
     show=:
     ;;
@@ -478,7 +467,7 @@
       pic_mode=default
       ;;
     esac
-    if test "$pic_mode" = no && test "$deplibs_check_method" != pass_all; then
+    if test $pic_mode = no && test "$deplibs_check_method" != pass_all; then
       # non-PIC code in shared libraries is not supported
       pic_mode=default
     fi
@@ -1003,7 +992,7 @@
       # so, if we see these flags be careful not to treat them like -L
       -L[A-Z][A-Z]*:*)
 	case $with_gcc/$host in
-	no/*-*-irix* | no/*-*-nonstopux*)
+	no/*-*-irix*)
 	  compile_command="$compile_command $arg"
 	  finalize_command="$finalize_command $arg"
 	  ;;
@@ -1054,14 +1043,14 @@
 	    # These systems don't actually have a C library (as such)
 	    test "X$arg" = "X-lc" && continue
 	    ;;
-	  *-*-openbsd* | *-*-freebsd*)
+	  *-*-openbsd*)
 	    # Do not include libc due to us having libc/libc_r.
 	    test "X$arg" = "X-lc" && continue
 	    ;;
 	  esac
 	 elif test "X$arg" = "X-lc_r"; then
 	  case $host in
-	 *-*-openbsd* | *-*-freebsd*)
+	  *-*-openbsd*)
 	    # Do not include libc_r directly, use -pthread flag.
 	    continue
 	    ;;
@@ -1341,11 +1330,9 @@
     # Find all interdependent deplibs by searching for libraries
     # that are linked more than once (e.g. -la -lb -la)
     for deplib in $deplibs; do
-      if test "X$duplicate_deps" = "Xyes" ; then
-	case "$libs " in
-	*" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
-	esac
-      fi
+      case "$libs " in
+      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
+      esac
       libs="$libs $deplib"
     done
     deplibs=
@@ -1474,12 +1461,10 @@
 	  lib)
 	    if test "$deplibs_check_method" != pass_all; then
 	      echo
-	      echo "*** Warning: Trying to link with static lib archive $deplib."
+	      echo "*** Warning: This library needs some functionality provided by $deplib."
 	      echo "*** I have the capability to make that library automatically link in when"
 	      echo "*** you link to this library.  But I can only do this if you have a"
-	      echo "*** shared version of the library, which you do not appear to have"
-	      echo "*** because the file extensions .$libext of this argument makes me believe"
-	      echo "*** that it is just a static archive that I should not used here."
+	      echo "*** shared version of the library, which you do not appear to have."
 	    else
 	      echo
 	      echo "*** Warning: Linking the shared library $output against the"
@@ -1523,7 +1508,7 @@
 	fi
 
 	# Check to see that this really is a libtool archive.
-	if (${SED} -e '2q' $lib | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
+	if (sed -e '2q' $lib | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
 	else
 	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
 	  exit 1
@@ -1570,11 +1555,9 @@
 	    tmp_libs=
 	    for deplib in $dependency_libs; do
 	      deplibs="$deplib $deplibs"
-              if test "X$duplicate_deps" = "Xyes" ; then
-	        case "$tmp_libs " in
-	        *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
-	        esac
-              fi
+	      case "$tmp_libs " in
+	      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
+	      esac
 	      tmp_libs="$tmp_libs $deplib"
 	    done
 	  elif test $linkmode != prog && test $linkmode != lib; then
@@ -1697,11 +1680,9 @@
 	      # or/and link against static libraries
 	      newdependency_libs="$deplib $newdependency_libs"
 	    fi
-	    if test "X$duplicate_deps" = "Xyes" ; then
-	      case "$tmp_libs " in
-	      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
-	      esac
-	    fi
+	    case "$tmp_libs " in
+	    *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
+	    esac
 	    tmp_libs="$tmp_libs $deplib"
 	  done # for deplib
 	  continue
@@ -1785,8 +1766,8 @@
 
 	    # Make a new name for the extract_expsyms_cmds to use
 	    soroot="$soname"
-	    soname=`echo $soroot | ${SED} -e 's/^.*\///'`
-	    newlib="libimp-`echo $soname | ${SED} 's/^lib//;s/\.dll$//'`.a"
+	    soname=`echo $soroot | sed -e 's/^.*\///'`
+	    newlib="libimp-`echo $soname | sed 's/^lib//;s/\.dll$//'`.a"
 
 	    # If the library has no export list, then create one now
 	    if test -f "$output_objdir/$soname-def"; then :
@@ -1945,14 +1926,13 @@
 	    # Just print a warning and add the library to dependency_libs so
 	    # that the program can be linked against the static library.
 	    echo
-	    echo "*** Warning: This system can not link to static lib archive $lib."
+	    echo "*** Warning: This library needs some functionality provided by $lib."
 	    echo "*** I have the capability to make that library automatically link in when"
 	    echo "*** you link to this library.  But I can only do this if you have a"
 	    echo "*** shared version of the library, which you do not appear to have."
 	    if test "$module" = yes; then
-	      echo "*** But as you try to build a module library, libtool will still create "
-	      echo "*** a static module, that should work as long as the dlopening application"
-	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
+	      echo "*** Therefore, libtool will create a static module, that should work "
+	      echo "*** as long as the dlopening application is linked with the -dlopen flag."
 	      if test -z "$global_symbol_pipe"; then
 		echo
 		echo "*** However, this would only work if libtool was able to extract symbol"
@@ -2001,11 +1981,9 @@
 	  tmp_libs=
 	  for deplib in $dependency_libs; do
 	    newdependency_libs="$deplib $newdependency_libs"
-	    if test "X$duplicate_deps" = "Xyes" ; then
-	      case "$tmp_libs " in
-	      *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
-	      esac
-	    fi
+	    case "$tmp_libs " in
+	    *" $deplib "*) specialdeplibs="$specialdeplibs $deplib" ;;
+	    esac
 	    tmp_libs="$tmp_libs $deplib"
 	  done
 
@@ -2031,7 +2009,7 @@
 		if grep "^installed=no" $deplib > /dev/null; then
 		  path="-L$absdir/$objdir"
 		else
-		  eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
+		  eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
 		  if test -z "$libdir"; then
 		    $echo "$modename: \`$deplib' is not a valid libtool archive" 1>&2
 		    exit 1
@@ -2295,21 +2273,16 @@
 	  versuffix=".$current";
 	  ;;
 
-	irix | nonstopux)
+	irix)
 	  major=`expr $current - $age + 1`
-
-	  case $version_type in
-	    nonstopux) verstring_prefix=nonstopux ;;
-	    *)         verstring_prefix=sgi ;;
-	  esac
-	  verstring="$verstring_prefix$major.$revision"
+	  verstring="sgi$major.$revision"
 
 	  # Add in all the interfaces that we are compatible with.
 	  loop=$revision
 	  while test $loop != 0; do
 	    iface=`expr $revision - $loop`
 	    loop=`expr $loop - 1`
-	    verstring="$verstring_prefix$major.$iface:$verstring"
+	    verstring="sgi$major.$iface:$verstring"
 	  done
 
 	  # Before this point, $major must not contain `.'.
@@ -2415,9 +2388,9 @@
 
       # Eliminate all temporary directories.
       for path in $notinst_path; do
-	lib_search_path=`echo "$lib_search_path " | ${SED} -e 's% $path % %g'`
-	deplibs=`echo "$deplibs " | ${SED} -e 's% -L$path % %g'`
-	dependency_libs=`echo "$dependency_libs " | ${SED} -e 's% -L$path % %g'`
+	lib_search_path=`echo "$lib_search_path " | sed -e 's% $path % %g'`
+	deplibs=`echo "$deplibs " | sed -e 's% -L$path % %g'`
+	dependency_libs=`echo "$dependency_libs " | sed -e 's% -L$path % %g'`
       done
 
       if test -n "$xrpath"; then
@@ -2468,7 +2441,7 @@
 	  *-*-netbsd*)
 	    # Don't link with libc until the a.out ld.so is fixed.
 	    ;;
-	  *-*-openbsd* | *-*-freebsd*)
+	  *-*-openbsd*)
 	    # Do not include libc due to us having libc/libc_r.
 	    ;;
 	  *)
@@ -2529,20 +2502,18 @@
 		else
 		  droppeddeps=yes
 		  echo
-		  echo "*** Warning: dynamic linker does not accept needed library $i."
+		  echo "*** Warning: This library needs some functionality provided by $i."
 		  echo "*** I have the capability to make that library automatically link in when"
 		  echo "*** you link to this library.  But I can only do this if you have a"
-		  echo "*** shared version of the library, which I believe you do not have"
-		  echo "*** because a test_compile did reveal that the linker did not use it for"
-		  echo "*** its dynamic dependency list that programs get resolved with at runtime."
+		  echo "*** shared version of the library, which you do not appear to have."
 		fi
 	      else
 		newdeplibs="$newdeplibs $i"
 	      fi
 	    done
 	  else
-	    # Error occured in the first compile.  Let's try to salvage
-	    # the situation: Compile a separate program for each library.
+	    # Error occured in the first compile.  Let's try to salvage the situation:
+	    # Compile a seperate program for each library.
 	    for i in $deplibs; do
 	      name="`expr $i : '-l\(.*\)'`"
 	     # If $name is empty we are operating on a -L argument.
@@ -2561,12 +2532,10 @@
 		  else
 		    droppeddeps=yes
 		    echo
-		    echo "*** Warning: dynamic linker does not accept needed library $i."
+		    echo "*** Warning: This library needs some functionality provided by $i."
 		    echo "*** I have the capability to make that library automatically link in when"
 		    echo "*** you link to this library.  But I can only do this if you have a"
-		    echo "*** shared version of the library, which you do not appear to have"
-		    echo "*** because a test_compile did reveal that the linker did not use this one"
-		    echo "*** as a dynamic dependency that programs can get resolved with at runtime."
+		    echo "*** shared version of the library, which you do not appear to have."
 		  fi
 		else
 		  droppeddeps=yes
@@ -2605,14 +2574,14 @@
 		      # but so what?
 		      potlib="$potent_lib"
 		      while test -h "$potlib" 2>/dev/null; do
-			potliblink=`ls -ld $potlib | ${SED} 's/.* -> //'`
+			potliblink=`ls -ld $potlib | sed 's/.* -> //'`
 			case $potliblink in
 			[\\/]* | [A-Za-z]:[\\/]*) potlib="$potliblink";;
 			*) potlib=`$echo "X$potlib" | $Xsed -e 's,[^/]*$,,'`"$potliblink";;
 			esac
 		      done
 		      if eval $file_magic_cmd \"\$potlib\" 2>/dev/null \
-			 | ${SED} 10q \
+			 | sed 10q \
 			 | egrep "$file_magic_regex" > /dev/null; then
 			newdeplibs="$newdeplibs $a_deplib"
 			a_deplib=""
@@ -2623,17 +2592,10 @@
 	      if test -n "$a_deplib" ; then
 		droppeddeps=yes
 		echo
-		echo "*** Warning: linker path does not have real file for library $a_deplib."
+		echo "*** Warning: This library needs some functionality provided by $a_deplib."
 		echo "*** I have the capability to make that library automatically link in when"
 		echo "*** you link to this library.  But I can only do this if you have a"
-		echo "*** shared version of the library, which you do not appear to have"
-		echo "*** because I did check the linker path looking for a file starting"
-		if test -z "$potlib" ; then
-		  echo "*** with $libname but no candidates were found. (...for file magic test)"
-		else
-		  echo "*** with $libname and none of the candidates passed a file format test"
-		  echo "*** using a file magic. Last file checked: $potlib"
-		fi
+		echo "*** shared version of the library, which you do not appear to have."
 	      fi
 	    else
 	      # Add a -L argument.
@@ -2652,9 +2614,8 @@
 	      for i in $lib_search_path $sys_lib_search_path $shlib_search_path; do
 		potential_libs=`ls $i/$libname[.-]* 2>/dev/null`
 		for potent_lib in $potential_libs; do
-		  potlib="$potent_lib" # see symlink-check below in file_magic test
 		  if eval echo \"$potent_lib\" 2>/dev/null \
-		      | ${SED} 10q \
+		      | sed 10q \
 		      | egrep "$match_pattern_regex" > /dev/null; then
 		    newdeplibs="$newdeplibs $a_deplib"
 		    a_deplib=""
@@ -2665,17 +2626,10 @@
 	      if test -n "$a_deplib" ; then
 		droppeddeps=yes
 		echo
-		echo "*** Warning: linker path does not have real file for library $a_deplib."
+		echo "*** Warning: This library needs some functionality provided by $a_deplib."
 		echo "*** I have the capability to make that library automatically link in when"
 		echo "*** you link to this library.  But I can only do this if you have a"
-		echo "*** shared version of the library, which you do not appear to have"
-		echo "*** because I did check the linker path looking for a file starting"
-		if test -z "$potlib" ; then
-		  echo "*** with $libname but no candidates were found. (...for regex pattern test)"
-		else
-		  echo "*** with $libname and none of the candidates passed a file format test"
-		  echo "*** using a regex pattern. Last file checked: $potlib"
-		fi
+		echo "*** shared version of the library, which you do not appear to have."
 	      fi
 	    else
 	      # Add a -L argument.
@@ -2942,15 +2896,9 @@
 	else
 	  save_deplibs="$deplibs"
 	  for conv in $convenience; do
-	    tmp_deplibs=
-	    for test_deplib in $deplibs; do
-	      if test "$test_deplib" != "$conv"; then
-		tmp_deplibs="$tmp_deplibs $test_deplib"
-	      fi
-	    done
-	    deplibs="$tmp_deplibs"
+	    deplibs="${deplibs%$conv*} ${deplibs#*$conv}"
 	  done
-	  eval cmds=\"$archive_cmds\"
+ 	  eval cmds=\"$archive_cmds\"
 	  deplibs="$save_deplibs"
 	fi
 	save_ifs="$IFS"; IFS='~'
@@ -3150,7 +3098,7 @@
 
     prog)
       case $host in
-	*cygwin*) output=`echo $output | ${SED} -e 's,.exe$,,;s,$,.exe,'` ;;
+	*cygwin*) output=`echo $output | sed -e 's,.exe$,,;s,$,.exe,'` ;;
       esac
       if test -n "$vinfo"; then
 	$echo "$modename: warning: \`-version-info' is ignored for programs" 1>&2
@@ -3338,9 +3286,9 @@
 	    if test -z "$export_symbols"; then
 	      export_symbols="$output_objdir/$output.exp"
 	      $run $rm $export_symbols
-	      $run eval "${SED} -n -e '/^: @PROGRAM@$/d' -e 's/^.* \(.*\)$/\1/p' "'< "$nlist" > "$export_symbols"'
+	      $run eval "sed -n -e '/^: @PROGRAM@$/d' -e 's/^.* \(.*\)$/\1/p' "'< "$nlist" > "$export_symbols"'
 	    else
-	      $run eval "${SED} -e 's/\([][.*^$]\)/\\\1/g' -e 's/^/ /' -e 's/$/$/'"' < "$export_symbols" > "$output_objdir/$output.exp"'
+	      $run eval "sed -e 's/\([][.*^$]\)/\\\1/g' -e 's/^/ /' -e 's/$/$/'"' < "$export_symbols" > "$output_objdir/$output.exp"'
 	      $run eval 'grep -f "$output_objdir/$output.exp" < "$nlist" > "$nlist"T'
 	      $run eval 'mv "$nlist"T "$nlist"'
 	    fi
@@ -3348,7 +3296,7 @@
 
 	  for arg in $dlprefiles; do
 	    $show "extracting global C symbols from \`$arg'"
-	    name=`echo "$arg" | ${SED} -e 's%^.*/%%'`
+	    name=`echo "$arg" | sed -e 's%^.*/%%'`
 	    $run eval 'echo ": $name " >> "$nlist"'
 	    $run eval "$NM $arg | $global_symbol_pipe >> '$nlist'"
 	  done
@@ -3363,13 +3311,7 @@
 	    fi
 
 	    # Try sorting and uniquifying the output.
-	    if grep -v "^: " < "$nlist" |
-		if sort -k 3 </dev/null >/dev/null 2>&1; then
-		  sort -k 3
-		else
-		  sort +2
-		fi |
-		uniq > "$nlist"S; then
+	    if grep -v "^: " < "$nlist" | sort +2 | uniq > "$nlist"S; then
 	      :
 	    else
 	      grep -v "^: " < "$nlist" > "$nlist"S
@@ -3591,7 +3533,7 @@
 	    relink_command="$var=\"$var_value\"; export $var; $relink_command"
 	  fi
 	done
-	relink_command="(cd `pwd`; $relink_command)"
+	relink_command="cd `pwd`; $relink_command"
 	relink_command=`$echo "X$relink_command" | $Xsed -e "$sed_quote_subst"`
       fi
 
@@ -3611,7 +3553,7 @@
 	# win32 will think the script is a binary if it has
 	# a .exe suffix, so we strip it off here.
 	case $output in
-	  *.exe) output=`echo $output|${SED} 's,.exe$,,'` ;;
+	  *.exe) output=`echo $output|sed 's,.exe$,,'` ;;
 	esac
 	# test for cygwin because mv fails w/o .exe extensions
 	case $host in
@@ -3635,7 +3577,7 @@
 
 # Sed substitution that helps us do robust quoting.  It backslashifies
 # metacharacters that are still active within double-quoted strings.
-Xsed="${SED}"' -e 1s/^X//'
+Xsed='sed -e 1s/^X//'
 sed_quote_subst='$sed_quote_subst'
 
 # The HP-UX ksh and POSIX shell print the target directory to stdout
@@ -3673,7 +3615,7 @@
   test \"x\$thisdir\" = \"x\$file\" && thisdir=.
 
   # Follow symbolic links until we get to the real thisdir.
-  file=\`ls -ld \"\$file\" | ${SED} -n 's/.*-> //p'\`
+  file=\`ls -ld \"\$file\" | sed -n 's/.*-> //p'\`
   while test -n \"\$file\"; do
     destdir=\`\$echo \"X\$file\" | \$Xsed -e 's%/[^/]*\$%%'\`
 
@@ -3686,7 +3628,7 @@
     fi
 
     file=\`\$echo \"X\$file\" | \$Xsed -e 's%^.*/%%'\`
-    file=\`ls -ld \"\$thisdir/\$file\" | ${SED} -n 's/.*-> //p'\`
+    file=\`ls -ld \"\$thisdir/\$file\" | sed -n 's/.*-> //p'\`
   done
 
   # Try to get the absolute directory name.
@@ -3700,7 +3642,7 @@
   progdir=\"\$thisdir/$objdir\"
 
   if test ! -f \"\$progdir/\$program\" || \\
-     { file=\`ls -1dt \"\$progdir/\$program\" \"\$progdir/../\$program\" 2>/dev/null | ${SED} 1q\`; \\
+     { file=\`ls -1dt \"\$progdir/\$program\" \"\$progdir/../\$program\" 2>/dev/null | sed 1q\`; \\
        test \"X\$file\" != \"X\$progdir/\$program\"; }; then
 
     file=\"\$\$-\$program\"
@@ -3746,7 +3688,7 @@
     $shlibpath_var=\"$temp_rpath\$$shlibpath_var\"
 
     # Some systems cannot cope with colon-terminated $shlibpath_var
-    # The second colon is a workaround for a bug in BeOS R4 ${SED}
+    # The second colon is a workaround for a bug in BeOS R4 sed
     $shlibpath_var=\`\$echo \"X\$$shlibpath_var\" | \$Xsed -e 's/::*\$//'\`
 
     export $shlibpath_var
@@ -3921,7 +3863,7 @@
 	fi
       done
       # Quote the link command for shipping.
-      relink_command="(cd `pwd`; $SHELL $0 --mode=relink $libtool_args)"
+      relink_command="cd `pwd`; $SHELL $0 --mode=relink $libtool_args"
       relink_command=`$echo "X$relink_command" | $Xsed -e "$sed_quote_subst"`
 
       # Only create the output if not a dry run.
@@ -3938,7 +3880,7 @@
 	      case $deplib in
 	      *.la)
 		name=`$echo "X$deplib" | $Xsed -e 's%^.*/%%'`
-		eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
+		eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $deplib`
 		if test -z "$libdir"; then
 		  $echo "$modename: \`$deplib' is not a valid libtool archive" 1>&2
 		  exit 1
@@ -3952,7 +3894,7 @@
 	    newdlfiles=
 	    for lib in $dlfiles; do
 	      name=`$echo "X$lib" | $Xsed -e 's%^.*/%%'`
-	      eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
+	      eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
 	      if test -z "$libdir"; then
 		$echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
 		exit 1
@@ -3963,7 +3905,7 @@
 	    newdlprefiles=
 	    for lib in $dlprefiles; do
 	      name=`$echo "X$lib" | $Xsed -e 's%^.*/%%'`
-	      eval libdir=`${SED} -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
+	      eval libdir=`sed -n -e 's/^libdir=\(.*\)$/\1/p' $lib`
 	      if test -z "$libdir"; then
 		$echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
 		exit 1
@@ -4187,7 +4129,7 @@
 
       *.la)
 	# Check to see that this really is a libtool archive.
-	if (${SED} -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
 	else
 	  $echo "$modename: \`$file' is not a valid libtool archive" 1>&2
 	  $echo "$help" 1>&2
@@ -4336,27 +4278,19 @@
 	fi
 
 	# Do a test to see if this is really a libtool program.
-	case $host in
-	*cygwin*|*mingw*)
-	    wrapper=`echo $file | ${SED} -e 's,.exe$,,'`
-	    ;;
-	*)
-	    wrapper=$file
-	    ;;
-	esac
-	if (${SED} -e '4q' $wrapper | egrep "^# Generated by .*$PACKAGE")>/dev/null 2>&1; then
+	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
 	  notinst_deplibs=
 	  relink_command=
 
 	  # If there is no directory component, then add one.
 	  case $file in
-	  */* | *\\*) . $wrapper ;;
-	  *) . ./$wrapper ;;
+	  */* | *\\*) . $file ;;
+	  *) . ./$file ;;
 	  esac
 
 	  # Check the variables that should have been set.
 	  if test -z "$notinst_deplibs"; then
-	    $echo "$modename: invalid libtool wrapper script \`$wrapper'" 1>&2
+	    $echo "$modename: invalid libtool wrapper script \`$file'" 1>&2
 	    exit 1
 	  fi
 
@@ -4381,8 +4315,8 @@
 	  relink_command=
 	  # If there is no directory component, then add one.
 	  case $file in
-	  */* | *\\*) . $wrapper ;;
-	  *) . ./$wrapper ;;
+	  */* | *\\*) . $file ;;
+	  *) . ./$file ;;
 	  esac
 
 	  outputname=
@@ -4430,7 +4364,7 @@
 	    destfile=$destfile.exe
 	    ;;
 	  *:*.exe)
-	    destfile=`echo $destfile | ${SED} -e 's,.exe$,,'`
+	    destfile=`echo $destfile | sed -e 's,.exe$,,'`
 	    ;;
 	  esac
 	  ;;
@@ -4578,7 +4512,7 @@
       case $file in
       *.la)
 	# Check to see that this really is a libtool archive.
-	if (${SED} -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then :
 	else
 	  $echo "$modename: \`$lib' is not a valid libtool archive" 1>&2
 	  $echo "$help" 1>&2
@@ -4649,7 +4583,7 @@
       -*) ;;
       *)
 	# Do a test to see if this is really a libtool program.
-	if (${SED} -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
 	  # If there is no directory component, then add one.
 	  case $file in
 	  */* | *\\*) . $file ;;
@@ -4681,7 +4615,7 @@
       fi
 
       # Now prepare to actually exec the command.
-      exec_cmd="\$cmd$args"
+      exec_cmd='"$cmd"$args'
     else
       # Display what would be done.
       if test -n "$shlibpath_var"; then
@@ -4758,7 +4692,7 @@
       case $name in
       *.la)
 	# Possibly a libtool archive, so verify it.
-	if (${SED} -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	if (sed -e '2q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
 	  . $dir/$name
 
 	  # Delete the libtool libraries and symlinks.
@@ -4813,7 +4747,7 @@
       *)
 	# Do a test to see if this is a libtool program.
 	if test $mode = clean &&
-	   (${SED} -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
+	   (sed -e '4q' $file | egrep "^# Generated by .*$PACKAGE") >/dev/null 2>&1; then
 	  relink_command=
 	  . $dir/$file
 
diff -ruN pilot-link-0.11.0.orig/src/Makefile.in pilot-link-0.11.0/src/Makefile.in
--- pilot-link-0.11.0.orig/src/Makefile.in	Fri Jul 12 12:39:23 2002
+++ pilot-link-0.11.0/src/Makefile.in	Mon Jul 15 16:28:59 2002
@@ -565,12 +565,12 @@
 CXXCOMPILE = $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
 LTCXXCOMPILE = $(LIBTOOL) --mode=compile $(CXX) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CXXFLAGS) $(CXXFLAGS)
 CXXLD = $(CXX)
-CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) $(LDFLAGS) -o $@
+CXXLINK = $(LIBTOOL) --mode=link $(CXXLD) $(AM_CXXFLAGS) $(CXXFLAGS) -o $@
 CFLAGS = @CFLAGS@
 COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) -o $@
 DIST_COMMON =  Makefile.am Makefile.in getopt.c getopt1.c parsedate.c
 
 
@@ -663,139 +663,139 @@
 
 ccexample$(EXEEXT): $(ccexample_OBJECTS) $(ccexample_DEPENDENCIES)
 	@rm -f ccexample$(EXEEXT)
-	$(CXXLINK) $(ccexample_LDFLAGS) $(ccexample_OBJECTS) $(ccexample_LDADD) $(LIBS)
+	$(CXXLINK) $(ccexample_LDFLAGS) $(ccexample_OBJECTS) $(ccexample_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-debug$(EXEEXT): $(pilot_debug_OBJECTS) $(pilot_debug_DEPENDENCIES)
 	@rm -f pilot-debug$(EXEEXT)
-	$(LINK) $(pilot_debug_LDFLAGS) $(pilot_debug_OBJECTS) $(pilot_debug_LDADD) $(LIBS)
+	$(LINK) $(pilot_debug_LDFLAGS) $(pilot_debug_OBJECTS) $(pilot_debug_LDADD) $(LDFLAGS) $(LIBS)
 
 addresses$(EXEEXT): $(addresses_OBJECTS) $(addresses_DEPENDENCIES)
 	@rm -f addresses$(EXEEXT)
-	$(LINK) $(addresses_LDFLAGS) $(addresses_OBJECTS) $(addresses_LDADD) $(LIBS)
+	$(LINK) $(addresses_LDFLAGS) $(addresses_OBJECTS) $(addresses_LDADD) $(LDFLAGS) $(LIBS)
 
 debugsh$(EXEEXT): $(debugsh_OBJECTS) $(debugsh_DEPENDENCIES)
 	@rm -f debugsh$(EXEEXT)
-	$(LINK) $(debugsh_LDFLAGS) $(debugsh_OBJECTS) $(debugsh_LDADD) $(LIBS)
+	$(LINK) $(debugsh_LDFLAGS) $(debugsh_OBJECTS) $(debugsh_LDADD) $(LDFLAGS) $(LIBS)
 
 dlpsh$(EXEEXT): $(dlpsh_OBJECTS) $(dlpsh_DEPENDENCIES)
 	@rm -f dlpsh$(EXEEXT)
-	$(LINK) $(dlpsh_LDFLAGS) $(dlpsh_OBJECTS) $(dlpsh_LDADD) $(LIBS)
+	$(LINK) $(dlpsh_LDFLAGS) $(dlpsh_OBJECTS) $(dlpsh_LDADD) $(LDFLAGS) $(LIBS)
 
 hinotes$(EXEEXT): $(hinotes_OBJECTS) $(hinotes_DEPENDENCIES)
 	@rm -f hinotes$(EXEEXT)
-	$(LINK) $(hinotes_LDFLAGS) $(hinotes_OBJECTS) $(hinotes_LDADD) $(LIBS)
+	$(LINK) $(hinotes_LDFLAGS) $(hinotes_OBJECTS) $(hinotes_LDADD) $(LDFLAGS) $(LIBS)
 
 install-datebook$(EXEEXT): $(install_datebook_OBJECTS) $(install_datebook_DEPENDENCIES)
 	@rm -f install-datebook$(EXEEXT)
-	$(LINK) $(install_datebook_LDFLAGS) $(install_datebook_OBJECTS) $(install_datebook_LDADD) $(LIBS)
+	$(LINK) $(install_datebook_LDFLAGS) $(install_datebook_OBJECTS) $(install_datebook_LDADD) $(LDFLAGS) $(LIBS)
 
 install-expenses$(EXEEXT): $(install_expenses_OBJECTS) $(install_expenses_DEPENDENCIES)
 	@rm -f install-expenses$(EXEEXT)
-	$(LINK) $(install_expenses_LDFLAGS) $(install_expenses_OBJECTS) $(install_expenses_LDADD) $(LIBS)
+	$(LINK) $(install_expenses_LDFLAGS) $(install_expenses_OBJECTS) $(install_expenses_LDADD) $(LDFLAGS) $(LIBS)
 
 install-hinote$(EXEEXT): $(install_hinote_OBJECTS) $(install_hinote_DEPENDENCIES)
 	@rm -f install-hinote$(EXEEXT)
-	$(LINK) $(install_hinote_LDFLAGS) $(install_hinote_OBJECTS) $(install_hinote_LDADD) $(LIBS)
+	$(LINK) $(install_hinote_LDFLAGS) $(install_hinote_OBJECTS) $(install_hinote_LDADD) $(LDFLAGS) $(LIBS)
 
 install-memo$(EXEEXT): $(install_memo_OBJECTS) $(install_memo_DEPENDENCIES)
 	@rm -f install-memo$(EXEEXT)
-	$(LINK) $(install_memo_LDFLAGS) $(install_memo_OBJECTS) $(install_memo_LDADD) $(LIBS)
+	$(LINK) $(install_memo_LDFLAGS) $(install_memo_OBJECTS) $(install_memo_LDADD) $(LDFLAGS) $(LIBS)
 
 install-netsync$(EXEEXT): $(install_netsync_OBJECTS) $(install_netsync_DEPENDENCIES)
 	@rm -f install-netsync$(EXEEXT)
-	$(LINK) $(install_netsync_LDFLAGS) $(install_netsync_OBJECTS) $(install_netsync_LDADD) $(LIBS)
+	$(LINK) $(install_netsync_LDFLAGS) $(install_netsync_OBJECTS) $(install_netsync_LDADD) $(LDFLAGS) $(LIBS)
 
 install-todos$(EXEEXT): $(install_todos_OBJECTS) $(install_todos_DEPENDENCIES)
 	@rm -f install-todos$(EXEEXT)
-	$(LINK) $(install_todos_LDFLAGS) $(install_todos_OBJECTS) $(install_todos_LDADD) $(LIBS)
+	$(LINK) $(install_todos_LDFLAGS) $(install_todos_OBJECTS) $(install_todos_LDADD) $(LDFLAGS) $(LIBS)
 
 install-user$(EXEEXT): $(install_user_OBJECTS) $(install_user_DEPENDENCIES)
 	@rm -f install-user$(EXEEXT)
-	$(LINK) $(install_user_LDFLAGS) $(install_user_OBJECTS) $(install_user_LDADD) $(LIBS)
+	$(LINK) $(install_user_LDFLAGS) $(install_user_OBJECTS) $(install_user_LDADD) $(LDFLAGS) $(LIBS)
 
 memos$(EXEEXT): $(memos_OBJECTS) $(memos_DEPENDENCIES)
 	@rm -f memos$(EXEEXT)
-	$(LINK) $(memos_LDFLAGS) $(memos_OBJECTS) $(memos_LDADD) $(LIBS)
+	$(LINK) $(memos_LDFLAGS) $(memos_OBJECTS) $(memos_LDADD) $(LDFLAGS) $(LIBS)
 
 money2qif$(EXEEXT): $(money2qif_OBJECTS) $(money2qif_DEPENDENCIES)
 	@rm -f money2qif$(EXEEXT)
-	$(LINK) $(money2qif_LDFLAGS) $(money2qif_OBJECTS) $(money2qif_LDADD) $(LIBS)
+	$(LINK) $(money2qif_LDFLAGS) $(money2qif_OBJECTS) $(money2qif_LDADD) $(LDFLAGS) $(LIBS)
 
 pi-csd$(EXEEXT): $(pi_csd_OBJECTS) $(pi_csd_DEPENDENCIES)
 	@rm -f pi-csd$(EXEEXT)
-	$(LINK) $(pi_csd_LDFLAGS) $(pi_csd_OBJECTS) $(pi_csd_LDADD) $(LIBS)
+	$(LINK) $(pi_csd_LDFLAGS) $(pi_csd_OBJECTS) $(pi_csd_LDADD) $(LDFLAGS) $(LIBS)
 
 pi-getram$(EXEEXT): $(pi_getram_OBJECTS) $(pi_getram_DEPENDENCIES)
 	@rm -f pi-getram$(EXEEXT)
-	$(LINK) $(pi_getram_LDFLAGS) $(pi_getram_OBJECTS) $(pi_getram_LDADD) $(LIBS)
+	$(LINK) $(pi_getram_LDFLAGS) $(pi_getram_OBJECTS) $(pi_getram_LDADD) $(LDFLAGS) $(LIBS)
 
 pi-getrom$(EXEEXT): $(pi_getrom_OBJECTS) $(pi_getrom_DEPENDENCIES)
 	@rm -f pi-getrom$(EXEEXT)
-	$(LINK) $(pi_getrom_LDFLAGS) $(pi_getrom_OBJECTS) $(pi_getrom_LDADD) $(LIBS)
+	$(LINK) $(pi_getrom_LDFLAGS) $(pi_getrom_OBJECTS) $(pi_getrom_LDADD) $(LDFLAGS) $(LIBS)
 
 pi-getromtoken$(EXEEXT): $(pi_getromtoken_OBJECTS) $(pi_getromtoken_DEPENDENCIES)
 	@rm -f pi-getromtoken$(EXEEXT)
-	$(LINK) $(pi_getromtoken_LDFLAGS) $(pi_getromtoken_OBJECTS) $(pi_getromtoken_LDADD) $(LIBS)
+	$(LINK) $(pi_getromtoken_LDFLAGS) $(pi_getromtoken_OBJECTS) $(pi_getromtoken_LDADD) $(LDFLAGS) $(LIBS)
 
 pi-nredir$(EXEEXT): $(pi_nredir_OBJECTS) $(pi_nredir_DEPENDENCIES)
 	@rm -f pi-nredir$(EXEEXT)
-	$(LINK) $(pi_nredir_LDFLAGS) $(pi_nredir_OBJECTS) $(pi_nredir_LDADD) $(LIBS)
+	$(LINK) $(pi_nredir_LDFLAGS) $(pi_nredir_OBJECTS) $(pi_nredir_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-addresses$(EXEEXT): $(pilot_addresses_OBJECTS) $(pilot_addresses_DEPENDENCIES)
 	@rm -f pilot-addresses$(EXEEXT)
-	$(LINK) $(pilot_addresses_LDFLAGS) $(pilot_addresses_OBJECTS) $(pilot_addresses_LDADD) $(LIBS)
+	$(LINK) $(pilot_addresses_LDFLAGS) $(pilot_addresses_OBJECTS) $(pilot_addresses_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-clip$(EXEEXT): $(pilot_clip_OBJECTS) $(pilot_clip_DEPENDENCIES)
 	@rm -f pilot-clip$(EXEEXT)
-	$(LINK) $(pilot_clip_LDFLAGS) $(pilot_clip_OBJECTS) $(pilot_clip_LDADD) $(LIBS)
+	$(LINK) $(pilot_clip_LDFLAGS) $(pilot_clip_OBJECTS) $(pilot_clip_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-dedupe$(EXEEXT): $(pilot_dedupe_OBJECTS) $(pilot_dedupe_DEPENDENCIES)
 	@rm -f pilot-dedupe$(EXEEXT)
-	$(LINK) $(pilot_dedupe_LDFLAGS) $(pilot_dedupe_OBJECTS) $(pilot_dedupe_LDADD) $(LIBS)
+	$(LINK) $(pilot_dedupe_LDFLAGS) $(pilot_dedupe_OBJECTS) $(pilot_dedupe_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-file$(EXEEXT): $(pilot_file_OBJECTS) $(pilot_file_DEPENDENCIES)
 	@rm -f pilot-file$(EXEEXT)
-	$(LINK) $(pilot_file_LDFLAGS) $(pilot_file_OBJECTS) $(pilot_file_LDADD) $(LIBS)
+	$(LINK) $(pilot_file_LDFLAGS) $(pilot_file_OBJECTS) $(pilot_file_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-mail$(EXEEXT): $(pilot_mail_OBJECTS) $(pilot_mail_DEPENDENCIES)
 	@rm -f pilot-mail$(EXEEXT)
-	$(LINK) $(pilot_mail_LDFLAGS) $(pilot_mail_OBJECTS) $(pilot_mail_LDADD) $(LIBS)
+	$(LINK) $(pilot_mail_LDFLAGS) $(pilot_mail_OBJECTS) $(pilot_mail_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-prc$(EXEEXT): $(pilot_prc_OBJECTS) $(pilot_prc_DEPENDENCIES)
 	@rm -f pilot-prc$(EXEEXT)
-	$(LINK) $(pilot_prc_LDFLAGS) $(pilot_prc_OBJECTS) $(pilot_prc_LDADD) $(LIBS)
+	$(LINK) $(pilot_prc_LDFLAGS) $(pilot_prc_OBJECTS) $(pilot_prc_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-schlep$(EXEEXT): $(pilot_schlep_OBJECTS) $(pilot_schlep_DEPENDENCIES)
 	@rm -f pilot-schlep$(EXEEXT)
-	$(LINK) $(pilot_schlep_LDFLAGS) $(pilot_schlep_OBJECTS) $(pilot_schlep_LDADD) $(LIBS)
+	$(LINK) $(pilot_schlep_LDFLAGS) $(pilot_schlep_OBJECTS) $(pilot_schlep_LDADD) $(LDFLAGS) $(LIBS)
 
 pilot-xfer$(EXEEXT): $(pilot_xfer_OBJECTS) $(pilot_xfer_DEPENDENCIES)
 	@rm -f pilot-xfer$(EXEEXT)
-	$(LINK) $(pilot_xfer_LDFLAGS) $(pilot_xfer_OBJECTS) $(pilot_xfer_LDADD) $(LIBS)
+	$(LINK) $(pilot_xfer_LDFLAGS) $(pilot_xfer_OBJECTS) $(pilot_xfer_LDADD) $(LDFLAGS) $(LIBS)
 
 read-expenses$(EXEEXT): $(read_expenses_OBJECTS) $(read_expenses_DEPENDENCIES)
 	@rm -f read-expenses$(EXEEXT)
-	$(LINK) $(read_expenses_LDFLAGS) $(read_expenses_OBJECTS) $(read_expenses_LDADD) $(LIBS)
+	$(LINK) $(read_expenses_LDFLAGS) $(read_expenses_OBJECTS) $(read_expenses_LDADD) $(LDFLAGS) $(LIBS)
 
 read-ical$(EXEEXT): $(read_ical_OBJECTS) $(read_ical_DEPENDENCIES)
 	@rm -f read-ical$(EXEEXT)
-	$(LINK) $(read_ical_LDFLAGS) $(read_ical_OBJECTS) $(read_ical_LDADD) $(LIBS)
+	$(LINK) $(read_ical_LDFLAGS) $(read_ical_OBJECTS) $(read_ical_LDADD) $(LDFLAGS) $(LIBS)
 
 read-notepad$(EXEEXT): $(read_notepad_OBJECTS) $(read_notepad_DEPENDENCIES)
 	@rm -f read-notepad$(EXEEXT)
-	$(LINK) $(read_notepad_LDFLAGS) $(read_notepad_OBJECTS) $(read_notepad_LDADD) $(LIBS)
+	$(LINK) $(read_notepad_LDFLAGS) $(read_notepad_OBJECTS) $(read_notepad_LDADD) $(LDFLAGS) $(LIBS)
 
 read-palmpix$(EXEEXT): $(read_palmpix_OBJECTS) $(read_palmpix_DEPENDENCIES)
 	@rm -f read-palmpix$(EXEEXT)
-	$(LINK) $(read_palmpix_LDFLAGS) $(read_palmpix_OBJECTS) $(read_palmpix_LDADD) $(LIBS)
+	$(LINK) $(read_palmpix_LDFLAGS) $(read_palmpix_OBJECTS) $(read_palmpix_LDADD) $(LDFLAGS) $(LIBS)
 
 read-todos$(EXEEXT): $(read_todos_OBJECTS) $(read_todos_DEPENDENCIES)
 	@rm -f read-todos$(EXEEXT)
-	$(LINK) $(read_todos_LDFLAGS) $(read_todos_OBJECTS) $(read_todos_LDADD) $(LIBS)
+	$(LINK) $(read_todos_LDFLAGS) $(read_todos_OBJECTS) $(read_todos_LDADD) $(LDFLAGS) $(LIBS)
 
 reminders$(EXEEXT): $(reminders_OBJECTS) $(reminders_DEPENDENCIES)
 	@rm -f reminders$(EXEEXT)
-	$(LINK) $(reminders_LDFLAGS) $(reminders_OBJECTS) $(reminders_LDADD) $(LIBS)
+	$(LINK) $(reminders_LDFLAGS) $(reminders_OBJECTS) $(reminders_LDADD) $(LDFLAGS) $(LIBS)
 
 install-binSCRIPTS: $(bin_SCRIPTS)
 	@$(NORMAL_INSTALL)
diff -ruN pilot-link-0.11.0.orig/src/pilot-datebook/Makefile.in pilot-link-0.11.0/src/pilot-datebook/Makefile.in
--- pilot-link-0.11.0.orig/src/pilot-datebook/Makefile.in	Fri Jul 12 12:39:26 2002
+++ pilot-link-0.11.0/src/pilot-datebook/Makefile.in	Mon Jul 15 16:30:47 2002
@@ -162,7 +162,7 @@
 COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) -o $@
 DIST_COMMON =  README COPYING Makefile.am Makefile.in getopt.c getopt1.c \
 parsedate.c
 
@@ -256,7 +256,7 @@
 
 pilot-datebook$(EXEEXT): $(pilot_datebook_OBJECTS) $(pilot_datebook_DEPENDENCIES)
 	@rm -f pilot-datebook$(EXEEXT)
-	$(LINK) $(pilot_datebook_LDFLAGS) $(pilot_datebook_OBJECTS) $(pilot_datebook_LDADD) $(LIBS)
+	$(LINK) $(pilot_datebook_LDFLAGS) $(pilot_datebook_OBJECTS) $(pilot_datebook_LDADD) $(LDFLAGS) $(LIBS)
 .y.c:
 	$(YACC) $(AM_YFLAGS) $(YFLAGS) $< && mv y.tab.c $*.c
 	if test -f y.tab.h; then \
