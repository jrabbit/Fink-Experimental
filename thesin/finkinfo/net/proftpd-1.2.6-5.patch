diff -ruN proftpd-1.2.6.orig/README.PAM proftpd-1.2.6/README.PAM
--- proftpd-1.2.6.orig/README.PAM	2000-08-18 14:16:40.000000000 -0600
+++ proftpd-1.2.6/README.PAM	2002-10-25 13:06:07.000000000 -0600
@@ -49,6 +49,15 @@
 These settings are valid for RedHat and SuSE Linux systems.  Other Linux
 distributions may differ.
 
+For Mac OS X:
+
+To use PAM with ProFTPD, you must edit /etc/pam.d/ftp and add  the
+following lines:
+
+auth       required    pam_unix.so try_first_pass
+account    required    pam_unix.so try_first_pass
+session    required    pam_permit.so
+
 PAM Configuration Options
 -------------------------
 1. AuthPAM
diff -ruN proftpd-1.2.6.orig/config.h.in proftpd-1.2.6/config.h.in
--- proftpd-1.2.6.orig/config.h.in	2002-06-27 16:36:25.000000000 -0600
+++ proftpd-1.2.6/config.h.in	2002-10-25 13:07:38.000000000 -0600
@@ -354,6 +354,9 @@
 /* Define if you have the <security/pam_appl.h> header file.  */
 #undef HAVE_SECURITY_PAM_APPL_H
 
+/* Define if you have the <pam/pam_appl.h> header file.  */
+#undef HAVE_PAM_PAM_APPL_H
+
 /* Define if you have the <shadow.h> header file.  */
 #undef HAVE_SHADOW_H
 
diff -ruN proftpd-1.2.6.orig/configure proftpd-1.2.6/configure
--- proftpd-1.2.6.orig/configure	2002-07-02 18:30:37.000000000 -0600
+++ proftpd-1.2.6/configure	2002-10-25 13:08:50.000000000 -0600
@@ -5293,7 +5293,7 @@
 
 if test x"$enable_pam" != xno ; then
 
-for ac_header in security/pam_appl.h
+for ac_header in security/pam_appl.h pam/pam_appl.h
 do
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if eval "test \"\${$as_ac_Header+set}\" = set"; then
diff -ruN proftpd-1.2.6.orig/configure.in proftpd-1.2.6/configure.in
--- proftpd-1.2.6.orig/configure.in	2002-07-02 18:25:28.000000000 -0600
+++ proftpd-1.2.6/configure.in	2002-10-25 13:10:42.000000000 -0600
@@ -293,7 +293,7 @@
 dnl really shouldn't have anything to do with force_shadow or use_shadow.
 dnl jss - 2/22/2001
 if test x"$enable_pam" != xno ; then
-  AC_CHECK_HEADERS(security/pam_appl.h,
+  AC_CHECK_HEADERS(security/pam_appl.h pam/pam_appl.h,
     [ if test `echo $ac_addl_modules | grep -c mod_pam` = "0"; then
         ac_addl_modules="mod_pam.o $ac_addl_modules"
         ac_build_addl_modules="modules/mod_pam.o $ac_build_addl_modules"
diff -ruN proftpd-1.2.6.orig/contrib/cron.monthly proftpd-1.2.6/contrib/cron.monthly
--- proftpd-1.2.6.orig/contrib/cron.monthly	1969-12-31 17:00:00.000000000 -0700
+++ proftpd-1.2.6/contrib/cron.monthly	2002-10-25 15:26:54.000000000 -0600
@@ -0,0 +1,12 @@
+#!/bin/sh
+#
+# cron script to rotate the proftpd server logfile, based on the
+# wu-ftpd script by Peter Tobias <tobias@et-inf.fho-emden.de>.
+
+[ -x @FINKPREFIX@/sbin/ftpstats ] || exit 0
+
+cd @FINKPREFIX@/var/log
+savelog -u root -g wheel -m 640 -c 12 @FINKPREFIX@/var/log/xferreport >/dev/null 2>/dev/null
+ftpstats -a -r -l 2 -d 2> /dev/null >@FINKPREFIX@/var/log/xferreport
+savelog -u root -g wheel -m 640 -c 7 @FINKPREFIX@/var/log/xferlog >/dev/null 2>/dev/null
+
diff -ruN proftpd-1.2.6.orig/contrib/ftpstats proftpd-1.2.6/contrib/ftpstats
--- proftpd-1.2.6.orig/contrib/ftpstats	1969-12-31 17:00:00.000000000 -0700
+++ proftpd-1.2.6/contrib/ftpstats	2002-10-25 15:24:39.000000000 -0600
@@ -0,0 +1,389 @@
+#! /usr/bin/perl
+# ---------------------------------------------------------------------------
+#
+# USAGE: xferstats <options>
+#
+# OPTIONS:
+#       -f <filename>   Use <filename> for the log file
+#       -r              include real users 
+#       -a              include anonymous users 
+#       -h		include report on hourly traffic
+#       -d		include report on domain traffic
+#       -t		report on total traffic by section
+#	-i 		report incomming traffic only (uploads)
+#	-o		report outgoing traffic only (download)
+#       -D <domain>     report only on traffic from <domain>
+#				this option leads to problems with the local
+#				domain: e.g. test.com is counted under test
+#				and not recognized under com, -D com will give
+#				you only statistics about com excluding
+#				test.com! use -A com for correct results.
+#       -A <address>    report only on traffic from addresses ends matching
+#				<address> e.g. -A test.domain.com will report
+#				only on addresses ending with test.domain.com
+#       -l <depth>      Depth of path detail for sections
+#       -s <section>    Section to report on, For example: -s /pub will report
+#				only on paths under /pub
+#       -u <user>       Report traffic for specified user.
+#
+# ---------------------------------------------------------------------------
+# 05.09.01: minor change by Jamie Fifield (fifield@chebucto.ns.ca):
+# - added option u which singles out the data for a single user
+#
+# ---------------------------------------------------------------------------
+# 30.09.98: changes by Jan Menzel (jan.menzel@gmx.net):
+#  -documented problems with option -D
+#  -fixed same problems with spaces in the filenames (lines which are not
+#     exactly 16 elements long are skipped in earlier versions)
+#  -added option A which compares the addresses end with a given pattern
+#  -added option i and o which reports either incoming or outgoing traffic only
+
+@mydom = split(/\./, `dnsdomainname`);
+$mydom2 = pop(@mydom); chop($mydom2);
+$mydom1 = pop(@mydom);
+
+# If you want to specify $mydom1 and $mydom2 manually you should edit the
+# next two lines to customize for your domain. This will allow your domain
+# to be separated in the domain listing.
+# $mydom1 = "debian";
+# $mydom2 = "org";
+
+# edit the next line to customize for your default log file
+$usage_file = "@FINKPREFIX@/var/log/xferlog";
+
+# Edit the following lines for default report settings.
+# Entries defined here will be over-ridden by the command line.
+
+$opt_h = 0; 
+$opt_d = 0;
+$opt_t = 1;
+
+require 'getopts.pl';
+&Getopts('f:rahdD:l:s:A:iou:');
+
+$opt_l ||= 3;
+if ($opt_r) { $real = 1;}
+if ($opt_a) { $anon = 1;}
+if ($real == 0 && $anon == 0) { $anon = 1; }
+if ($opt_f) {$usage_file = $opt_f;}
+if ($opt_i) {$opt_i = 1;}
+if ($opt_o) {$opt_o = 1;}
+
+open (LOG,$usage_file) || die "Error opening usage log file: $usage_file\n";
+
+if ($opt_o) {
+   print "Transfer Totals include outgoing traffic only.\n\n";
+}
+
+if ($opt_i) {
+   print "Transfer Totals include incoming traffic only.\n\n";
+}
+
+if ($opt_D) {
+   $opt_D =~ tr/A-Z/a-z/;
+   print "Transfer Totals include the '$opt_D' domain only.\n";
+   print "All other domains are filtered out for this report.\n\n";
+}
+
+if ($opt_A) {
+   $opt_A =~ tr/A-Z/a-z/;
+   print "Transfer Totals include the addresses ending in '$opt_A' only.\n";
+   print "All other addresses are filtered out for this report.\n\n";
+}
+
+if ($opt_s) {
+   print "Transfer Totals include the '$opt_s' section only.\n";
+   print "All other sections are filtered out for this report.\n\n";
+}
+
+if ($opt_u) {
+   print "Transfer Totals are for user '$opt_u' only.\n";
+   print "All other users are filtered out for this report.\n\n";
+}
+
+line: while (<LOG>) {
+
+   @line = split;
+   # is the first entry week day abbreviation?
+   next if (length("$line[0]") != 3);
+
+   # check whether there is a valid 'username'
+   if ($line[-7] eq "a" or $line[-7] eq "b") {
+      # yes, there i
+      # offset points to the first element just behind the filename
+      $offset = $#line - 7;
+   } elsif ($line[-6] eq "a" or $line[-6] eq "b") {
+      $offset = $#line - 6
+   } else {
+      next;
+   }
+   next if (!$opt_u && !$anon && $line[$offset+3] eq "a");
+   next if (!$opt_u && !$real && $line[$offset+3] eq "r");
+   next if ($opt_i && $line[$offset+2] ne "i");
+   next if ($opt_o && $line[$offset+2] ne "o");
+   next if ($opt_u && $line[$offset+4] ne $opt_u);
+
+   $daytime = substr($_, 0, 10) . substr($_, 19, 5);
+   $time = substr($_,11,2); 
+
+   if ($line[8] eq "\.") { $line[8] = "/unreadable/filename";}
+   next if (substr($line[8],0,length("$opt_s")) ne "$opt_s");
+   $line[8] = substr($line[8],length("$opt_s"));
+   @path = split(/\//, $line[8]);
+
+#
+# Why was the original xferstats dropping leading 1 character path
+# segments???
+#
+#  while (length($path[1]) <= 1) {
+#     shift @path;
+#     next line if ($#path == -1);
+#  }
+
+# Things in the top-level directory are assumed to be informational files
+
+   if ($#path == 1)
+      { $pathkey = "Index/Informational Files"; }
+      else {
+	$pathkey = "";
+	for ($i=1; $i <= $#path-1 && $i <= $opt_l;$i++) {
+		$pathkey = $pathkey . "/" . $path[$i];
+		}
+	}
+
+   $line[6] =~ tr/A-Z/a-z/;
+
+   @address = split(/\./, $line[6]);
+
+   $domain = $address[$#address];
+   if ($domain eq "$mydom2" && $address[$#address-1] eq "$mydom1")
+      { $domain = $mydom1 . "." . $mydom2; }
+   if ( int($address[0]) > 0 || $#address < 2 )
+      { $domain = "unresolved"; }
+
+   $count = 1;
+   if ($opt_D and substr($domain,0,length("$opt_D")) ne "$opt_D" ) {
+      $count = 0;
+   }
+   if ($opt_A and substr($line[6],length("$line[6]")-length("$opt_A")) ne "$opt_A" ) {
+      $count = 0;
+   }
+
+
+   if ($count) {
+
+   $systemfiles{$line[6]}++;                    # Systems Accessing the Arc
+   $xferfiles++;                                # total files sent
+   $xfertfiles++;                               # total files sent
+   $xferfiles{$daytime}++;                      # files per day
+   $groupfiles{$pathkey}++;                     # per-group accesses
+   $domainfiles{$domain}++;
+
+   $xfersecs{$daytime}    += $line[5];          # xmit seconds per day
+   $domainsecs{$domain}   += $line[5];		# xmit seconds for domain
+   $xferbytes{$daytime}   += $line[7];          # bytes per day
+   $domainbytes{$domain}  += $line[7];		# xmit bytes to domain
+   $xferbytes             += $line[7];          # total bytes sent
+   $groupbytes{$pathkey}  += $line[7];          # per-group bytes sent
+
+   $xfertfiles{$time}++;                        # files per hour
+   $xfertsecs{$time}      += $line[5];          # xmit seconds per hour
+   $xfertbytes{$time}     += $line[7];          # bytes per hour
+   $xfertbytes            += $line[7];          # total bytes sent
+   }
+}
+close LOG;
+
+@syslist = keys(systemfiles);
+@dates = sort datecompare keys(xferbytes);
+
+if ($xferfiles == 0) {die "There was no data to process.\n";}
+
+
+print "TOTALS FOR SUMMARY PERIOD ", $dates[0], " TO ", $dates[$#dates], "\n\n";
+printf ("Files Transmitted During Summary Period  %12.0f\n", $xferfiles);
+printf ("Bytes Transmitted During Summary Period  %12.0f\n", $xferbytes); 
+printf ("Systems Using Archives                   %12.0f\n\n", $#syslist+1);
+
+printf ("Average Files Transmitted Daily          %12.0f\n",
+   $xferfiles / ($#dates + 1));
+printf ("Average Bytes Transmitted Daily          %12.0f\n",
+   $xferbytes / ($#dates + 1));
+
+format top1 =
+
+Daily Transmission Statistics
+
+                 Number Of    Number of    Average    Percent Of  Percent Of
+     Date        Files Sent  Bytes  Sent  Xmit  Rate  Files Sent  Bytes Sent
+---------------  ----------  -----------  ----------  ----------  ----------
+.
+
+format line1 =
+@<<<<<<<<<<<<<<  @>>>>>>>>>  @>>>>>>>>>>  @>>>>>>>>>  @>>>>>>>    @>>>>>>>  
+$date,           $nfiles,    $nbytes,     $avgrate,   $pctfiles,  $pctbytes
+.
+
+$^ = top1;
+$~ = line1;
+
+# sort daily traffic by bytes sendt
+#foreach $date ( sort datecompare keys(nbytes) ) {
+foreach $date ( sort datecompare keys(xferbytes) ) {
+
+   $nfiles = $xferfiles{$date};
+   $nbytes = $xferbytes{$date};
+   if ($xfersecs{$date}) {
+      $avgrate = sprintf("%5.1f KB/s", $xferbytes{$date}/$xfersecs{$date}/1024);
+   } else {
+      $avgrate = sprintf("undefined");
+   }
+   $pctfiles = sprintf("%8.2f", 100*$xferfiles{$date}/$xferfiles);
+   $pctbytes = sprintf("%8.2f", 100*$xferbytes{$date}/$xferbytes);
+   write;
+}
+
+if ($opt_t) {
+format top2 =
+
+Total Transfers from each Archive Section (By bytes)
+
+                                                   ---- Percent  Of ----
+     Archive Section      Files Sent Bytes Sent    Files Sent Bytes Sent
+------------------------- ---------- ------------- ---------- ----------
+.
+
+format line2 =
+@<<<<<<<<<<<<<<<<<<<<<<<< @>>>>>>>>> @>>>>>>>>>>>> @>>>>>>>   @>>>>>>>
+$section,                 $files,    $bytes,       $pctfiles, $pctbytes
+.
+
+$| = 1;
+$- = 0;
+$^ = top2;
+$~ = line2;
+
+# sort total transfer for each archive by # files transfered
+foreach $section ( sort bytecompare keys(groupfiles) ) {
+
+   $files = $groupfiles{$section};
+   $bytes = $groupbytes{$section};
+   $pctbytes = sprintf("%8.2f", 100 * $groupbytes{$section} / $xferbytes);
+   $pctfiles = sprintf("%8.2f", 100 * $groupfiles{$section} / $xferfiles);
+   write;
+
+}
+
+}
+
+if ($opt_d) {
+format top3 =
+
+Total Transfer Amount By Domain
+
+             Number Of    Number of     Average    Percent Of  Percent Of
+Domain Name  Files Sent   Bytes Sent   Xmit  Rate  Files Sent  Bytes Sent
+-----------  ----------  ------------  ----------  ----------  ----------
+.
+
+format line3 =
+@<<<<<<<<<<  @>>>>>>>>>  @>>>>>>>>>>>  @>>>>>>>>>  @>>>>>>>    @>>>>>>>  
+$domain,     $files,     $bytes,       $avgrate,   $pctfiles,  $pctbytes
+.
+
+$- = 0;
+$^ = top3;
+$~ = line3;
+
+# sort amount per domain by files
+foreach $domain ( sort domnamcompare keys(domainfiles) ) {
+
+   $files = $domainfiles{$domain};
+   $bytes = $domainbytes{$domain};
+   if ($domainsecs{$domain}) {
+      $avgrate = sprintf("%5.1f KB/s", $domainbytes{$domain}/$domainsecs{$domain}/1024);
+   } else {
+      $avgrate = sprintf("undefined");
+   }
+   $pctfiles = sprintf("%8.2f", 100 * $domainfiles{$domain} / $xferfiles);
+   $pctbytes = sprintf("%8.2f", 100 * $domainbytes{$domain} / $xferbytes);
+   write;
+
+}
+
+print "\n";
+
+}
+
+if ($opt_h) {
+
+format top8 =
+
+Hourly Transmission Statistics
+
+                 Number Of    Number of    Average    Percent Of  Percent Of
+     Time        Files Sent  Bytes  Sent  Xmit  Rate  Files Sent  Bytes Sent
+---------------  ----------  -----------  ----------  ----------  ----------
+.
+
+format line8 =
+@<<<<<<<<<<<<<<  @>>>>>>>>>  @>>>>>>>>>>  @>>>>>>>>>  @>>>>>>>    @>>>>>>>  
+$time,           $nfiles,    $nbytes,     $avgrate,   $pctfiles,  $pctbytes
+.
+
+
+$| = 1;
+$- = 0;
+$^ = top8;
+$~ = line8;
+
+# sort hourly transmission by sent bytes
+foreach $time ( sort keys(xfertbytes) ) {
+
+   $nfiles   = $xfertfiles{$time};
+   $nbytes   = $xfertbytes{$time};
+   if ($xfertsecs{$time}) {
+      $avgrate  = sprintf("%5.1f KB/s", $xfertbytes{$time}/$xfertsecs{$time}/1024);
+   } else {
+      $avgrate  = sprintf("undefined");
+   }
+   $pctfiles = sprintf("%8.2f", 100*$xfertfiles{$time} / $xferfiles);
+   $pctbytes = sprintf("%8.2f", 100*$xfertbytes{$time} / $xferbytes);
+   write;
+}
+}
+exit(0);
+
+sub datecompare {
+
+   $date1  = substr($a, 11, 4) * 4800;
+   $date2  = substr($b, 11, 4) * 4800;
+   $date1 += index("JanFebMarAprMayJunJulAugSepOctNovDec",substr($a, 4, 3)) / 3 * 400;
+   $date2 += index("JanFebMarAprMayJunJulAugSepOctNovDec",substr($b, 4, 3)) / 3 * 400;
+   $date1 += substr($a, 8, 2);
+   $date2 += substr($b, 8, 2);
+   $date1 - $date2;
+
+}
+
+sub domnamcompare {
+
+   $sdiff = length($a) - length($b);
+   ($sdiff < 0) ? -1 : ($sdiff > 0) ? 1 : ($a lt $b) ? -1 : ($a gt $b) ? 1 : 0;
+
+}
+
+sub bytecompare {
+
+   $bdiff = $groupbytes{$b} - $groupbytes{$a};
+   ($bdiff < 0) ? -1 : ($bdiff > 0) ? 1 : ($a lt $b) ? -1 : ($a gt $b) ? 1 : 0;
+
+}
+
+sub faccompare {
+
+   $fdiff = $fac{$b} - $fac{$a};
+   ($fdiff < 0) ? -1 : ($fdiff > 0) ? 1 : ($a lt $b) ? -1 : ($a gt $b) ? 1 : 0;
+
+}
+
diff -ruN proftpd-1.2.6.orig/include/default_paths.h proftpd-1.2.6/include/default_paths.h
--- proftpd-1.2.6.orig/include/default_paths.h	2002-06-23 13:03:22.000000000 -0600
+++ proftpd-1.2.6/include/default_paths.h	2002-10-25 13:15:54.000000000 -0600
@@ -36,7 +36,7 @@
  * ftpcount, ftpwho, etc.
  */
 #ifndef RUN_DIR
-#define RUN_DIR			"/var/run/proftpd"
+#define RUN_DIR			"@FINKPREFIX@/var/run/proftpd"
 #endif
 
 /* The location you wish to place any core files produced as a result of
@@ -50,14 +50,14 @@
  * when run in standalone daemon mode.
  */
 #ifndef PID_FILE_PATH
-#define PID_FILE_PATH		"/var/run/proftpd.pid"
+#define PID_FILE_PATH		"@FINKPREFIX@/var/run/proftpd.pid"
 #endif
 
 /* The default location of the proftpd configuration file.  Can be
  * overriden at runtime with the '-c' switch
  */
 #ifndef CONFIG_FILE_PATH
-#define	CONFIG_FILE_PATH	"/etc/proftpd.conf"
+#define	CONFIG_FILE_PATH	"@FINKPREFIX@/etc/proftpd.conf"
 #endif
 
 /* The location of your `shells' file; a newline delimited list of
@@ -70,17 +70,17 @@
  * log files.  These can be overridden in the configuration file via
  * "TransferLog" and "ExtendedLog".  (note ExtendedLog does not work yet)
  */
-#define XFERLOG_PATH		"/var/log/xferlog"
-#define EXTLOG_PATH		"/var/log/proftpd-log"
+#define XFERLOG_PATH		"@FINKPREFIX@/var/log/xferlog"
+#define EXTLOG_PATH		"@FINKPREFIX@/var/log/proftpd-log"
 
 /* Location of the file that tells proftpd to discontinue servicing
  * requests.
  */
-#define SHUTMSG_PATH		"/etc/shutmsg"
+#define SHUTMSG_PATH		"@FINKPREFIX@/etc/shutmsg"
 
 /* Location of the file containing users that *cannot* use ftp
  * services (odd, eh?)
  */
-#define FTPUSERS_PATH		"/etc/ftpusers"
+#define FTPUSERS_PATH		"@FINKPREFIX@/etc/ftpusers"
 
 #endif /* PROFTPD_PATHS_H */
diff -ruN proftpd-1.2.6.orig/modules/mod_pam.c proftpd-1.2.6/modules/mod_pam.c
--- proftpd-1.2.6.orig/modules/mod_pam.c	2002-07-18 17:01:44.000000000 -0600
+++ proftpd-1.2.6/modules/mod_pam.c	2002-10-25 13:13:52.000000000 -0600
@@ -47,6 +47,10 @@
 #include <security/pam_appl.h>
 #endif /* HAVE_SECURITY_PAM_APPL_H */
 
+#ifdef HAVE_PAM_PAM_APPL_H
+#include <pam/pam_appl.h>
+#endif /* HAVE_PAM_PAM_APPL_H */
+
 static pam_handle_t *	pamh			= NULL;
 static char *		pamconfig		= "ftp";
 static char *		pam_user 		= (char *)0;
diff -ruN proftpd-1.2.6.orig/src/dirtree.c proftpd-1.2.6/src/dirtree.c
--- proftpd-1.2.6.orig/src/dirtree.c	2002-08-28 10:00:22.000000000 -0600
+++ proftpd-1.2.6/src/dirtree.c	2002-10-25 13:15:54.000000000 -0600
@@ -376,10 +376,10 @@
 
     /* Perform a fixup on configuration directives so that:
      * -argv[0]--  -argv[1]-- ----argv[2]-----
-     * <Option     /etc/adir  /etc/anotherdir>
+     * <Option     @FINKPREFIX@/etc/adir  @FINKPREFIX@/etc/anotherdir>
      *   .. becomes ..
      * -argv[0]--  -argv[1]-  ----argv[2]----
-     * <Option>    /etc/adir  /etc/anotherdir
+     * <Option>    @FINKPREFIX@/etc/adir  @FINKPREFIX@/etc/anotherdir
      */
 
     if(new_cmd->argc && *(new_cmd->argv[0]) == '<') {
@@ -1961,11 +1961,11 @@
        * Just a partial match on the pathname does not mean that the longer
        * path is the subdirectory of the other -- they might just be sharing
        * the last path component! 
-       * /var/www/.1
-       * /var/www/.14
+       * @FINKPREFIX@/var/www/.1
+       * @FINKPREFIX@/var/www/.14
        *            ^ -- not /, not subdir
-       * /var/www/.1
-       * /var/www/.1/images
+       * @FINKPREFIX@/var/www/.1
+       * @FINKPREFIX@/var/www/.1/images
        *            ^ -- /, is subdir
        */
       if (strlen(path) > len && path[len] != '/')
diff -ruN proftpd-1.2.6.orig/src/ftpcount.1 proftpd-1.2.6/src/ftpcount.1
--- proftpd-1.2.6.orig/src/ftpcount.1	2002-06-22 01:02:29.000000000 -0600
+++ proftpd-1.2.6/src/ftpcount.1	2002-10-25 13:15:54.000000000 -0600
@@ -29,11 +29,11 @@
 proftpd's scoreboard.
 .SH FILES
 .PD 0
-.B /usr/bin/ftpcount
+.B @FINKPREFIX@/usr/bin/ftpcount
 .br
-.B /var/run/proftpd-[pid]
+.B @FINKPREFIX@/var/run/proftpd-[pid]
 .br
-.B /var/run/proftpd-inetd
+.B @FINKPREFIX@/var/run/proftpd-inetd
 .PD
 .SH AUTHORS
 .PP
diff -ruN proftpd-1.2.6.orig/src/ftpcount.c proftpd-1.2.6/src/ftpcount.c
--- proftpd-1.2.6.orig/src/ftpcount.c	2002-06-23 13:03:24.000000000 -0600
+++ proftpd-1.2.6/src/ftpcount.c	2002-10-25 13:15:54.000000000 -0600
@@ -24,7 +24,7 @@
  * the source code for OpenSSL in the source distribution.
  */
 
-/* Shows a count of "who" is online via proftpd.  Uses the /var/run/proftpd*
+/* Shows a count of "who" is online via proftpd.  Uses the @FINKPREFIX@/var/run/proftpd*
  * log files.
  *
  * $Id$
diff -ruN proftpd-1.2.6.orig/src/ftpshut.8 proftpd-1.2.6/src/ftpshut.8
--- proftpd-1.2.6.orig/src/ftpshut.8	2002-06-22 01:02:29.000000000 -0600
+++ proftpd-1.2.6/src/ftpshut.8	2002-10-25 13:15:54.000000000 -0600
@@ -21,7 +21,7 @@
 command provides an automated shutdown procedure that a superuser
 can use to automagically disconnect current proftpd connections,
 and deny new connections.  The command creates a control file as
-.B /etc/shutmsg
+.B @FINKPREFIX@/etc/shutmsg
 to inform proftpd processes about an impending shutdown.
 .SH OPTIONS
 .TP 10
@@ -97,9 +97,9 @@
 until the indicated time on the following day.
 .SH FILES
 .PD 0
-.B /usr/sbin/ftpshut
+.B @FINKPREFIX@/usr/sbin/ftpshut
 .br
-.B /etc/shutmsg
+.B @FINKPREFIX@/etc/shutmsg
 .PD
 .SH AUTHORS
 .PP
diff -ruN proftpd-1.2.6.orig/src/ftpwho.1 proftpd-1.2.6/src/ftpwho.1
--- proftpd-1.2.6.orig/src/ftpwho.1	2002-06-22 01:02:30.000000000 -0600
+++ proftpd-1.2.6/src/ftpwho.1	2002-10-25 13:15:54.000000000 -0600
@@ -32,11 +32,11 @@
 host and current working directory.
 .SH FILES
 .PD 0
-.B /usr/bin/ftpwho
+.B @FINKPREFIX@/usr/bin/ftpwho
 .br
-.B /var/run/proftpd-[pid]
+.B @FINKPREFIX@/var/run/proftpd-[pid]
 .br
-.B /var/run/proftpd-inetd
+.B @FINKPREFIX@/var/run/proftpd-inetd
 .PD
 .SH AUTHORS
 .PP
diff -ruN proftpd-1.2.6.orig/src/ftpwho.c proftpd-1.2.6/src/ftpwho.c
--- proftpd-1.2.6.orig/src/ftpwho.c	2002-06-23 13:03:24.000000000 -0600
+++ proftpd-1.2.6/src/ftpwho.c	2002-10-25 13:15:54.000000000 -0600
@@ -24,7 +24,7 @@
  * the source code for OpenSSL in the source distribution.
  */
 
-/* Shows "who" is online via proftpd.  Uses the /var/run/proftpd* log files.
+/* Shows "who" is online via proftpd.  Uses the @FINKPREFIX@/var/run/proftpd* log files.
  * 
  * $Id$
  */
diff -ruN proftpd-1.2.6.orig/src/main.c proftpd-1.2.6/src/main.c
--- proftpd-1.2.6.orig/src/main.c	2002-08-30 18:08:39.000000000 -0600
+++ proftpd-1.2.6/src/main.c	2002-10-25 13:15:54.000000000 -0600
@@ -1634,7 +1634,7 @@
     }
 
     /* If running (a flag signaling whether proftpd is just starting up)
-     * AND shutdownp (a flag signalling the present of /etc/shutmsg) are
+     * AND shutdownp (a flag signalling the present of @FINKPREFIX@/etc/shutmsg) are
      * true, then log an error stating this -- but don't stop the server.
      */
     if(shutdownp && !running) {
diff -ruN proftpd-1.2.6.orig/src/proftpd.8 proftpd-1.2.6/src/proftpd.8
--- proftpd-1.2.6.orig/src/proftpd.8	2002-06-22 01:02:30.000000000 -0600
+++ proftpd-1.2.6/src/proftpd.8	2002-10-25 13:15:54.000000000 -0600
@@ -30,7 +30,7 @@
 option, the main
 .B proftpd
 daemon writes its process ID to
-.B /var/run/proftpd.pid
+.B @FINKPREFIX@/var/run/proftpd.pid
 to make it easy to know which process to SIGHUP.
 .SH OPTIONS
 .TP 12
@@ -61,7 +61,7 @@
 .TP
 .BI \-c,\--config " config\-file"
 Specifies an alternate \fIconfig\-file\fP to be parsed at startup, rather
-than the default (typically found in \fB/etc/proftpd.conf\fP).
+than the default (typically found in \fB@FINKPREFIX@/etc/proftpd.conf\fP).
 .TP
 .BI \-t,\--configtest
 Read the configuration file, report any syntax errors, and exit.
@@ -76,21 +76,21 @@
 Lists all modules compiled into proftpd.
 .SH FILES
 .PD 0
-.B /usr/sbin/proftpd
+.B @FINKPREFIX@/usr/sbin/proftpd
 .br
-.B /usr/bin/ftpwho
+.B @FINKPREFIX@/usr/bin/ftpwho
 .br
-.B /usr/bin/ftpcount
+.B @FINKPREFIX@/usr/bin/ftpcount
 .br
-.B /usr/sbin/ftpshut
+.B @FINKPREFIX@/usr/sbin/ftpshut
 .br
-.B /var/log/xferlog
+.B @FINKPREFIX@/var/log/xferlog
 .br
-.B /var/run/proftpd-[pid]
+.B @FINKPREFIX@/var/run/proftpd-[pid]
 .br
-.B /var/run/proftpd.pid
+.B @FINKPREFIX@/var/run/proftpd.pid
 .br
-.B /var/run/proftpd-inetd
+.B @FINKPREFIX@/var/run/proftpd-inetd
 .PD
 .SH AUTHORS
 .PP
diff -ruN proftpd-1.2.6.orig/src/xferlog.5 proftpd-1.2.6/src/xferlog.5
--- proftpd-1.2.6.orig/src/xferlog.5	2001-08-01 09:17:07.000000000 -0600
+++ proftpd-1.2.6/src/xferlog.5	2002-10-25 13:15:54.000000000 -0600
@@ -7,7 +7,7 @@
 .B xferlog
 file contains logging information from the FTP server daemon,
 .BR proftpd (8).
-This file usually is found in /var/log, but can be located anywhere by
+This file usually is found in @FINKPREFIX@/var/log, but can be located anywhere by
 using a
 .BR proftpd (8)
 configuration directive.
@@ -154,7 +154,7 @@
 .SH FILES
 .PD 0
 .TP 20
-.B /var/log/xferlog
+.B @FINKPREFIX@/var/log/xferlog
 .PP
 .PD
 .SH AUTHORS
