diff -ruN httpd-2.0.45.orig/modules/experimental/util_ldap.c httpd-2.0.45/modules/experimental/util_ldap.c
--- httpd-2.0.45.orig/modules/experimental/util_ldap.c	Fri Mar  7 13:12:29 2003
+++ httpd-2.0.45/modules/experimental/util_ldap.c	Thu May 22 09:54:05 2003
@@ -73,6 +73,16 @@
 #include "util_ldap.h"
 #include "util_ldap_cache.h"
 
+#if APR_HAS_SHARED_MEMORY
+extern apr_shm_t *util_ldap_shm;
+extern apr_rmm_t *util_ldap_rmm;
+#endif
+extern util_ald_cache_t *util_ldap_cache;       
+
+#if APR_HAS_THREADS
+extern apr_thread_rwlock_t *util_ldap_cache_lock;        
+#endif
+
 #if APR_HAVE_UNISTD_H
 #include <unistd.h>
 #endif
diff -ruN httpd-2.0.45.orig/modules/experimental/util_ldap_cache.c httpd-2.0.45/modules/experimental/util_ldap_cache.c
--- httpd-2.0.45.orig/modules/experimental/util_ldap_cache.c	Tue Jan 21 03:51:34 2003
+++ httpd-2.0.45/modules/experimental/util_ldap_cache.c	Thu May 22 09:54:05 2003
@@ -64,6 +64,16 @@
 #include "util_ldap.h"
 #include "util_ldap_cache.h"
 
+#if APR_HAS_SHARED_MEMORY
+apr_shm_t *util_ldap_shm;
+apr_rmm_t *util_ldap_rmm;
+#endif
+util_ald_cache_t *util_ldap_cache;
+
+#if APR_HAS_THREADS
+apr_thread_rwlock_t *util_ldap_cache_lock;
+#endif
+
 #ifdef APU_HAS_LDAP
 
 #define MODLDAP_SHMEM_CACHE "/tmp/mod_ldap_cache"
diff -ruN httpd-2.0.45.orig/modules/experimental/util_ldap_cache.h httpd-2.0.45/modules/experimental/util_ldap_cache.h
--- httpd-2.0.45.orig/modules/experimental/util_ldap_cache.h	Tue Jan 21 03:51:34 2003
+++ httpd-2.0.45/modules/experimental/util_ldap_cache.h	Thu May 22 09:54:09 2003
@@ -102,14 +102,7 @@
     unsigned long removes;	/* Number of removes */
 } util_ald_cache_t;
 
-#if APR_HAS_SHARED_MEMORY
-apr_shm_t *util_ldap_shm;
-apr_rmm_t *util_ldap_rmm;
-#endif
-util_ald_cache_t *util_ldap_cache;
-
 #if APR_HAS_THREADS
-apr_thread_rwlock_t *util_ldap_cache_lock;
 #define LDAP_CACHE_LOCK_CREATE(p) \
     if (!util_ldap_cache_lock) apr_thread_rwlock_create(&util_ldap_cache_lock, p)
 #define LDAP_CACHE_WRLOCK() \
diff -ruN httpd-2.0.45.orig/modules/experimental/util_ldap_cache_mgr.c httpd-2.0.45/modules/experimental/util_ldap_cache_mgr.c
--- httpd-2.0.45.orig/modules/experimental/util_ldap_cache_mgr.c	Tue Jan 21 03:51:34 2003
+++ httpd-2.0.45/modules/experimental/util_ldap_cache_mgr.c	Thu May 22 09:54:05 2003
@@ -65,6 +65,16 @@
 #include "util_ldap_cache.h"
 #include <apr_strings.h>
 
+#if APR_HAS_SHARED_MEMORY
+extern apr_shm_t *util_ldap_shm;
+extern apr_rmm_t *util_ldap_rmm;
+#endif
+extern util_ald_cache_t *util_ldap_cache;
+
+#if APR_HAS_THREADS
+extern apr_thread_rwlock_t *util_ldap_cache_lock;
+#endif
+
 #ifdef APU_HAS_LDAP
 
 /* only here until strdup is gone */
