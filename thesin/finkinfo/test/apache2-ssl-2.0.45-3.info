Package: apache2-ssl
Version: 2.0.45
Revision: 3
###
Conflicts: apache, apr
Replaces: apache, apr
BuildDepends: db41-ssl, expat (>= 1.95.6-2), openldap-ssl
Depends: daemonic, db41-ssl-shlibs, expat-shlibs (>= 1.95.6-2), openldap-ssl-shlibs
###
CustomMirror: <<
  Primary: http://www.apache.org/dist/httpd/
  Secondary: http://www.apache.org/dist/httpd/old/
<<
###
Source: mirror:custom:httpd-%v.tar.gz
Source-MD5: 1f33e9a2e2de06da190230fa72738d75
###
Patch: %f.patch
###
GCC: 3.1
###
CompileScript: <<
#!/bin/sh
  ./configure \
  --with-ssl=%p \
  --enable-ssl=shared \
  --enable-v4-mapped \
  --enable-modules=all \
  --enable-mods-shared=all \
  --enable-auth-anon \
  --enable-auth-dbm \
  --enable-auth-digest \
  --enable-isapi \
  --enable-file-cache \
  --enable-echo \
  --enable-charset-lite \
  --enable-cache \
  --enable-disk-cache \
  --enable-mem-cache \
  --enable-example \
  --enable-case-filter \
  --enable-case-filter-in \
  --enable-ldap \
  --enable-auth-ldap \
  --enable-ext-filter \
  --enable-deflate \
  --enable-logio \
  --enable-mime-magic \
  --enable-cern-meta \
  --enable-expires \
  --enable-headers \
  --enable-usertrack \
  --enable-unique-id \
  --enable-proxy \
  --enable-proxy-connect \
  --enable-proxy-ftp \
  --enable-proxy-http \
  --enable-optional-hook-export \
  --enable-optional-hook-import \
  --enable-optional-fn-import \
  --enable-optional-fn-export \
  --enable-bucketeer \
  --enable-http \
  --enable-dav \
  --enable-info \
  --enable-suexec \
  --enable-cgi \
  --enable-cgid \
  --enable-dav_fs \
  --enable-vhost-alias \
  --enable-speling \
  --enable-rewrite \
  --enable-so \
  --with-dbm=db4 \
  --with-expat=%p \
  --with-iconv=%p \
  --with-gdbm=%p \
  --with-berkeley-db=%p \
  --enable-threads \
  --enable-other-child \
  --with-ldap \
  --with-ldap-include=%p/include \
  --with-ldap-lib=%p/lib \
  --with-suexec-caller=www-data \
  --with-suexec-bin=%p/lib/apache2/suexec2 \
  --with-suexec-docroot=%p/var/www2 \
  --with-suexec-logfile=%p/var/log/apache2.log \
  --with-suexec-userdir=Sites \
  --with-mpm=prefork \
  --with-pic \
  --enable-shared \
  --prefix=%p/share/apache2 \
  --exec-prefix=%p/share/apache2 \
  --bindir=%p/bin \
  --sbindir=%p/sbin \
  --libexecdir=%p/share/apache2 \
  --datadir=%p/share/apache2 \
  --sysconfdir=%p/etc/apache2 \
  --sharedstatedir=%p/share/apache2 \
  --libdir=%p/lib/apache2 \
  --includedir=%p/include/apache2 \
  --oldincludedir=%p/include/apache2 \
  --mandir=%p/share/man \
  --infodir=%p/share/info
  make
<<
InstallScript: <<
  make install DESTDIR=%d
<<
###
SplitOff: <<
  Package: apache2-common-ssl
  Description: Apache2 Common Files (conf, icon, etc) - [SSL]
  Replaces: apache2-common, apache2 (<< 2.0.45-3), apache
  Conflicts: apache2-common, apache2 (<< 2.0.45-3), apache
  Files: <<
    etc
    share/apache2/cgi-bin
    share/apache2/error
    share/apache2/htdocs
    share/apache2/icons
    share/apache2/logs
  <<
  DocFiles: ABOUT_APACHE LICENSE CHANGES INSTALL LAYOUT README* VERSIONING
  ConfFiles: <<
    %p/etc/apache2/httpd.conf
    %p/etc/apache2/magic
    %p/etc/apache2/mime.types
  <<
  DaemonicName: apache2
  DaemonicFile: <<
   <service>
    <description>Apache2 web server</description>
    <message>Apache2 web server</message>

    <daemon name="httpd">
      <executable background="yes">%p/sbin/apachectl</executable>
      <parameters> -k start</parameters>
    </daemon>
   </service>
  <<
<<
###
SplitOff2: <<
  Package: apache2-ssl-dev
  Description: Apache2 Developement Files - [SSL] 
  Replaces: apache2-dev, apache2 (<< 2.0.45-3), apache, apache-dev
  Conflicts: apache2-dev, apache2 (<< 2.0.45-3), apache, apache-dev
  Files: <<
    include/apache2/ap_*
    include/apache2/http*
    include/apache2/mod*
    include/apache2/mpm*
    include/apache2/o*
    include/apache2/p*
    include/apache2/r*
    include/apache2/s*
    include/apache2/u*
    share/apache2/build/c*
    share/apache2/build/i*
    share/apache2/build/l*
    share/apache2/build/p*
    share/apache2/build/r*
    share/apache2/build/s*
    share/apache2/httpd.exp
  <<
  DocFiles: LICENSE
<<
###
SplitOff3: <<
  Package: libapr0-ssl-shlibs
  Description: Apache Portable Runtime Shared Libraries - [SSL]
  Replaces: apache2 (<< 2.0.45-3), apr-ssl-shlibs, apr-shlibs
  Conflicts: apache2 (<< 2.0.45-3), apr-ssl-shlibs, apr-shlibs
  Files: <<
    lib/apache2/libapr-0.*.dylib
  <<
  Shlibs: %p/lib/apache2/libapr-0.0.dylib 10.0.0 libapr0-ssl-shlibs (>= 2.0.45-3)
  DocFiles: LICENSE srclib/apr/docs/* srclib/apr/CHANGES:CHANGES_apr.txt
<<
###
SplitOff4: <<
  Package: libapr0-ssl-dev
  Description: Apache Portable Runtime Developement Files - [SSL]
  Replaces: apache2 (<< 2.0.45-3), apr-ssl, apr
  Conflicts: apache2 (<< 2.0.45-3), apr-ssl, apr
  Files: <<
    bin/apr-config
    include/apache2/apr*
    lib/apache2/aprutil.exp
    lib/apache2/libapr-0.dylib
    lib/apache2/libapr-0.a
    lib/apache2/libapr-0.la
    share/apache2/build/apr_rules.mk
  <<
  DocFiles: LICENSE
<<
###
SplitOff5: <<
  Package: libapu0-ssl-shlibs
  Description: Apache Portable Runtime Util Shared Libraries - [SSL]
  Replaces: apache2 (<< 2.0.45-3), apr-ssl-shlibs, apr-shlibs
  Conflicts: apache2 (<< 2.0.45-3), apr-ssl-shlibs, apr-shlibs
  Files: <<
    lib/apache2/libaprutil-0.*.dylib
  <<
  Shlibs: %p/lib/apache2/libaprutil-0.0.dylib 10.0.0 libapu0-ssl-shlibs (>= 2.0.45-3)
  DocFiles: LICENSE srclib/apr-util/CHANGES:CHANGES_apu.txt
<< 
###
SplitOff6: <<
  Package: libapu0-ssl-dev
  Description: Apache Portable Runtime Util Developement Files - [SSL]
  Depends: libapr0-ssl-shlibs
  Replaces: apache2 (<< 2.0.45-3), apr-ssl, apr
  Conflicts: apache2 (<< 2.0.45-3), apr-ssl, apr
  Files: <<
    bin/apu-config
    include/apache2/apu*
    lib/apache2/libaprutil-0.dylib
    lib/apache2/libaprutil-0.a
    lib/apache2/libaprutil-0.la
  <<
  DocFiles: LICENSE
<<
###
SplitOff7: <<
  Package: apache2-ssl-docs
  Description: Apache2 Manual - [SSL]
  Replaces: apache2 (<< 2.0.45-3), apache-docs
  Conflicts: apache2 (<< 2.0.45-3), apache-docs
  Files: <<
    share/apache2/manual
  <<
  DocFiles: LICENSE
<<
###
SplitOff8: <<
  Package: libapache2-mod-auth-anon
  Description: Apache2 auth_anon DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-auth-anon
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-auth-anon
  Files: <<
    share/apache2/mod_auth_anon.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=auth_anon
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=auth_anon
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff9: <<
  Package: libapache2-mod-cgid
  Description: Apache2 cgid DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-cgid
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-cgid
  Files: <<
    share/apache2/mod_cgid.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=cgid
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=cgid
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff10: <<
  Package: libapache2-mod-expires
  Description: Apache2 expires DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-expires
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-expires
  Files: <<
    share/apache2/mod_expires.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=expires
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=expires
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff11: <<
  Package: libapache2-mod-headers
  Description: Apache2 headers DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-headers
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-headers
  Files: <<
    share/apache2/mod_headers.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=headers
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=headers
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff12: <<
  Package: libapache2-mod-info
  Description: Apache2 info DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-info
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-info
  Files: <<
    share/apache2/mod_info.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=info
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=info
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff13: <<
  Package: libapache2-mod-mime-magic
  Description: Apache2 mime_magic DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-mime-magic
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-mime-magic
  Files: <<
    share/apache2/mod_mime_magic.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=mime_magic
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=mime_magic
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff14: <<
  Package: libapache2-mod-proxy
  Description: Apache2 proxy DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-proxy
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-proxy
  Files: <<
    share/apache2/mod_proxy.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=proxy
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=proxy
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff15: <<
  Package: libapache2-mod-proxy-connect
  Description: Apache2 proxy_connect DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-proxy-connect
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-proxy-connect
  Files: <<
    share/apache2/mod_proxy_connect.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=proxy_connect
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=proxy_connect
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff16: <<
  Package: libapache2-mod-proxy-ftp
  Description: Apache2 proxy_ftp DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-proxy-ftp
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-proxy-ftp
  Files: <<
    share/apache2/mod_proxy_ftp.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=proxy_ftp
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=proxy_ftp
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff17: <<
  Package: libapache2-mod-proxy-http
  Description: Apache2 proxy_http DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-proxy-http
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-proxy-http
  Files: <<
    share/apache2/mod_proxy_http.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=proxy_http
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=proxy_http
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff18: <<
  Package: libapache2-mod-rewrite
  Description: Apache2 rewrite DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-rewrite
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-rewrite
  Files: <<
    share/apache2/mod_rewrite.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=rewrite
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=rewrite
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff19: <<
  Package: libapache2-mod-speling
  Description: Apache2 speling mod_DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-speling
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-speling
  Files: <<
    share/apache2/mod_speling.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=speling
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=speling
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
#SplitOff20: <<
#  Package: libapache2-mod-ssl
#  Description: Apache2 ssl DSO Module
#  Replaces: apache2 (<< 2.0.45-3), libapache-mod-ssl
#  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-ssl
#  Files: <<
#    share/apache2/mod_ssl.so
#    include/apache2/ssl*.h
#    include/apache2/mod_ssl.h
#    include/apache2/manual/ssl
#    include/apache2/manual/mod/*ssl*
#  <<
#  DocFiles: LICENSE
#  PostInstScript: <<
#    MODULE=ssl
#    APXS=%p/sbin/apxs 
#    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
#    APXS_CFLAGS=`$APXS -q CFLAGS`
#
#    echo "Enabling mod_$MODULE module..."
#
#    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
#    %p/sbin/apachectl restart
#  <<
#  PreRmScript: <<   
#    MODULE=ssl
#    APXS=%p/sbin/apxs 
#    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
#    APXS_CFLAGS=`$APXS -q CFLAGS`
#
#    echo "Disabling mod_$MODULE module..."
#
#    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
#    %p/sbin/apachectl restart
#  <<
#<<
###
SplitOff21: <<
  Package: libapache2-mod-suexec
  Description: Apache2 suexec DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-suexec
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-suexec
  Files: <<
    share/apache2/mod_suexec.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=suexec
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=suexec
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff22: <<
  Package: libapache2-mod-unique-id
  Description: Apache2 unique_id DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-unique-id
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-unique-id
  Files: <<
    share/apache2/mod_unique_id.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=unique_id
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=unique_id
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff23: <<
  Package: libapache2-mod-usertrack
  Description: Apache2 usertrack DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-usertrack
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-usertrack
  Files: <<
    share/apache2/mod_usertrack.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=usertrack
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<   
    MODULE=usertrack
    APXS=%p/sbin/apxs 
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff24: <<
  Package: libapache2-mod-vhost-alias
  Description: Apache2 vhost_alias DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-vhost-alias
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-vhost-alias
  Files: <<
    share/apache2/mod_vhost_alias.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=vhost_alias
    APXS=%p/sbin/apxs
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`
 
    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<
    MODULE=vhost_alias
    APXS=%p/sbin/apxs
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED                                      
    %p/sbin/apachectl restart
  <<
<<
###
SplitOff25: <<
  Package: libapache2-mod-ldap
  Description: Apache2 ldap DSO Module
  Replaces: apache2 (<< 2.0.45-3), libapache-mod-ldap
  Conflicts: apache2 (<< 2.0.45-3), libapache-mod-ldap
  Files: <<
    share/apache2/mod_ldap.so
  <<
  DocFiles: LICENSE
  PostInstScript: <<
    MODULE=ldap
    APXS=%p/sbin/apxs
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Enabling mod_$MODULE module..."

    $APXS -e -a -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
  PreRmScript: <<
    MODULE=ldap
    APXS=%p/sbin/apxs
    SAPI_SHARED=%p/share/apache2/mod_$MODULE.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    echo "Disabling mod_$MODULE module..."

    $APXS -e -A -n mod_$MODULE $SAPI_SHARED
    %p/sbin/apachectl restart
  <<
<<
###
Description: Powerful HTTP Web Server
DescDetail: <<
  Apache is a powerful web source which is highly flexable. It has support
  for modules, and is used on many large web sites throughout the net. It
  used httpd.conf for all of it's configuration options, which are well
  documented.
<<
DescUsage: <<
  The htdocs, and cgi-bin folders are installed in share/apache2 folder.
  You can configure the server to suit your needs by editing mod_the 
  etc/apache2/httpd.conf file. It doesn't effect the built in apache
  webserver which is included with Mac OS X, but it will conflict if one, or 
  the other is running mod_at the same time.  Base and Extension modules
  are the only ones that are built, and should be fine for most setups.  The
  apachectl command included with this package will be used instead of the
  one that it included with OSX. If you should need to use the OSX one, type
  /usr/sbin/apachectl, and use it like you normally would.
<<
DescPackaging: <<
  Apache2's prefix chooses the location of serveral directories that can't
  be change with other configure options. Using mod_the CompileScript option,
  I overwrote Fink's defaults of ./configure --prefix option, and set the 
  correct prefix manually.

  Moved 'make' to the CompileScript so that apache2-config gives the proper
  values.  Also updated the pkg to add a custom mirror to avoid breakage when
  they move he tarballs and updated to current release.  Also fixed the
  daemonic script. Also added DSO building.  Addes a PatchScript to remove
  the internal expat in favor of fink's expat as there is no switch or way
  to disable it.  - Justin F. Hallett (Feb 7, 2003)
<<
License: BSD
Homepage: http://www.apache.org
Maintainer: Sonic McTails <sonicmctails@projectnemesis.ibforums.com>
