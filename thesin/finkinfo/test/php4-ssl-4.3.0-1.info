Package: php4-ssl
Version: 4.3.0
Revision: 1
###
Depends: t1lib1-shlibs, libtool14-shlibs, gmp-shlibs, freetype2-shlibs | freetype2-hinting-shlibs, bzip2, dlcompat-shlibs, libpng3-shlibs, libjpeg-shlibs, libtiff-shlibs, mysql-shlibs, gd-shlibs, libxml2-shlibs, libxslt-shlibs, curl-ssl-shlibs | curl-shlibs, libpoll-shlibs, pdflib-shlibs, clibpdf, libmcrypt-shlibs, libmhash-shlibs, ming-shlibs, postgresql73-shlibs | postgresql-ssl73-shlibs, readline-shlibs, expat-shlibs, db3-shlibs, zziplib-shlibs, qt3-shlibs, pcre-shlibs
BuildDepends: t1lib1, libtool14, gmp, freetype2 | freetype2-hinting, dlcompat-dev, libpng3, libjpeg, libtiff, mysql-dev, gd, libxml2, libxslt, curl-ssl | curl, curl-ssl-dev | curl-dev, libpoll, pdflib, libmcrypt, libmhash, ming, postgresql-dev | postgresql-ssl-dev, pspell, readline, expat, db3, zziplib, qt3, pcre
Conflicts: php4-ssl-apache2
Repalces: php4-ssl-apache2
###
CustomMirror: <<
  eur-AR: http://ar.php.net/
  oce-AU: http://au.php.net/
  oce-AU: http://au2.php.net/
  oce-AU: http://au3.php.net/
  eur-AT: http://at.php.net/
  eur-AT: http://at2.php.net/
  eur-BE: http://be.php.net/
  eur-BE: http://be2.php.net/
  sam-BR: http://br.php.net/
  sam-BR: http://br2.php.net/
  nam-CA: http://ca.php.net/
  nam-CA: http://ca2.php.net/
  nam-CA: http://ca3.php.net/
  asi-CN: http://cn.php.net/
  asi-CN: http://cn2.php.net/
  sam-CR: http://cr2.php.net/
  eur-CZ: http://cz.php.net/
  eur-DK: http://dk.php.net/
  eur-DK: http://dk2.php.net/
  eur-FR: http://fr.php.net/
  eur-FR: http://fr2.php.net/
  eur-FR: http://fr3.php.net/
  eur-DE: http://de.php.net/
  eur-DE: http://de2.php.net/
  eur-DE: http://de3.php.net/
  eur-GR: http://gr.php.net/
  eur-GR: http://gr2.php.net/
  eur-HU: http://hu.php.net/
  eur-HU: http://hu2.php.net/
  asi-ID: http://id.php.net/
  eur-IE: http://ie.php.net/
  asi-JP: http://jp.php.net/
  asi-JP: http://jp2.php.net/
  eur-LV: http://lv.php.net/
  nam-MX: http://mx.php.net/
  eur-PL: http://pl.php.net/
  eur-PL: http://pl2.php.net/
  eur-RU: http://ru.php.net/
  eur-RU: http://ru2.php.net/
  eur-SI: http://si.php.net/
  eur-SI: http://si2.php.net/
  eur-SE: http://se.php.net/
  eur-SE: http://se2.php.net/
  eur-CH: http://ch.php.net/
  eur-CH: http://ch2.php.net/
  asi-TW: http://tw.php.net/
  asi-TW: http://tw2.php.net/
  eur-UA: http://ua.php.net/
  eur-UA: http://ua2.php.net/
  eur-UK: http://uk.php.net/
  eur-UK: http://uk2.php.net/
  nam-US: http://us2.php.net/
  nam-US: http://us3.php.net/  
  nam-US: http://us4.php.net/  
  nam-US: http://www.php.net/  
  eur-YU: http://yu.php.net/
<<
###
Source: mirror:custom:distributions/php-%v.tar.bz2
Source-MD5: 6a3e1ad25cc912816c1f958cd4507767
###
Patch: %f.patch
###
GCC: 3.1
###
SetLIBS: -lpoll
###
DocFiles: CODING_STANDARDS CREDITS EXTENSIONS INSTALL LICENSE NEWS README* TODO*
ConfFiles: %p/etc/php.ini
###
ConfigureParams: --without-java --without-db --disable-sysvmsg --with-zip=%p --without-yaz --disable-xslt --without-xslt-sablot --with-expat-dir=%p --without-sybase-ct --without-sybase --without-swf --without-snmp --without-recode --without-libedit --with-readline=%p --with-pspell=%p --with-pgsql=%p --without-pfpro --without-ovrimos --without-oci8 --without-oracle --without-mssql --without-msql --without-msession --without-mnogosearch --with-ming=%p --with-mhash=%p --without-mcve --without-interbase --with-mcrypt=%p --without-mcal --without-ldap --without-ircg --without-ingres --without-informix --without-imap --without-hwapi --with-xpm-dir=%p --with-freetype-dir=%p --without-fribidi --without-fdftk --without-fbsql --without-cyrus --without-crack --enable-track-vars --disable-debug --with-dom=%p --with-dom-xslt=%p --with-dom-exslt=%p --with-iconv=%p --with-ttf=%p --with-t1lib=%p --enable-gd-native-ttf --with-gettext=%p --with-gmp=%p --with-config-file-path=%p/etc --with-openssl --enable-all --with-db3=%p --with-ncurses --with-iodbc --with-qtdom --with-xslt --with-curl=%p --with-jpeg-dir=%p --with-libjpeg --with-tiff-dir=%p --with-libtiff --with-png-dir=%p --with-libpng --with-gd=%p --with-mysql --with-xml --without-apache2 --with-apxs=/usr/sbin/apxs --with-pic --enable-shared --enable-static --mandir=%i/share/man --infodir=%p/share/info --libexecdir=%p/lib
###
InstallScript: <<
  make install INSTALL_ROOT=%d
  mkdir -p %i/etc
  install -m 644 php.ini-dist %i/etc/php.ini
  mkdir -p %i/share/libexec/php4
  install -m 644 libs/libphp4.so %i/share/libexec/php4/libphp4.so
<<
###
PostInstScript: <<
  ENSYSTEM=foo
  ENFINK=foo

  APXSFINK=%p/sbin/apxs
  APXSSYSTEM=/usr/sbin/apxs

  if [ `fink list apache | grep apache | grep "1.3" | grep -E " i "` ]
  then
    if [ -e $APXSFINK ]         
    then   
      while [ "$ENFINK" = "foo" ]
      do
        echo "Would like to enable the apache php4 module for fink's apache? (Y/N)"
        echo -n "> "
        read ENFINK
        case $ENFINK in
	Y*)	ENFINK=Y;;
	y*)	ENFINK=Y;;
	N*)	ENFINK=N;;
	n*)	ENFINK=N;;
	*)	ENFINK=foo
		echo "===> Try again!";;
        esac
      done
    fi
  else
    ENFINK=N
  fi

  if [ -e $APXSSYSTEM ]  
  then  
    while [ "$ENSYSTEM" = "foo" ]
    do
      echo "Would like to enable the apache php4 module for apple's apache? (Y/N)"
      echo -n "> "
      read ENSYSTEM
      case $ENSYSTEM in
	Y*)	ENSYSTEM=Y;;
	y*)	ENSYSTEM=Y;;
	N*)	ENSYSTEM=N;;
	n*)	ENSYSTEM=N;;
	*)	ENSYSTEM=foo
		echo "===> Try again!";;
      esac
    done
  fi

  if [ "$ENFINK" = "Y" ]
  then
    echo "Enabling PHP4 module in the fink apache conf file"
    APXS=$APXSFINK

    SAPI_SHARED=%p/share/libexec/php4/libphp4.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    # Test whether apxs support -S option
    $APXS -q -S CFLAGS="$APXS_CFLAGS" CFLAGS >/dev/null 2>&1

    if test "$?" != "0"
    then
      $APXS -i -a -n php4 $SAPI_SHARED # Old apxs does not have -S option
    else
      mkdir -p `$APXS -q LIBEXECDIR` && $APXS -S LIBEXECDIR=`$APXS -q LIBEXECDIR` -i -a -n php4 $SAPI_SHARED
    fi
    %p/sbin/apachectl restart
  fi

  if [ "$ENSYSTEM" = "Y" ]  
  then
    echo "Enabling PHP4 module in the apple apache conf file"
    APXS=$APXSSYSTEM

    SAPI_SHARED=%p/share/libexec/php4/libphp4.so
    APXS_CFLAGS=`$APXS -q CFLAGS`

    # Test whether apxs support -S option
    $APXS -q -S CFLAGS="$APXS_CFLAGS" CFLAGS >/dev/null 2>&1

    if test "$?" != "0"
    then
      $APXS -i -a -n php4 $SAPI_SHARED # Old apxs does not have -S option
    else
      mkdir -p `$APXS -q LIBEXECDIR` && $APXS -S LIBEXECDIR=`$APXS -q LIBEXECDIR` -i -a -n php4 $SAPI_SHARED
    fi
    /usr/sbin/apachectl restart
  fi
<<
###
Description: High-level scripting language
DescDetail: <<
  PHP is a widely-used Open Source general-purpose scripting language that
  is especially suited for Web development and can be embedded into HTML. Its
  syntax draws upon C, Java, and Perl, and is easy to learn. PHP runs on many
  different platforms and can be used as a standalone executable or as a
  module under a variety of Web servers. It has excellent support for
  databases, XML, LDAP, IMAP, Java, various Internet protocols, and general
  data manipulation, and is extensible via its powerful API. It is actively
  developed and supported by a talented and energetic international team.
  Numerous Open Source and commercial PHP-based application packages are
  available.
<<
###
License: GPL
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
Homepage: http://www.php.net/
