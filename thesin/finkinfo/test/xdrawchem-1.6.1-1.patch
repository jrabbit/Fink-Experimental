diff -ruN xdrawchem-1.6.1.orig/xdrawchem/Makefile.in xdrawchem-1.6.1/xdrawchem/Makefile.in
--- xdrawchem-1.6.1.orig/xdrawchem/Makefile.in	2002-12-05 18:23:54.000000000 -0700
+++ xdrawchem-1.6.1/xdrawchem/Makefile.in	2002-12-06 12:17:16.000000000 -0700
@@ -88,7 +88,7 @@
 xdrawchem_LDADD = -L$(QTDIR)/lib -L/usr/X11R6/lib/qt -L/usr/lib/qt -l$(qtlibname) -L../openbabel -lopenbabel 
 EXTRA_DIST = . aa_xpm.h application.h arrow.h arrows.h atom.h bond.h bondedit.h boshcp.h bracket.h brackets.h ccw180.xpm ccw270.xpm ccw90.xpm cdxml_reader.h chemdata.h clipboard.h cml.h crings_dialog.h curvearrow.h cw180.xpm cw270.xpm cw90.xpm defs.h dpoint.h drawable.h fixeddialog.h graphdata.h graphdialog.h graphwidget.h http.h lines.h moldata.h molecule.h molecule_sssr.h molinfodialog.h na_xpm.h namer.h netaccess.h netchoosedialog.h netdialog.h pagesetupdialog.h paintable.h peptidebuilder.h prefs.h previewwidget.h render2d.h ring.h ring_xpm.h ringdialog.h rotatecursor.xpm sdg.h setofrings.h skullcursor.xpm smilesdialog.h sugar_xpm.h symbol.h symbol_xpm.h text.h xdc_toolbutton.h xml_cml.h xml_reader.h
 xdrawchem_METASOURCES =  application.moc.cpp arrow.moc.cpp bondedit.moc.cpp bond.moc.cpp bracket.moc.cpp chemdata.moc.cpp crings_dialog.moc.cpp curvearrow.moc.cpp drawable.moc.cpp fixeddialog.moc.cpp graphdialog.moc.cpp graphwidget.moc.cpp helpwindow.moc.cpp http.moc.cpp molecule.moc.cpp molinfodialog.moc.cpp netaccess.moc.cpp netchoosedialog.moc.cpp netdialog.moc.cpp pagesetupdialog.moc.cpp peptidebuilder.moc.cpp previewwidget.moc.cpp render2d.moc.cpp ringdialog.moc.cpp smilesdialog.moc.cpp symbol.moc.cpp text.moc.cpp xdc_toolbutton.moc.cpp 
-CPPFLAGS = -I/usr/X11R6/include -I$(QTDIR)/include -I/usr/X11R6/include/qt -I../openbabel -DUNIX -DRINGHOME="\"$(pkgdatadir)/\"" -DXDC_SERVER=\"herger.ibb.gatech.edu\"
+CPPFLAGS = -I/usr/X11R6/include -I$(QTDIR)/include/qt -I$(QTDIR)/include -I/usr/X11R6/include/qt -I../openbabel -DUNIX -DRINGHOME="\"$(pkgdatadir)/\"" -DXDC_SERVER=\"herger.ibb.gatech.edu\"
 CXXFLAGS = -g
 MOC = moc
 subdir = xdrawchem
diff -ruN xdrawchem-1.6.1.orig/xdrawchem/application_ob.cpp xdrawchem-1.6.1/xdrawchem/application_ob.cpp
--- xdrawchem-1.6.1.orig/xdrawchem/application_ob.cpp	2002-10-08 16:24:16.000000000 -0600
+++ xdrawchem-1.6.1/xdrawchem/application_ob.cpp	2002-12-06 23:57:27.000000000 -0700
@@ -8,7 +8,9 @@
 #include <iostream>
 #include <fstream>
 #include <string.h>
-#include <malloc.h>
+#ifndef __APPLE__ && __GNUC__
+# include <malloc.h>
+#endif
 
 #include "application.h"
 #include "chemdata.h"
diff -ruN xdrawchem-1.6.1.orig/xdrawchem/molecule_smiles.cpp xdrawchem-1.6.1/xdrawchem/molecule_smiles.cpp
--- xdrawchem-1.6.1.orig/xdrawchem/molecule_smiles.cpp	2002-12-03 14:02:02.000000000 -0700
+++ xdrawchem-1.6.1/xdrawchem/molecule_smiles.cpp	2002-12-06 23:19:09.000000000 -0700
@@ -28,11 +28,13 @@
 #include "sdg.h"
 #include "defs.h"
 
-
+#include <vector>
 #include <string>
 #include <sstream>
 #include <map>
 
+using namespace std;
+
 #include <mol.h>
 
 // CleanUp(): Invoke SDG() to clean up structure
