diff -ruN pmake-1.45.orig/Makefile.darwin pmake-1.45/Makefile.darwin
--- pmake-1.45.orig/Makefile.darwin	1969-12-31 17:00:00.000000000 -0700
+++ pmake-1.45/Makefile.darwin	2002-12-27 09:22:38.000000000 -0700
@@ -0,0 +1,41 @@
+#	$NetBSD: Makefile.boot,v 1.9 1998/05/21 17:19:46 tv Exp $
+#
+# a very simple makefile...
+#
+# You only want to use this if you aren't running NetBSD.
+#
+# modify MACHINE and MACHINE_ARCH as appropriate for your target architecture
+#
+
+.c.o:
+	${CC} ${CFLAGS} -c $< -o $@
+
+MACHINE=$(shell uname -s)
+MACHINE_ARCH=$(shell uname -p)
+CFLAGS= -O2  -g -Wall -I. -DMACHINE=\"${MACHINE}\" -DMACHINE_ARCH=\"${MACHINE_ARCH}\" -D_GNU_SOURCE 
+#-DMAKE_BOOTSTRAP
+
+LIBS=
+
+OBJ=arch.o buf.o compat.o cond.o dir.o for.o hash.o job.o main.o make.o \
+    parse.o str.o suff.o targ.o var.o util.o
+
+LIBOBJ= lst.lib/lstAppend.o lst.lib/lstAtEnd.o lst.lib/lstAtFront.o \
+	lst.lib/lstClose.o lst.lib/lstConcat.o lst.lib/lstDatum.o \
+	lst.lib/lstDeQueue.o lst.lib/lstDestroy.o lst.lib/lstDupl.o \
+	lst.lib/lstEnQueue.o lst.lib/lstFind.o lst.lib/lstFindFrom.o \
+	lst.lib/lstFirst.o lst.lib/lstForEach.o lst.lib/lstForEachFrom.o \
+	lst.lib/lstInit.o lst.lib/lstInsert.o lst.lib/lstIsAtEnd.o \
+	lst.lib/lstIsEmpty.o lst.lib/lstLast.o lst.lib/lstMember.o \
+	lst.lib/lstNext.o lst.lib/lstOpen.o lst.lib/lstRemove.o \
+	lst.lib/lstReplace.o lst.lib/lstSucc.o
+
+bmake: ${OBJ} ${LIBOBJ}
+#	@echo 'make of make and make.0 started.'
+	${CC} ${CFLAGS} ${OBJ} ${LIBOBJ} -o bmake ${LIBS}
+	@ls -l $@
+#	nroff -h -man make.1 > make.0
+#	@echo 'make of make and make.0 completed.'
+
+clean:
+	rm -f ${OBJ} ${LIBOBJ} ${PORTOBJ} bmake
diff -ruN pmake-1.45.orig/main.c pmake-1.45/main.c
--- pmake-1.45.orig/main.c	2001-09-08 08:30:01.000000000 -0600
+++ pmake-1.45/main.c	2002-12-27 09:07:50.000000000 -0700
@@ -109,6 +109,15 @@
 #include "job.h"
 #include "pathnames.h"
 
+#ifdef TARGET_MACHINE
+#undef MACHINE
+#define MACHINE TARGET_MACHINE
+#endif
+#ifdef TARGET_MACHINE_ARCH
+#undef MACHINE_ARCH
+#define MACHINE_ARCH TARGET_MACHINE_ARCH
+#endif
+
 #ifndef	DEFMAXLOCAL
 #define	DEFMAXLOCAL DEFMAXJOBS
 #endif	/* DEFMAXLOCAL */
