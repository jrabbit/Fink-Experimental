Package: blootbot
Version: 1.2.0
Revision: 1
###
Depends: libwww-pm, html-parser-pm, dbd-mysql-pm, dbi-pm, www-search-google-pm, net-irc-pm
Suggests: mysql
###
Source: http://%n.sourceforge.net/pub/%n-%v.tar.gz
Source-MD5: 5da3139579e2ae932d51f5d69a313015
SourceDirectory: %n
###
PatchScript: sed -e s,@FINKPREFIX@,%p,g %a/%f.patch | patch -p1
###
CompileScript: <<
  #!/bin/sh
  echo No Compile Script!
<<
###
InstallScript: <<
  #!/bin/sh
  # Make needed directories
  mkdir -p %i/share/blootbot/data/setup
  mkdir -p %i/share/blootbot/src/Factoids
  mkdir -p %i/share/blootbot/src/IRC
  mkdir -p %i/share/blootbot/src/Modules
  mkdir -p %i/share/blootbot/scripts
  mkdir -p %i/etc/blootbot
  mkdir -p %i/sbin
  mkdir -p %i/var/log/blootbot
  mkdir -p %i/var/run/blootbot
  mkdir -p %i/var/lib/blootbot

  # Start of instell
  install -m0640 etc/template.config files/template.{servers,chan,users} \
                 %i/share/blootbot/data
  install -m0644 files/blootbot.{help,lang,lart,randtext} files/unittab \
                 %i/share/blootbot/data
  install -m0644 setup/*.sql \
                 %i/share/blootbot/data/setup
  install -m0640 etc/directories \
                 %i/etc/blootbot
  install -m0755 blootbot \
                 %i/sbin

  # Hackery to install the actual code
  install -m0644 src/*.pl \
                 %i/share/blootbot/src
  install -m0644 src/Factoids/*.pl \
                 %i/share/blootbot/src/Factoids
  install -m0644 src/IRC/*.pl \
                 %i/share/blootbot/src/IRC
  install -m0644 src/Modules/*.pl \
                 %i/share/blootbot/src/Modules

  # and the install/config helpers...
  install -m0755 scripts/makepasswd setup/setup.pl \
                 %i/share/blootbot/scripts
  install -m0755 setup/setup.pl \
                 %i/sbin/blootbotsetup

  # and permissions on the directories...
  chmod 0700 %i/var/log/blootbot %i/etc/blootbot \
             %i/var/run/blootbot %i/var/lib/blootbot
<<
###
DocFiles: AUTHORS ChangeLog* INSTALL* LICENSE README* TODO
###
DaemonicFile: <<
<service>
 <description>BlootBot</description>
 <message>BlootBot</message>

 <daemon name="blootbot">
  <executable background="yes">%p/sbin/blootbot</executable>
  <pidfile>%p/var/run/%n.pid</pidfile>
  <parameters>--chuid blootbot</parameters>
 </daemon>

</service>
<<
###
Description: Severely modified infobot for IRC
DescDetail: <<
 This bot is based upon infobot-0.44.2 by Kevin Lenzo.  The basis of infobot
 is still there but _many_ wild features have been added. Along the way, a
 couple of typos were spotted in the original infobot source and fixed in
 this version. Without infobot, there would be no blootbot so all thanks to
 kevin for bringing infobot in the first place.
 .
 FEATURES
        * Additional information stored with factoids. (factinfo)
        * Wide range of statistics for Bot, Factoids, IRC, Debian.
          (status, factstats, ircstats, chanstats, cmdstats)
        * Advanced topic management. (the first cool feature)
        * Improved factoid search, allowing search by key or value.
        * Freshmeat support (freshmeat.net)
        * Debian Contents and Packages, search and info.
        * much more...
<<
###
License: Artistic
Maintainer: Justin F. Hallett <thesin@users.sourceforge.net>
Homepage: http://blootbot.sourceforge.net/
