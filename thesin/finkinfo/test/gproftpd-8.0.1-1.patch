diff -ruN gproftpd-8.0.1.orig/Makefile.in gproftpd-8.0.1/Makefile.in
--- gproftpd-8.0.1.orig/Makefile.in	2002-10-13 10:32:21.000000000 -0600
+++ gproftpd-8.0.1/Makefile.in	2002-10-23 23:21:08.000000000 -0600
@@ -428,21 +428,39 @@
 install-data-local:
 	@$(NORMAL_INSTALL)
 	if test -d $(srcdir)/pixmaps; then \
-	  $(mkinstalldirs) $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); \
+	  if test ! -d $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); then \
+	    $(mkinstalldirs) $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); \
+	  fi; \
 	  for pixmap in $(srcdir)/pixmaps/*; do \
 	    if test -f $$pixmap; then \
 	      $(INSTALL_DATA) $$pixmap $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); \
 	    fi \
 	  done \
 	fi
-	mv $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE)/net-gproftpd.desktop /usr/share/applications/
-	if test ! -d /etc/gproftpd; then \
-	  $(mkinstalldirs) /etc/gproftpd; \
+
+	if test ! -d $(DESTDIR)$(datadir)/gnome/apps/Internet; then \
+	  $(mkinstalldirs) $(DESTDIR)$(datadir)/gnome/apps/Internet; \
+	fi
+
+	mv $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE)/net-gproftpd.desktop $(DESTDIR)$(datadir)/gnome/apps/Internet/
+
+	if test ! -d $(DESTDIR)$(datadir)/applnk/Internet; then \
+	  $(mkinstalldirs) $(DESTDIR)$(datadir)/applnk/Internet; \
+	fi
+
+	cp $(DESTDIR)$(datadir)/gnome/apps/Internet/net-gproftpd.desktop $(DESKTOP)$(datadir)/applnk/Internet/
+
+	if test ! -d $(DESTDIR)$(sysconfdir)/gproftpd; then \
+	  $(mkinstalldirs) $(DESTDIR)$(sysconfdir)/gproftpd; \
+	fi
+
+	if test ! -d $(DESTDIR)$(datadir)/pixmaps; then \
+	  $(mkinstalldirs) $(DESTDIR)$(datadir)/pixmaps; \
 	fi
 
-	cp support/useradd-profile /etc/gproftpd
-	cp support/gproftpd.pem /etc/gproftpd
-	cp pixmaps/gproftpd.png /usr/share/pixmaps
+	cp support/useradd-profile $(DESTDIR)$(sysconfdir)/gproftpd
+	cp support/gproftpd.pem $(DESTDIR)$(sysconfdir)/gproftpd
+	cp pixmaps/gproftpd.png $(DESTDIR)$(datadir)/pixmaps
 	@echo ""
 	@echo "Start GProFTPD by typing gproftpd"
 	@echo "or start it from the menu panels internet section where i placed an application launcher."
diff -ruN gproftpd-8.0.1.orig/src/Makefile.in gproftpd-8.0.1/src/Makefile.in
--- gproftpd-8.0.1.orig/src/Makefile.in	2002-10-13 10:32:21.000000000 -0600
+++ gproftpd-8.0.1/src/Makefile.in	2002-10-24 13:12:18.000000000 -0600
@@ -139,6 +139,10 @@
 sbinPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
 install-sbinPROGRAMS: $(sbin_PROGRAMS)
 	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)/$(PACKAGE)
+	$(INSTALL_PROGRAM_ENV) $(sbinPROGRAMS_INSTALL) $(PACKAGE) $(DESTDIR)$(libdir)/$(PACKAGE)
+	rm $(PACKAGE)
+	cp $(PACKAGE).wrapper $(PACKAGE)
 	$(mkinstalldirs) $(DESTDIR)$(sbindir)
 	@list='$(sbin_PROGRAMS)'; for p in $$list; do \
 	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
diff -ruN gproftpd-8.0.1.orig/src/callbacks.c gproftpd-8.0.1/src/callbacks.c
--- gproftpd-8.0.1.orig/src/callbacks.c	2002-10-10 07:13:03.000000000 -0600
+++ gproftpd-8.0.1/src/callbacks.c	2002-10-24 12:58:23.000000000 -0600
@@ -150,10 +150,10 @@
    maximum_column = gtk_tree_view_column_new_with_attributes("Maximum simultaneous connections", cell, "text", 4, NULL);
    gtk_list_store_clear(model);
 
-   if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+   if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
    {
        // create info window and show info_buffer.
-       strcpy(info_buffer, "Cant open /etc/proftpd.conf\n");
+       strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf\n");
        strcat(info_buffer, "Run GProFTPD as root\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window); 
@@ -248,9 +248,9 @@
     GtkTextBuffer *entire_text_buffer;
     gchar *utf8=NULL;
 
-    if( (fp = fopen("/etc/proftpd.conf", "r")) == NULL )
+    if( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL )
     {
-       strcpy(info_buffer, "Cant open /etc/proftpd.conf.\n\n");
+       strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf.\n\n");
        strcat(info_buffer, "Are you running GProFTPD as root ?.\n");
        strcat(info_buffer, "im unable to update the entire configuration tab\n");
        error_window = create_error_window ();
@@ -351,9 +351,9 @@
     global_read_hard_bps = lookup_widget (GTK_WIDGET (widget), "global_read_hard_bps");
     global_write_free_bytes = lookup_widget (GTK_WIDGET (widget), "global_write_free_bytes");
     global_write_hard_bps = lookup_widget (GTK_WIDGET (widget), "global_write_hard_bps");
-    if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
-       strcpy(info_buffer, "Cant open /etc/proftpd.conf\n\n");
+       strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf\n\n");
        strcat(info_buffer, "Are you running GProFTPD as root ?.\n");
        strcat(info_buffer, "im unable to update the global configuration tab\n");
        error_window = create_error_window ();
@@ -778,9 +778,9 @@
         strcpy(out_speed_1_buffer,"");
 
         // Get incoming speed 1 
-        if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $1}' |tr -d \"\r\n\"", "r")) == NULL)
+        if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $7}' |tr -d \"\r\n\"", "r")) == NULL)
         {
-           printf("cant open /proc/net/dev");
+           printf("cant open en0");
            return( 0 );      
         }
         while (fgets(in_speed_1_buffer, 4096, speed_file)!=NULL)
@@ -788,9 +788,9 @@
         }
         pclose(speed_file);
         // Get outgoing speed 1
-        if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $9}' |tr -d \"\r\n\"", "r")) == NULL)
+        if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $10}' |tr -d \"\r\n\"", "r")) == NULL)
         {
-           printf("cant open /proc/net/dev");
+           printf("cant open en0");
            return( 0 );
         }
         while (fgets(out_speed_1_buffer, 4096, speed_file)!=NULL)
@@ -810,9 +810,9 @@
              char out_speed_2_buffer[4096]="";
        
              // Get incoming speed 2
-             if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $1}' |tr -d \"\r\n\"", "r")) == NULL)
+             if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $7}' |tr -d \"\r\n\"", "r")) == NULL)
              {
-                printf("cant open /proc/net/dev");
+                printf("cant open en0");
                 return( 0 );   
              }
              while (fgets(in_speed_2_buffer, 4096, speed_file)!=NULL)
@@ -821,9 +821,9 @@
              pclose(speed_file);
 
              // Get outgoing speed 2
-             if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $9}' |tr -d \"\r\n\"", "r")) == NULL)
+             if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $10}' |tr -d \"\r\n\"", "r")) == NULL)
              {
-             printf("cant open /proc/net/dev");
+             printf("cant open en0");
              return( 0 );      
              }
              while (fgets(out_speed_2_buffer, 4096, speed_file)!=NULL)
@@ -884,15 +884,15 @@
     gchar *utf8=NULL;            
     // Inserts the user profile when gproftpd is started 
     // ( because otherwise it wont have mapped if the user just adds a user not looking at the profile tab) 
-    if ( (fp = fopen("/etc/gproftpd/useradd-profile", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/gproftpd/useradd-profile", "r")) == NULL)
     {
-       strcpy(info_buffer, "Couldnt find /etc/gproftpd/useradd-profile\n");
+       strcpy(info_buffer, "Couldnt find @FINKPREFIX@/etc/gproftpd/useradd-profile\n");
        strcat(info_buffer, "dont add users if this happens.\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
        return;
     }
-    // Set the profile_tab_text from /etc/gproftpd/useradd-profile
+    // Set the profile_tab_text from @FINKPREFIX@/etc/gproftpd/useradd-profile
     profile_text = lookup_widget (GTK_WIDGET (widget), "profile_text");
 
     fseek(fp, 0, SEEK_END);
@@ -1027,12 +1027,12 @@
     global_read_hard_bps = lookup_widget (GTK_WIDGET (widget), "global_read_hard_bps");
     global_write_free_bytes = lookup_widget (GTK_WIDGET (widget), "global_write_free_bytes");
     global_write_hard_bps = lookup_widget (GTK_WIDGET (widget), "global_write_hard_bps");
-    if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
-       strcpy(info_buffer, "Cant open /etc/proftpd.conf\n\n");
+       strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf\n\n");
        strcat(info_buffer, "If youre running GProFTPD as root, close this window then press\n");
        strcat(info_buffer, "the entire configuration tab then press the default button\n"); 
-       strcat(info_buffer, "wich will set the default configuration to /etc/proftpd.conf\n");
+       strcat(info_buffer, "wich will set the default configuration to @FINKPREFIX@/etc/proftpd.conf\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
        return;
@@ -1501,9 +1501,9 @@
     current_change_read_hard_bps = gtk_entry_get_text(GTK_ENTRY(global_read_hard_bps));       // disqualified :)
     current_change_write_free_bytes = gtk_entry_get_text(GTK_ENTRY(global_write_free_bytes));
     current_change_write_hard_bps = gtk_entry_get_text(GTK_ENTRY(global_write_hard_bps));
-    if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
-       strcpy(info_buffer, "\nCant open /etc/proftpd.conf\n");
+       strcpy(info_buffer, "\nCant open @FINKPREFIX@/etc/proftpd.conf\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
        return;
@@ -1681,9 +1681,9 @@
     free(szBuffer);
     free(change_srv_ident);
     // Write the edited configuration to proftpd.conf
-    if ( (fp = fopen("/etc/proftpd.conf", "w+")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "w+")) == NULL)
     {
-       strcpy(info_buffer, "\nCant open /etc/proftpd.conf for writing\n");
+       strcpy(info_buffer, "\nCant open @FINKPREFIX@/etc/proftpd.conf for writing\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
        return;
@@ -1781,10 +1781,10 @@
     strcat(first_part_profile, "\nGroup ");
     strcat(first_part_profile, username_add);
     strcat(first_part_profile, "\n");
-    // checks if the user exists in /etc/proftpd.conf put result to a buffer. (its the exact username)
+    // checks if the user exists in @FINKPREFIX@/etc/proftpd.conf put result to a buffer. (its the exact username)
     user_check=(char *)malloc(4096);
     bzero(user_check, sizeof(char) * 4096);
-    strcpy(user_check, "grep -w \"User\" /etc/proftpd.conf |grep -w \"");
+    strcpy(user_check, "grep -w \"User\" @FINKPREFIX@/etc/proftpd.conf |grep -w \"");
     strcat(user_check, username_add);
     strcat(user_check, "\" |cut -f2 -d\" \"");
     fp = popen(user_check, "r");
@@ -1810,8 +1810,8 @@
     free(check_buffer);
     free(string);
     printf("\nUser does NOT exist -- Creating a profile\n");
-    // Get the second part profile from /etc/gproftpd/useradd-profile and combine
-    fp = fopen("/etc/gproftpd/useradd-profile", "r");
+    // Get the second part profile from @FINKPREFIX@/etc/gproftpd/useradd-profile and combine
+    fp = fopen("@FINKPREFIX@/etc/gproftpd/useradd-profile", "r");
     fseek(fp, 0, SEEK_END);
     size_buffer = ftell(fp);
     rewind(fp);
@@ -1823,7 +1823,7 @@
     }
     fclose (fp);
     free(second_part_profile);
-    fp = fopen("/etc/proftpd.conf", "a");
+    fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "a");
     fputs(first_part_profile, fp);
     fclose(fp);
     // make a ftp homedirectory for the user
@@ -1883,7 +1883,7 @@
     anon_path_entry = lookup_widget (GTK_WIDGET (button), "anon_path_entry");
     anon_password_entry = lookup_widget (GTK_WIDGET (button), "anon_password_entry");
     // Check if "User anonymous" already exists then return.
-    fp = fopen("/etc/proftpd.conf", "r");
+    fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r");
     fseek(fp, 0, SEEK_END);
     size_buffer = ftell(fp);
     rewind(fp);
@@ -1939,7 +1939,7 @@
     strcat(fix_dir, " ; rm -f /home/ftp/.gtkrc");
     fp = popen(fix_dir, "r");
     pclose(fp);
-    // Add the anonymous profile to /etc/proftpd.conf. 
+    // Add the anonymous profile to @FINKPREFIX@/etc/proftpd.conf. 
     strcpy(anon_profile, "\n");
     strcat(anon_profile, "<Anonymous ");
     strcat(anon_profile, anon_directory_path = gtk_entry_get_text(GTK_ENTRY(anon_path_entry)));
@@ -1954,7 +1954,7 @@
     strcat(anon_profile, "DenyAll\n");
     strcat(anon_profile, "</Limit>\n");
     strcat(anon_profile, "</Anonymous>\n");
-    fp = fopen("/etc/proftpd.conf", "a");
+    fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "a");
     fputs(anon_profile, fp);
     fclose(fp);
     // Add the directory if it doesnt exist.
@@ -1990,8 +1990,8 @@
                                         gpointer         user_data)
 {
     system("killall -9 proftpd");
-    system("rm -f /etc/shutmsg");
-    system("proftpd -c /etc/proftpd.conf");
+    system("rm -f @FINKPREFIX@/etc/shutmsg");
+    system("proftpd -c @FINKPREFIX@/etc/proftpd.conf");
 }
 
 
@@ -2036,13 +2036,13 @@
     gchar *utf8=NULL;
     int length;
     entire_config_textview = lookup_widget (GTK_WIDGET (widget), "entire_config_textview");
-    if( (fp = fopen("/etc/proftpd.conf", "r")) == NULL )
+    if( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL )
     {
-        strcpy(info_buffer, "Cant open /etc/proftpd.conf.\n\n");
+        strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf.\n\n");
         strcat(info_buffer, "If youre running GProFTPD as root\n");
         strcat(info_buffer, "press the default button.\n\n");
         strcat(info_buffer, "This will add the default configuration\n");
-        strcat(info_buffer, "overwriting /etc/proftpd.conf.\n");
+        strcat(info_buffer, "overwriting @FINKPREFIX@/etc/proftpd.conf.\n");
         error_window = create_error_window ();
         gtk_widget_show (error_window);
         return;
@@ -2088,8 +2088,8 @@
     entire_config_text_buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(entire_config_textview));
     gtk_text_buffer_get_bounds(entire_config_text_buffer, &start, &end);
     config_buffer = gtk_text_iter_get_text(&start, &end);
-    // Put the newly written entire_configuration text to /etc/proftpd.conf
-    fp = fopen("/etc/proftpd.conf", "w+");
+    // Put the newly written entire_configuration text to @FINKPREFIX@/etc/proftpd.conf
+    fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "w+");
     fputs (config_buffer, fp);
     fclose (fp);
 
@@ -2294,8 +2294,8 @@
     profile_text_buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(profile_text));
     gtk_text_buffer_get_bounds(profile_text_buffer, &start, &end);
     profile = gtk_text_iter_get_text(&start, &end);
-    // Put the newly written profile text to /etc/gproftpd/useradd-profile
-    fp = fopen("/etc/gproftpd/useradd-profile", "w+");
+    // Put the newly written profile text to @FINKPREFIX@/etc/gproftpd/useradd-profile
+    fp = fopen("@FINKPREFIX@/etc/gproftpd/useradd-profile", "w+");
     fputs (profile, fp);
     fclose (fp);
     if(profile !=NULL)
@@ -2308,7 +2308,7 @@
 on_user_control_textview_map           (GtkWidget       *widget,
                                         gpointer         user_data)
 {
-    // Ftpusers update .. if no /etc/ftpusers one is created and all existing users put there. 
+    // Ftpusers update .. if no @FINKPREFIX@/etc/ftpusers one is created and all existing users put there. 
     FILE *fp;
     FILE *cat_file;
     char *access_buffer;
@@ -2317,22 +2317,22 @@
     gchar *utf8_access=NULL;
     long size_buffer;
     user_control_textview = lookup_widget (GTK_WIDGET (widget), "user_control_textview");
-    if( (fp = fopen("/etc/ftpusers", "r")) == NULL )
+    if( (fp = fopen("@FINKPREFIX@/etc/ftpusers", "r")) == NULL )
     {
-       strcpy(info_buffer, "Couldnt find /etc/ftpusers\n");
+       strcpy(info_buffer, "Couldnt find @FINKPREFIX@/etc/ftpusers\n");
        strcat(info_buffer, "so i made that file and added\n");
        strcat(info_buffer, "all the users on the system to it.\n\n");
        strcat(info_buffer, "This in an auto security feature.\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
-       // add all system users to /etc/ftpusers
-       cat_file = popen("cat /etc/passwd |cut -f1 -d\":\" > /etc/ftpusers", "r");
+       // add all system users to @FINKPREFIX@/etc/ftpusers
+       cat_file = popen("cat @FINKPREFIX@/etc/passwd |cut -f1 -d\":\" > @FINKPREFIX@/etc/ftpusers", "r");
        pclose(cat_file);
     }
     // If the previous didnt work, inform.
-    if( (fp = fopen("/etc/ftpusers", "r")) == NULL )
+    if( (fp = fopen("@FINKPREFIX@/etc/ftpusers", "r")) == NULL )
     {
-       strcpy(info_buffer, "Couldnt find /etc/ftpusers\n");
+       strcpy(info_buffer, "Couldnt find @FINKPREFIX@/etc/ftpusers\n");
        strcat(info_buffer, "Run GProFTPD as root.\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
@@ -2367,7 +2367,7 @@
 on_access_ok_clicked                   (GtkButton       *button,
                                         gpointer         user_data)
 {
-    // Save the usercontrol tab to /etc/ftpusers
+    // Save the usercontrol tab to @FINKPREFIX@/etc/ftpusers
     FILE *fp;
     GtkTextBuffer *access_text_buffer;
     GtkTextIter start, end;
@@ -2376,14 +2376,14 @@
     access_text_buffer = gtk_text_view_get_buffer(GTK_TEXT_VIEW(user_control_textview));
     gtk_text_buffer_get_bounds(access_text_buffer, &start, &end);
     profile = gtk_text_iter_get_text(&start, &end);
-    // Put the (newly) written profile text to /etc/gproftpd/useradd-profile
-    if ( (fp = fopen("/etc/ftpusers", "w+")) == NULL)
+    // Put the (newly) written profile text to @FINKPREFIX@/etc/gproftpd/useradd-profile
+    if ( (fp = fopen("@FINKPREFIX@/etc/ftpusers", "w+")) == NULL)
     {
-       strcpy(info_buffer, "Couldnt open /etc/ftpusers for writing\n");
+       strcpy(info_buffer, "Couldnt open @FINKPREFIX@/etc/ftpusers for writing\n");
        strcat(info_buffer, "This is not good, Run GProFTPD as root\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
-       printf("\nError saving /etc/ftpusers\n");
+       printf("\nError saving @FINKPREFIX@/etc/ftpusers\n");
        return;
     }
     fputs (profile, fp);
@@ -2454,8 +2454,8 @@
     user_control_textview = lookup_widget (GTK_WIDGET (button), "user_control_textview");
     kick_ban_entry = lookup_widget (GTK_WIDGET (button), "kick_ban_entry");
     kick_ban_username = gtk_entry_get_text(GTK_ENTRY(kick_ban_entry));
-    // Put the banned user in /etc/ftpusers
-    fp = fopen("/etc/ftpusers", "a");
+    // Put the banned user in @FINKPREFIX@/etc/ftpusers
+    fp = fopen("@FINKPREFIX@/etc/ftpusers", "a");
     fputs("\n", fp);
     fputs(kick_ban_username, fp);
     fclose(fp);
@@ -2487,10 +2487,10 @@
     free(get_kick_ban_pid);
     free(kick_ban_pid);
     free(kick_ban);
-    // Update user control tab from /etc/ftpusers
-    if( (fp = fopen("/etc/ftpusers", "r")) == NULL )
+    // Update user control tab from @FINKPREFIX@/etc/ftpusers
+    if( (fp = fopen("@FINKPREFIX@/etc/ftpusers", "r")) == NULL )
     {
-       strcpy(info_buffer, "Couldnt find /etc/ftpusers\n");
+       strcpy(info_buffer, "Couldnt find @FINKPREFIX@/etc/ftpusers\n");
        strcat(info_buffer, "This is not good, run GProFTPD as root.\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
@@ -2708,7 +2708,7 @@
 on_add_default_config_button_clicked   (GtkButton       *button,
                                         gpointer         user_data)
 {
-    // Overwrite /etc/proftpd.conf with the default configuration, update the global tab, entire tab and user tab.
+    // Overwrite @FINKPREFIX@/etc/proftpd.conf with the default configuration, update the global tab, entire tab and user tab.
     FILE *fp;
     char *old_Buffer;
     char *new_Buffer;
@@ -2749,9 +2749,9 @@
     strcat(default_buffer, "</Directory>\n");
     strcat(default_buffer, "#--- End of the global configuration ---#\n");
     // Set the default configuration overwriting .. if one exists.
-    if ( (fp = fopen("/etc/proftpd.conf", "w+")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "w+")) == NULL)
     {
-        strcpy(info_buffer, "Cant open /etc/proftpd.conf for writing\n");
+        strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf for writing\n");
         strcat(info_buffer, "Run GProFTPD as root\n");
         error_window = create_error_window ();
         gtk_widget_show (error_window);
@@ -2776,7 +2776,7 @@
 on_backup_proftpd_conf_button_clicked  (GtkButton       *button,
                                         gpointer         user_data)
 {
-    system("cp /etc/proftpd.conf /etc/gproftpd"); 
+    system("cp @FINKPREFIX@/etc/proftpd.conf @FINKPREFIX@/etc/gproftpd"); 
 }
 
 
@@ -2785,7 +2785,7 @@
 on_restore_config_button_clicked       (GtkButton       *button,
                                         gpointer         user_data)
 {
-    system("cp /etc/gproftpd/proftpd.conf /etc");
+    system("cp @FINKPREFIX@/etc/gproftpd/proftpd.conf /etc");
     // Updating the userlist and the entire configuration tab.
     userlist_treeview = lookup_widget (GTK_WIDGET (button), "userlist_treeview");
     update_user_list(userlist_treeview, NULL);
@@ -2822,9 +2822,9 @@
 {
     FILE *fp;
     char *check_conf_buffer;
-    if ( (fp = popen("proftpd -t -c /etc/proftpd.conf 2>&1", "r")) == NULL)
+    if ( (fp = popen("proftpd -t -c @FINKPREFIX@/etc/proftpd.conf 2>&1", "r")) == NULL)
     {
-       strcpy(info_buffer, "Cant open /etc/proftpd.conf\n");
+       strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);       
        return;
@@ -2875,11 +2875,11 @@
    require_column = gtk_tree_view_column_new_with_attributes("Require password", cell, "text", 3, NULL);
    maximum_column = gtk_tree_view_column_new_with_attributes("Maximum simultaneous connections", cell, "text", 4, NULL);
    gtk_list_store_clear(model);
-   // Check if the line /bin/false is in /etc/shells, if its not .. add that line.
+   // Check if the line /bin/false is in @FINKPREFIX@/etc/shells, if its not .. add that line.
    // strstr doesnt work in append mode, doh !
-   if( (fp = fopen("/etc/shells", "r"))==NULL)
+   if( (fp = fopen("@FINKPREFIX@/etc/shells", "r"))==NULL)
    {
-      printf("\nCant open /etc/shells for reading\n");
+      printf("\nCant open @FINKPREFIX@/etc/shells for reading\n");
       return;
    }
    fseek(fp, 0, SEEK_END);
@@ -2898,13 +2898,13 @@
    free(shell);
    if (found==0)
    {
-     if( (fp = fopen("/etc/shells", "a"))==NULL)
+     if( (fp = fopen("@FINKPREFIX@/etc/shells", "a"))==NULL)
      {
-        printf("\nCant open /etc/shells for append/write\n");
+        printf("\nCant open @FINKPREFIX@/etc/shells for append/write\n");
      }
      fputs("/bin/false", fp);
-     printf("\nCouldnt find the line /bin/false in /etc/shells .. added it.\n");
-     strcpy(info_buffer, "Cant find the line /bin/false in /etc/shells.\n\n");
+     printf("\nCouldnt find the line /bin/false in @FINKPREFIX@/etc/shells .. added it.\n");
+     strcpy(info_buffer, "Cant find the line /bin/false in @FINKPREFIX@/etc/shells.\n\n");
      strcat(info_buffer, "If youre running GProFTPD as root\n");
      strcat(info_buffer, "that line has been added for you.\n");
      error_window = create_error_window ();
@@ -2912,10 +2912,10 @@
      fclose(fp);
   }
   // Update the userlist
-  if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+  if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
   {
      // create info window and show info_buffer.
-     strcpy(info_buffer, "Cant open /etc/proftpd.conf\n");
+     strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf\n");
      strcat(info_buffer, "Run GProFTPD as root\n");
      error_window = create_error_window ();
      gtk_widget_show (error_window);
@@ -3308,7 +3308,7 @@
     profile_require_password_entry = lookup_widget (GTK_WIDGET (widget), "profile_require_password_entry");
     profile_max_logins_entry = lookup_widget (GTK_WIDGET (widget), "profile_max_logins_entry");
 
-    if ((fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ((fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
         error_window = create_error_window ();
         gtk_widget_show (error_window);       
@@ -3474,9 +3474,9 @@
     strcat(UserUsername, username);
     strcat(UserUsername, "\n");  // Avoiding similar user deletion 
     // Get the users ENTIRE profile and make the requested changes to it
-    if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
-       strcpy(info_buffer, "\nCant open /etc/proftpd.conf\n");
+       strcpy(info_buffer, "\nCant open @FINKPREFIX@/etc/proftpd.conf\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
        return;
@@ -3533,9 +3533,9 @@
     free(old_buffer);
 
     // Delete the users profile
-    if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
-       strcpy(info_buffer, "\nCant open /etc/proftpd.conf\n");
+       strcpy(info_buffer, "\nCant open @FINKPREFIX@/etc/proftpd.conf\n");
        error_window = create_error_window ();
        gtk_widget_show (error_window);
        return;
@@ -3578,7 +3578,7 @@
     free(szUserBuffer);
 
     // Add the new config with the changed profile
-    if ( (fp = fopen("/etc/proftpd.conf", "w+")) == NULL) 
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "w+")) == NULL) 
     {
         return;
     }
@@ -3643,9 +3643,9 @@
     strcat(UserUsername, username_del = gtk_entry_get_text(GTK_ENTRY(profile_username_entry)));
     strcat(UserUsername, "\n"); // this is very important, or it will delete similar users.
     // Delete the configuration for the deleted user
-    if ( (fp = fopen("/etc/proftpd.conf", "r")) == NULL)
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "r")) == NULL)
     {
-       strcpy(info_buffer, "Cant open /etc/proftpd.conf\n");
+       strcpy(info_buffer, "Cant open @FINKPREFIX@/etc/proftpd.conf\n");
        strcat(info_buffer, "Run GProFTPD as root\n");
        free(UserUsername);
        error_window = create_error_window ();
@@ -3689,7 +3689,7 @@
     free(szLineBuffer);
     free(szUserBuffer);
     // Add the new config without the deleted profile
-    if ( (fp = fopen("/etc/proftpd.conf", "w+")) == NULL) 
+    if ( (fp = fopen("@FINKPREFIX@/etc/proftpd.conf", "w+")) == NULL) 
     {
         return;
     }
diff -ruN gproftpd-8.0.1.orig/src/gproftpd.wrapper gproftpd-8.0.1/src/gproftpd.wrapper
--- gproftpd-8.0.1.orig/src/gproftpd.wrapper	1969-12-31 17:00:00.000000000 -0700
+++ gproftpd-8.0.1/src/gproftpd.wrapper	2002-10-24 13:20:13.000000000 -0600
@@ -0,0 +1,8 @@
+#!/bin/sh
+
+#unset LANG if set (otherwise crash results on OS X).
+if [ $LANG ]; then
+    unset LANG           
+fi
+
+@FINKPREFIX@/lib/gproftpd/gproftpd
