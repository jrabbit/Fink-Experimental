diff -ruN gproftpd-8.0.1.orig/Makefile.in gproftpd-8.0.1/Makefile.in
--- gproftpd-8.0.1.orig/Makefile.in	2002-10-13 10:32:21.000000000 -0600
+++ gproftpd-8.0.1/Makefile.in	2002-10-23 23:21:08.000000000 -0600
@@ -428,21 +428,39 @@
 install-data-local:
 	@$(NORMAL_INSTALL)
 	if test -d $(srcdir)/pixmaps; then \
-	  $(mkinstalldirs) $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); \
+	  if test ! -d $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); then \
+	    $(mkinstalldirs) $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); \
+	  fi; \
 	  for pixmap in $(srcdir)/pixmaps/*; do \
 	    if test -f $$pixmap; then \
 	      $(INSTALL_DATA) $$pixmap $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE); \
 	    fi \
 	  done \
 	fi
-	mv $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE)/net-gproftpd.desktop /usr/share/applications/
-	if test ! -d /etc/gproftpd; then \
-	  $(mkinstalldirs) /etc/gproftpd; \
+
+	if test ! -d $(DESTDIR)$(datadir)/gnome/apps/Internet; then \
+	  $(mkinstalldirs) $(DESTDIR)$(datadir)/gnome/apps/Internet; \
+	fi
+
+	mv $(DESTDIR)$(datadir)/pixmaps/$(PACKAGE)/net-gproftpd.desktop $(DESTDIR)$(datadir)/gnome/apps/Internet/
+
+	if test ! -d $(DESTDIR)$(datadir)/applnk/Internet; then \
+	  $(mkinstalldirs) $(DESTDIR)$(datadir)/applnk/Internet; \
+	fi
+
+	cp $(DESTDIR)$(datadir)/gnome/apps/Internet/net-gproftpd.desktop $(DESKTOP)$(datadir)/applnk/Internet/
+
+	if test ! -d $(DESTDIR)$(sysconfdir)/gproftpd; then \
+	  $(mkinstalldirs) $(DESTDIR)$(sysconfdir)/gproftpd; \
+	fi
+
+	if test ! -d $(DESTDIR)$(datadir)/pixmaps; then \
+	  $(mkinstalldirs) $(DESTDIR)$(datadir)/pixmaps; \
 	fi
 
-	cp support/useradd-profile /etc/gproftpd
-	cp support/gproftpd.pem /etc/gproftpd
-	cp pixmaps/gproftpd.png /usr/share/pixmaps
+	cp support/useradd-profile $(DESTDIR)$(sysconfdir)/gproftpd
+	cp support/gproftpd.pem $(DESTDIR)$(sysconfdir)/gproftpd
+	cp pixmaps/gproftpd.png $(DESTDIR)$(datadir)/pixmaps
 	@echo ""
 	@echo "Start GProFTPD by typing gproftpd"
 	@echo "or start it from the menu panels internet section where i placed an application launcher."
diff -ruN gproftpd-8.0.1.orig/src/callbacks.c gproftpd-8.0.1/src/callbacks.c
--- gproftpd-8.0.1.orig/src/callbacks.c	2002-10-10 07:13:03.000000000 -0600
+++ gproftpd-8.0.1/src/callbacks.c	2002-10-23 21:43:30.000000000 -0600
@@ -778,9 +778,9 @@
         strcpy(out_speed_1_buffer,"");
 
         // Get incoming speed 1 
-        if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $1}' |tr -d \"\r\n\"", "r")) == NULL)
+        if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $7}' |tr -d \"\r\n\"", "r")) == NULL)
         {
-           printf("cant open /proc/net/dev");
+           printf("cant open en0");
            return( 0 );      
         }
         while (fgets(in_speed_1_buffer, 4096, speed_file)!=NULL)
@@ -788,9 +788,9 @@
         }
         pclose(speed_file);
         // Get outgoing speed 1
-        if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $9}' |tr -d \"\r\n\"", "r")) == NULL)
+        if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $10}' |tr -d \"\r\n\"", "r")) == NULL)
         {
-           printf("cant open /proc/net/dev");
+           printf("cant open en0");
            return( 0 );
         }
         while (fgets(out_speed_1_buffer, 4096, speed_file)!=NULL)
@@ -810,9 +810,9 @@
              char out_speed_2_buffer[4096]="";
        
              // Get incoming speed 2
-             if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $1}' |tr -d \"\r\n\"", "r")) == NULL)
+             if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $7}' |tr -d \"\r\n\"", "r")) == NULL)
              {
-                printf("cant open /proc/net/dev");
+                printf("cant open en0");
                 return( 0 );   
              }
              while (fgets(in_speed_2_buffer, 4096, speed_file)!=NULL)
@@ -821,9 +821,9 @@
              pclose(speed_file);
 
              // Get outgoing speed 2
-             if ( (speed_file = popen("cat /proc/net/dev |grep eth0 |cut -c8- |awk '{print $9}' |tr -d \"\r\n\"", "r")) == NULL)
+             if ( (speed_file = popen("netstat -i -n -b | grep en0 | head -n1 | awk '{print $10}' |tr -d \"\r\n\"", "r")) == NULL)
              {
-             printf("cant open /proc/net/dev");
+             printf("cant open en0");
              return( 0 );      
              }
              while (fgets(out_speed_2_buffer, 4096, speed_file)!=NULL)
