Package: gtkhtml3
Version: 3.6.2
#Version: 3.7.5
Revision: 1
Source-MD5: 37465fde0f1e1d7ba2284c5a4fd06fe7
#Source-MD5: 729330ab9fbf27245372d490711d3799
Source: mirror:gnome:sources/gtkhtml/3.6/gtkhtml-%v.tar.bz2
Depends: <<
	%N-shlibs (= %v-%r), 
	libsoup-ssl-shlibs (>= 2.1.11-20), 
	gail17 (>= 1.4.0-1), 
	gettext, 
	glib2 (>= 2.4.0-1), 
	gtk+2 (>= 2.4.0-1), 
	gal199-shlibs (>= 2.1.11-20), 
	libart2-shlibs (>= 2.3.16-1), 
	libgnomeui2-shlibs (>= 2.8.0-1), 
	libgnomecanvas2 (>= 2.8.0-1), 
	libiconv, 
	libxml2-shlibs (>= 2.6.1-1), 
	pango1-xft2 (>= 1.4.0-1)
<<
BuildDepends: atk1 (>= 1.10.1-2), audiofile, esound, gail17-dev (>= 1.8.4-1), gconf2-dev (>= 2.10.1-1), glib2-dev (>= 2.6.5-103), gnome-keyring-dev (>= 0.4.3-4), gnome-vfs2-ssl-dev (>= 2.10.1-5) | gnome-vfs2-dev (>= 2.10.1-5), gtk+2-dev (>= 2.6.8-1), libart2-dev (>= 2.3.17-2), libbonobo2-dev (>= 2.10.0-1), libbonoboui2-dev (>= 2.10.0-1), libgettext3-dev, libglade2 (>= 2.5.1-3), libgnome2-dev (>= 2.10.1-2), libgnomecanvas2-dev (>= 2.10.2-1), libgnomeprint2.2-dev (>= 2.10.3-2), libgnomeprintui2.2-dev (>= 2.10.2-1), libgnomeui2-dev (>= 2.10.1-1), libiconv-dev, libjpeg, libsoup-ssl (>= 2.2.3-1), libxml2, orbit2-dev (>= 2.12.2-2), pango1-xft2-dev (>= 1.8.1-3), popt, pkgconfig, gettext-tools
Patch: %n.patch
PatchScript: <<
# The following 2 lead otherwise to "implicit declaration" warnings:
  perl -pi.bak -e 's,htmltablecell.h",$&\n\#include "htmlengine-edit-text.h",' components/html-editor/popup.c
  perl -pi.bak -e 's,#include <gdk/gdkrgb.h>,\#undef GDK_DISABLE_DEPRECATED\n$&,' components/html-editor/gi-colors.c
<<
SetCPPFLAGS: -no-cpp-precomp
SetCFLAGS: -O3 -funroll-loops -fstrict-aliasing -flat_namespace -undefined suppress
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
CompileScript: perl -pi.bak -e 's,need_relink=yes,need_relink=no,g' ltmain.sh; ./configure %c --libexecdir=%p/lib/%n ; make
SplitOff: <<
  Package: %N-shlibs
  Depends: atk1-shlibs (>= 1.8.0-1), audiofile-shlibs, esound-shlibs, gail17-shlibs, gconf2-shlibs, glib2-shlibs (>= 2.4.0-1), gnome-keyring-shlibs, gnome-vfs2-ssl-shlibs | gnome-vfs2-shlibs, gtk+2-shlibs (>= 2.4.0-1), libart2-shlibs (>= 2.3.16-1), libbonobo2-shlibs, libbonoboui2-shlibs, libgettext3-shlibs, libglade2-shlibs, libgnome2-shlibs, libgnomecanvas2-shlibs (>= 2.8.0-1), libgnomeprint2.2-shlibs, libgnomeprintui2.2-shlibs, libgnomeui2-shlibs (>= 2.8.0-1), libiconv, libjpeg-shlibs, libxml2-shlibs, orbit2-shlibs, pango1-xft2-shlibs (>= 1.4.0-1), popt-shlibs, x11-shlibs
  Files: lib/libgtkhtml*.dylib lib/gtkhtml/lib*.so
  Shlibs: <<
    %p/lib/libgtkhtml-3.1.11.0.0.dylib 3.0.0 %n (>= 3.0.9-1)
    %p/lib/libgtkhtml-a11y-3.0.2.1.2.dylib 3.0.0 %n (>= 3.0.9-1)
  <<
  DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs
  Files: include lib/*.* lib/gtkhtml lib/pkgconfig
  DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
<<
 
DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
Description: HTML rendering/printing/editing engine
License: GPL/LGPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
Homepage: http://www.gnome.org/
