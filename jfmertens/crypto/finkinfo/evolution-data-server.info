Package: evolution-data-server
Version: 1.3.6
Revision: 1
Source-MD5: 3fe8e7086825c5c707a72b30217096d7
Source: mirror:gnome:sources/%n/1.3/%n-%v.tar.bz2
Depends: %N-shlibs (>= %v-%r), audiofile-shlibs, esound-shlibs, gconf2-shlibs, glib2-shlibs, gnome-vfs2-ssl-shlibs | gnome-vfs2-shlibs, gnutls-shlibs, libbonobo2-shlibs, libgcrypt-shlibs, libgettext3-shlibs, libgnome2-shlibs, libgpg-error-shlibs, libhowl-shlibs, libiconv, libsoup2.2.8-ssl-shlibs, libtasn1-shlibs, libxml2-shlibs, mozilla-shlibs, orbit2-shlibs, popt-shlibs, pth2-shlibs
#Depends: <<
#	%N-shlibs (>= %v-%r),
#	audiofile-shlibs (>= 0.2.3-1), 
#	esound-shlibs, esound (>= 0.2.28-1), 
#	gal2.4.0,
#	gconf2-shlibs, gconf2 (>= 2.4.0.1-1), 
#	libgettext3-shlibs, 
#	glib2-shlibs, glib2 (>= 2.2.3-1), 
#	gnome-spell ( >= 1.0.5-1), 
#	gnome-vfs2-ssl-shlibs | gnome-vfs2-shlibs, gnome-vfs2-ssl (>= 2.4.0-1) | gnome-vfs2 (>= 2.4.0-1), 
#	gtk+2 (>= 2.2.4-1), 
#	gtkhtml3 ( >= 3.2.0-1), 
#	libart2-shlibs (>= 2.3.16-1), 
#	libbonobo2-shlibs, libbonobo2 (>= 2.4.0-1), 
#	libbonoboui2 (>= 2.4.0-1), 
#	libglade2-shlibs (>= 2.0.1-3), 
#	libgnomeprintui2.2-shlibs (>= 2.4.0-1), 
#	libgnomeprint2.2-shlibs (>= 2.4.0-2), 
#	libgnome2-shlibs, libgnome2 (>= 2.4.0-1), 
#	libgnomecanvas2 (>= 2.4.0-1), 
#	libgnomeui2 (>= 2.4.0.1-1), 
#	libiconv, 
#	libsoup2.2.8-ssl-shlibs, 
#	libxml2-shlibs (>= 2.6.1-1), 
#	orbit2-shlibs, orbit2 (>= 2.8.1-1), 
#	pango1-xft2 (>= 1.2.5-1), 
#	popt-shlibs, popt, 
#	mozilla-shlibs, mozilla, 
#	gail17-shlibs,
#	libhowl-shlibs
#<<
BuildDepends: db31, audiofile, esound, gconf2-dev, glib2-dev, gnome-vfs2-ssl-dev | gnome-vfs2-dev, gnutls, libbonobo2-dev, libgcrypt, libgettext3-dev, libgnome2-dev, libgpg-error, libhowl-dev, libiconv-dev, libsoup2.2.8-ssl, libtasn1, libxml2, mozilla-dev, orbit2-dev, popt, pth2-dev, gettext-tools, scrollkeeper, pkgconfig, intltool
#BuildDepends: <<
#	glib2-dev (>= 2.2.3-1), 
#	atk1 (>= 1.8.0-1), 
#	pango1-xft2-dev (>= 1.2.5-1), 
#	gtkhtml3-dev ( >= 3.2.0-1), 
#	gtk+2-dev (>= 2.2.4-1), 
#	libgnomecanvas2-dev (>= 2.4.0-1), 
#	orbit2-dev (>= 2.8.1-1), 
#	gal2.4.0-dev, 
#	gconf2-dev (>= 2.4.0.1-1), 
#	gnome-spell-dev ( >= 1.0.5-1), 
#	gnome-vfs2-dev (>= 2.4.0-1) | gnome-vfs2-ssl-dev (>= 2.4.0-1), 
#	libsoup2.2.8-ssl, 
#	libxml2 (>= 2.6.1-1), 
#	libbonobo2-dev (>= 2.4.0-1), 
#	libglade2 (>= 2.0.1-3), 
#	libgnomeprintui2.2-dev (>= 2.4.0-1), 
#	libgnomeprint2.2-dev (>= 2.4.0-2), 
#	libgnome2-dev (>= 2.4.0-1), 
#	libbonoboui2-dev (>= 2.4.0-1), 
#	libgnomeui2-dev (>= 2.4.0.1-1), 
#	db31 (>= 3.1.17-9), 
#	libjpeg, 
#	pkgconfig, 
#	intltool, 
#	popt, 
#	gnutls, libgcrypt, libgpg-error, libhowl, libhowl-dev, libtasn1, pth2-dev,
#	mozilla, 
#	gail17-dev, 
#	libgettext3-dev, 
#	gettext-tools, 
#	libiconv-dev, 
#	libart2 (>= 2.3.16-1), 
#	esound (>= 0.2.28-1), 
#	scrollkeeper (>= 0.3.12-2)
#<<
SetCPPFLAGS: -no-cpp-precomp
#SetCFLAGS: -flat_namespace -undefined suppress
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
Patch: %n.patch
PatchScript: <<
#  perl -pi.bak -e 's, \# MUTEX_UNSET ,,' libdb/dbinc/mutex.h
  sed -i.bak -e '/^\#ifdef NEED_ADDRINFO/,/^\#endif/d' camel/camel-net-utils.h
  perl -pi.bak -e 's,option\-menu\.h\",$&\n#include <sys/types.h>,; s,uint,u_int,' libedataserverui/e-source-option-menu.c
## To avoid "implicit declararation" warnings :
 perl -pi.bak -e 's,errno.h>,$&\n\#include <stdlib.h>\n\#include <string.h>,' camel/camel-net-utils.c
 perl -pi.bak -e 's,e-weather-source-ccf.h",$&\n\#include <string.h>,' calendar/backends/weather/e-weather-source.c
# adding the prefix libbonobo-2.0 because -I/sw/include comes before -I/sw/include/libbonobo-2.0 on the command line
 perl -pi.bak -e 's,gtk/gtk.h>,$&\n\#include <libbonobo-2.0/bonobo/bonobo-main.h>,' libedataserverui/test-contact-store.c
<<
SplitOff: <<
  Package: %N-shlibs
  Depends: audiofile-shlibs, esound-shlibs, gconf2-shlibs, glib2-shlibs, gnome-vfs2-ssl-shlibs | gnome-vfs2-shlibs, gnutls-shlibs, libbonobo2-shlibs, libgcrypt-shlibs, libgettext3-shlibs, libgnome2-shlibs, libgpg-error-shlibs, libhowl-shlibs, libiconv, libsoup2.2.8-ssl-shlibs, libtasn1-shlibs, libxml2-shlibs, mozilla-shlibs, orbit2-shlibs, popt-shlibs, pth2-shlibs
#  Depends: <<
#	audiofile-shlibs (>= 0.2.3-1), 
#	esound (>= 0.2.28-1), 
#	gal2.4.0, 
#	gconf2 (>= 2.4.0.1-1), 
#	libgettext3-shlibs,
#	glib2 (>= 2.2.3-1), 
#	gnome-spell ( >= 1.0.5-1), 
#	gnome-vfs2 (>= 2.4.0-1) | gnome-vfs2-ssl (>= 2.4.0-1), 
#	gtk+2 (>= 2.2.4-1), 
#	gtkhtml3 ( >= 3.2.0-1), 
#	libart2-shlibs (>= 2.3.16-1), 
#	libbonobo2 (>= 2.4.0-1), 
#	libbonoboui2 (>= 2.4.0-1), 
#	libglade2-shlibs (>= 2.0.1-3), 
#	libgnomeprintui2.2-shlibs (>= 2.4.0-1),
#	libgnomeprint2.2-shlibs (>= 2.4.0-2), 
#	libgnome2 (>= 2.4.0-1), 
#	libgnomecanvas2 (>= 2.4.0-1), 
#	libgnomeui2 (>= 2.4.0.1-1), 
#	libiconv, 
#	libsoup2.2.8-ssl-shlibs, 
#	libxml2-shlibs (>= 2.6.1-1), 
#	orbit2 (>= 2.8.1-1), 
#	pango1-xft2 (>= 1.2.5-1), 
#	popt, 
#	mozilla, 
#	gail17-shlibs
#  <<
  Files: lib/libe*-1.2.*.dylib lib/libca*-1.2.*.dylib
  Shlibs: <<
    %p/lib/libcamel-1.2.0.dylib 1.0.0 %n (>= 1.3.6-1)
    %p/lib/libcamel-provider-1.2.6.dylib 7.0.0 %n (>= 1.3.6-1)
    %p/lib/libebook-1.2.3.dylib 5.0.0 %n (>= 1.3.6-1)
    %p/lib/libecal-1.2.3.dylib 5.0.0 %n (>= 1.3.6-1)
    %p/lib/libedata-book-1.2.2.dylib 4.0.0 %n (>= 1.3.6-1)
    %p/lib/libedata-cal-1.2.1.dylib 4.0.0 %n (>= 1.3.6-1)
    %p/lib/libedataserver-1.2.4.dylib 5.0.0 %n (>= 1.3.6-1)
    %p/lib/libedataserverui-1.2.4.dylib 6.0.0 %n (>= 1.3.6-1)
    %p/lib/libegroupwise-1.2.8.dylib 9.0.0 %n (>= 1.3.6-1)
  <<
  DocFiles: AUTHORS COPYING NEWS README
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs
  Files: include lib/*.dylib lib/*.la lib/pkgconfig lib/evolution-data-server-1.2/camel-providers/*.la lib/evolution-data-server-1.2/extensions/*.la
  DocFiles: AUTHORS COPYING* ChangeLog NEWS README TODO
<<
DocFiles: AUTHORS COPYING NEWS README
Description: Evolution Data Server
Homepage: http://gnome.org/projects/evolution/
License: GPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>
