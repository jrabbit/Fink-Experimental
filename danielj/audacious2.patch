diff -ru audacious-2.1.orig/src/libaudtag/Makefile audacious-2.1/src/libaudtag/Makefile
--- audacious-2.1.orig/src/libaudtag/Makefile	2009-07-06 18:39:12.000000000 -0400
+++ audacious-2.1/src/libaudtag/Makefile	2009-07-12 10:39:56.000000000 -0400
@@ -17,8 +17,8 @@
 include ../../buildsys.mk
 include ../../extra.mk
 
-CPPFLAGS = ${LIB_CPPFLAGS} ${CFLAGS} -D_AUDACIOUS_CORE -I.. -I../..
+CPPFLAGS += ${LIB_CPPFLAGS} ${CFLAGS} -D_AUDACIOUS_CORE -I.. -I../..
 CFLAGS += ${LIB_CFLAGS}		\
 	  ${GLIB_CFLAGS}	\
 	  ${MOWGLI_CFLAGS}
-LIBS += ${GLIB_LIBS}	
+LIBS += ${GLIB_LIBS}	${MOWGLI_LIBS} -L../libaudcore -laudcore
diff -ru audacious-2.1.orig/src/libid3tag/Makefile audacious-2.1/src/libid3tag/Makefile
--- audacious-2.1.orig/src/libid3tag/Makefile	2009-07-06 18:39:12.000000000 -0400
+++ audacious-2.1/src/libid3tag/Makefile	2009-07-12 10:38:54.000000000 -0400
@@ -31,4 +31,4 @@
 	${MOWGLI_CFLAGS} ${LIBMCS_CFLAGS}
 
 CFLAGS += ${LIB_CFLAGS}
-LIBS += -lz
+LIBS += -lz ${GLIB_LIBS}
diff -ru audacious-2.1.orig/src/libid3tag/file.c audacious-2.1/src/libid3tag/file.c
--- audacious-2.1.orig/src/libid3tag/file.c	2009-07-06 18:39:12.000000000 -0400
+++ audacious-2.1/src/libid3tag/file.c	2009-07-12 10:39:16.000000000 -0400
@@ -47,6 +47,7 @@
 
 #ifdef AUDACIOUS
   #include <audacious/plugin.h>
+  struct _AudaciousFuncTableV1 *_audvt = NULL;
 #else
   #define VFSFile FILE
   #define aud_vfs_fopen fopen
