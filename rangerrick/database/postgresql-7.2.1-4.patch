diff -uNbr postgresql-7.2.1/src/Makefile.global.in postgresql-7.2.1-new/src/Makefile.global.in
--- postgresql-7.2.1/src/Makefile.global.in	Thu Dec 20 16:23:05 2001
+++ postgresql-7.2.1-new/src/Makefile.global.in	Mon Jul 22 20:39:19 2002
@@ -94,6 +94,7 @@
 override pkgincludedir := $(pkgincludedir)/postgresql
 endif
 endif
+includedir = $(pkgincludedir)
 includedir_server = $(pkgincludedir)/server
 includedir_internal = $(pkgincludedir)/internal
 
diff -uNbr postgresql-7.2.1/src/Makefile.shlib postgresql-7.2.1-new/src/Makefile.shlib
--- postgresql-7.2.1/src/Makefile.shlib	Sun Nov 11 14:20:53 2001
+++ postgresql-7.2.1-new/src/Makefile.shlib	Mon Jul 22 20:39:19 2002
@@ -112,8 +112,9 @@
 endif
 
 ifeq ($(PORTNAME), darwin)
-  shlib			:= lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION).$(SO_MINOR_VERSION)
+  shlib			:= lib$(NAME).$(SO_MAJOR_VERSION).$(SO_MINOR_VERSION)$(DLSUFFIX)
   LINK.shared		= $(COMPILER) $(DARWIN_NAMESPACE_SPEC) -bundle -undefined suppress
+  SHLIB_LINK		:= -L$(libpq_builddir) $(SHLIB_LINK)
 endif
 
 ifeq ($(PORTNAME), openbsd)
@@ -305,9 +306,9 @@
 $(shlib): $(OBJS)
 	$(LINK.shared) $(OBJS) $(SHLIB_LINK) -o $@
 # If we're using major and minor versions, then make a symlink to major-version-only.
-ifneq ($(shlib), lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION))
-	rm -f lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION)
-	$(LN_S) $(shlib) lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION)
+ifneq ($(shlib), lib$(NAME).$(SO_MAJOR_VERSION)$(DLSUFFIX))
+	rm -f lib$(NAME).$(SO_MAJOR_VERSION)$(DLSUFFIX)
+	$(LN_S) $(shlib) lib$(NAME).$(SO_MAJOR_VERSION)$(DLSUFFIX)
 endif
 # Make sure we have a link to a name without any version numbers
 ifneq ($(shlib), lib$(NAME)$(DLSUFFIX))
@@ -363,10 +364,10 @@
 install-lib-shared: $(shlib)
 	$(INSTALL_SHLIB) $< $(DESTDIR)$(libdir)/$(shlib)
 ifneq ($(PORTNAME), win)
-ifneq ($(shlib), lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION))
+ifneq ($(shlib), lib$(NAME).$(SO_MAJOR_VERSION)$(DLSUFFIX))
 	cd $(DESTDIR)$(libdir) && \
-	rm -f lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION) && \
-	$(LN_S) $(shlib) lib$(NAME)$(DLSUFFIX).$(SO_MAJOR_VERSION)
+	rm -f lib$(NAME).$(SO_MAJOR_VERSION)$(DLSUFFIX) && \
+	$(LN_S) $(shlib) lib$(NAME).$(SO_MAJOR_VERSION)$(DLSUFFIX)
 endif
 ifneq ($(shlib), lib$(NAME)$(DLSUFFIX))
 	cd $(DESTDIR)$(libdir) && \
diff -uNbr postgresql-7.2.1/src/backend/utils/misc/guc.c postgresql-7.2.1-new/src/backend/utils/misc/guc.c
--- postgresql-7.2.1/src/backend/utils/misc/guc.c	Tue Oct 30 00:38:56 2001
+++ postgresql-7.2.1-new/src/backend/utils/misc/guc.c	Mon Jul 22 20:39:19 2002
@@ -576,12 +576,12 @@
 
 	{
 		"unix_socket_group", PGC_POSTMASTER, &Unix_socket_group,
-		"", NULL, NULL
+		"pgsql", NULL, NULL
 	},
 
 	{
 		"unix_socket_directory", PGC_POSTMASTER, &UnixSocketDir,
-		"", NULL, NULL
+		"/tmp", NULL, NULL
 	},
 
 	{
diff -uNbr postgresql-7.2.1/src/backend/utils/misc/postgresql.conf.sample postgresql-7.2.1-new/src/backend/utils/misc/postgresql.conf.sample
--- postgresql-7.2.1/src/backend/utils/misc/postgresql.conf.sample	Fri Jan  4 00:50:25 2002
+++ postgresql-7.2.1-new/src/backend/utils/misc/postgresql.conf.sample	Mon Jul 22 20:39:19 2002
@@ -23,17 +23,17 @@
 #
 #	Connection Parameters
 #
-#tcpip_socket = false
-#ssl = false
+tcpip_socket = true
+ssl = false
 
-#max_connections = 32
+max_connections = 32
 
 #port = 5432 
 #hostname_lookup = false
 #show_source_port = false
 
-#unix_socket_directory = ''
-#unix_socket_group = ''
+unix_socket_directory = '/tmp'
+unix_socket_group = 'pgsql'
 #unix_socket_permissions = 0777
 
 #virtual_host = ''
diff -uNbr postgresql-7.2.1/src/bin/pg_ctl/pg_ctl.sh postgresql-7.2.1-new/src/bin/pg_ctl/pg_ctl.sh
--- postgresql-7.2.1/src/bin/pg_ctl/pg_ctl.sh	Fri Sep 28 23:09:32 2001
+++ postgresql-7.2.1-new/src/bin/pg_ctl/pg_ctl.sh	Mon Jul 22 20:39:19 2002
@@ -14,6 +14,10 @@
 
 CMDNAME=`basename $0`
 
+ulimit -d 24000
+ulimit -n 512
+ulimit -s 4096
+
 help="\
 $CMDNAME is a utility to start, stop, restart, reload configuration files,
 or report the status of a PostgreSQL server.
diff -uNbr postgresql-7.2.1/src/interfaces/ecpg/lib/Makefile postgresql-7.2.1-new/src/interfaces/ecpg/lib/Makefile
--- postgresql-7.2.1/src/interfaces/ecpg/lib/Makefile	Tue Jan  8 15:41:26 2002
+++ postgresql-7.2.1-new/src/interfaces/ecpg/lib/Makefile	Mon Jul 22 20:39:19 2002
@@ -17,7 +17,7 @@
 SO_MINOR_VERSION= 3.0
 
 override CPPFLAGS := -I$(top_srcdir)/src/interfaces/ecpg/include -I$(libpq_srcdir) $(CPPFLAGS)
-
+override LDFLAGS := -L$(libpq_builddir) $(LDFLAGS)
 
 OBJS= execute.o typename.o descriptor.o data.o error.o prepare.o memory.o \
 	connect.o misc.o
diff -uNbr postgresql-7.2.1/src/interfaces/libpgeasy/Makefile postgresql-7.2.1-new/src/interfaces/libpgeasy/Makefile
--- postgresql-7.2.1/src/interfaces/libpgeasy/Makefile	Thu May 10 21:46:33 2001
+++ postgresql-7.2.1-new/src/interfaces/libpgeasy/Makefile	Mon Jul 22 20:39:19 2002
@@ -17,6 +17,7 @@
 SO_MINOR_VERSION= 2
 
 override CPPFLAGS := -I$(libpq_srcdir) $(CPPFLAGS)
+override LDFLAGS := -L$(libpq_builddir) $(LDFLAGS)
 
 OBJS= libpgeasy.o halt.o
 
diff -uNbr postgresql-7.2.1/src/interfaces/libpgtcl/Makefile postgresql-7.2.1-new/src/interfaces/libpgtcl/Makefile
--- postgresql-7.2.1/src/interfaces/libpgtcl/Makefile	Thu May 10 21:46:33 2001
+++ postgresql-7.2.1-new/src/interfaces/libpgtcl/Makefile	Mon Jul 22 20:39:19 2002
@@ -17,6 +17,7 @@
 SO_MINOR_VERSION= 2
 
 override CPPFLAGS := -I$(libpq_srcdir) $(CPPFLAGS)
+override LDFLAGS := -L$(libpq_builddir) $(LDFLAGS)
 
 OBJS= pgtcl.o pgtclCmds.o pgtclId.o
 
diff -uNbr postgresql-7.2.1/src/interfaces/libpq++/Makefile postgresql-7.2.1-new/src/interfaces/libpq++/Makefile
--- postgresql-7.2.1/src/interfaces/libpq++/Makefile	Tue May 22 07:24:28 2001
+++ postgresql-7.2.1-new/src/interfaces/libpq++/Makefile	Mon Jul 22 22:09:07 2002
@@ -17,6 +17,7 @@
 SO_MINOR_VERSION= 0
 
 override CPPFLAGS := -I$(libpq_srcdir) $(CPPFLAGS)
+override LDFLAGS := -L$(libpq_builddir) $(LDFLAGS)
 
 OBJS = pgconnection.o pgdatabase.o pgtransdb.o pgcursordb.o pglobject.o 
 
diff -uNbr postgresql-7.2.1/src/interfaces/perl5/GNUmakefile postgresql-7.2.1-new/src/interfaces/perl5/GNUmakefile
--- postgresql-7.2.1/src/interfaces/perl5/GNUmakefile	Sun Aug 26 18:28:04 2001
+++ postgresql-7.2.1-new/src/interfaces/perl5/GNUmakefile	Mon Jul 22 20:39:19 2002
@@ -12,14 +12,9 @@
 
 .NOTPARALLEL:
 
-# This would allow a non-root install of the Perl module, but it's not
-# quite implemented yet.
-ifeq ($(mysterious_feature),yes)
-perl_installsitearch	= $(pkglibdir)
-perl_installsitelib	= $(pkglibdir)
-perl_installman3dir	= $(mandir)/man3
-endif
-
+perl_installsitearch	= $(prefix)/lib/perl5/darwin
+perl_installsitelib	= $(prefix)/lib/perl5
+perl_installman3dir	= $(prefix)/share/man/man3
 
 all: Makefile libpq-all
 	$(MAKE) -f $< all VPATH=$(VPATH)
diff -uNbr postgresql-7.2.1/src/interfaces/python/GNUmakefile postgresql-7.2.1-new/src/interfaces/python/GNUmakefile
--- postgresql-7.2.1/src/interfaces/python/GNUmakefile	Thu Dec 13 13:39:04 2001
+++ postgresql-7.2.1-new/src/interfaces/python/GNUmakefile	Mon Jul 22 20:39:20 2002
@@ -18,6 +18,7 @@
 include $(top_srcdir)/src/Makefile.shlib
 
 override CPPFLAGS := -I$(libpq_srcdir) $(CPPFLAGS) $(python_includespec)
+override SHLIB_LINK := -L$(libpq_builddir) $(SHLIB_LINK)
 
 all: all-lib
 
diff -uNbr postgresql-7.2.1/src/pl/plpython/Makefile postgresql-7.2.1-new/src/pl/plpython/Makefile
--- postgresql-7.2.1/src/pl/plpython/Makefile	Sun Sep 16 12:11:11 2001
+++ postgresql-7.2.1-new/src/pl/plpython/Makefile	Mon Jul 22 20:39:20 2002
@@ -8,7 +8,7 @@
 # On some platforms we can only build PL/Python if libpython is a
 # shared library.  Since there is no official way to determine this,
 # we see if there is a file that is named like a shared library.
-ifneq (,$(wildcard $(python_configdir)/libpython*$(DLSUFFIX)*))
+ifneq (,$(wildcard $(python_configdir)/libpython*.dylib*))
 shared_libpython = yes
 endif
 
