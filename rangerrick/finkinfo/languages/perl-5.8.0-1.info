Package: perl
Version: 5.8.0
Revision: 1
License: Artistic
Description: The Perl programming language.
DescDetail: <<
Perl is a high-level programming language with roots in C, sed, awk
and shell scripting.  Perl is good at handling processes and files,
and is especially good at handling text.  Perl's hallmarks are
practicality and efficiency.  While it is used to do a lot of
different things, Perl's most common applications are system
administration utilities and web programming.  A large proportion of
the CGI scripts on the web are written in Perl.

This is the latest stable version of Perl.  This differs from the
Apple OS X 10.1 distribution of Perl 5.6.0 (and supporting fink
libraries) in that it retains the perl version subdirectories in the
lib tree.  Without these, upgrading or downgrading Perl breaks all of
the binary modules.
<<
DescPackage: <<
This is a modification to Chris Dolan's perl package by Ben Reed.
It's not official, please don't take it as such.  =)
<<
DescPort: <<
The DB_File interface is disabled because the MacOSX version of libdb
is not compatible with Perl.

This package does not alter /usr/bin/perl.  To make this perl the
default, run:
  sudo /bin/cp /sw/bin/perl5.8.0 /usr/bin/perl
after installation.
<<
DescUsage: <<
Most perl scripts start with #!/usr/bin/perl which will invoke Apple's
perl5.6.0.  To use this version of perl instead, you should overwrite
/usr/bin/perl via:
  sudo /bin/cp /sw/bin/perl5.8.0 /usr/bin/perl
To revert to Apple's perl:
  sudo /bin/cp /usr/bin/perl5.6.0 /usr/bin/perl
<<
Source: mirror:cpan:authors/id/JHI/perl-%v.tar.gz
CompileScript: <<
#!/bin/sh
 sh Configure -des \
	-Dinstallprefix=%i -Dccflags=-I%p/include \
	-Dperladmin=none -Ui_db -Uinstallusrbinperl -Dman3ext=3pm \
	-Dman1dir=%p/share/man/man1 -Dsiteman1=%p/share/man/man1 -Dvendorman1=%p/share/man/man1 \
	-Dman3dir=%p/share/man/man3 -Dsiteman3=%p/share/man/man3 -Dvendorman3=%p/share/man/man3 \
	-Dsiteprefix=%p -Dsitelib=%p/lib/perl/5.8/site_perl -Dsitearch=%p/lib/perl/5.8/site_perl/darwin \
	-Dvendorprefix=%p -Dvendorlib=%p/lib/perl/5.8/vendor_perl -Dvendorarch=%p/lib/perl/5.8/vendor_perl/darwin \
	-Dprefix=%p -Dprivlib=%p/lib/perl/5.8 -Darchlib=%p/lib/perl/5.8/darwin \
	-Dldflags='-L%p/lib -multiply_defined suppress' \
	-Dlddlflags='-flat_namespace -bundle -undefined suppress'
 make
 make test
<<
DocFiles: README Copying

# After install, fix the Config.pm script to remove
# "src/root-perl-5.8.0" from the install paths
InstallScript: <<
 make install
 /usr/bin/perl5.6.0 -pi -e's#%p/src/root[^/]+## if/^install/' %i/lib/perl/5.8/darwin/Config.pm
<<
Homepage: http://www.cpan.org/
Maintainer: Chris Dolan <chris@clotho.com>
