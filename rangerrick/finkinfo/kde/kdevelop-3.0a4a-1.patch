
? parts/cppsupport/Makefile.am.static
--- lib/qextmdi/src/Makefile.am	21 Apr 2003 23:05:44 -0000	1.1.1.2
+++ lib/qextmdi/src/Makefile.am	21 Apr 2003 23:26:31 -0000	1.9
@@ -4,7 +4,7 @@
 
 lib_LTLIBRARIES = libkdevelopqextmdi.la
 libkdevelopqextmdi_la_LDFLAGS = $(all_libraries) -version-info 3:0
-libkdevelopqextmdi_la_LIBADD  = $(LIB_KPARTS)
+libkdevelopqextmdi_la_LIBADD  = $(LIB_KPARTS) $(LIB_QT) $(LIB_KDEUI)
 
 libkdevelopqextmdi_la_SOURCES = qextmdichildarea.cpp qextmdichildfrm.cpp qextmdichildfrmcaption.cpp qextmdichildview.cpp qextmdimainfrm.cpp qextmditaskbar.cpp
 
--- parts/Makefile.am	21 Apr 2003 23:05:52 -0000	1.1.1.3
+++ parts/Makefile.am	25 Apr 2003 13:25:35 -0000	1.10
@@ -13,6 +13,6 @@
 	  debugger distpart konsole astyle tools ctags regexptest doxygen \
 	  manager fileselector visualboyadvance tipofday abbrev filter \
 	  uimode editor-chooser openwith history filecreate \
-          texttools javasupport javadebugger valgrind replace rubysupport\
+          texttools valgrind replace rubysupport\
           $(QEDITOR_SUBDIR) $(SVN_SUBDIR) $(SCRIPTING_SUBDIR)
 
--- parts/cppsupport/Makefile.am	21 Apr 2003 23:06:22 -0000	1.1.1.4
+++ parts/cppsupport/Makefile.am	28 Apr 2003 01:05:58 -0000	1.6
@@ -5,13 +5,18 @@
 INCLUDES = -I$(top_srcdir)/lib/interfaces -I$(top_srcdir)/lib/sourceinfo -I$(top_srcdir)/lib/util $(all_includes)
 
 kde_module_LTLIBRARIES = libkdevcppsupport.la
-libkdevcppsupport_la_LDFLAGS = $(LEXLIB) $(all_libraries) $(KDE_PLUGIN)
-libkdevcppsupport_la_LIBADD = $(top_builddir)/lib/libkdevelop.la
+lib_LTLIBRARIES = libkdevcppsupport_shared.la
 
-libkdevcppsupport_la_SOURCES = cppsupportpart.cpp ccconfigwidget.cpp ccconfigwidgetbase.ui cppnewclassdlgbase.ui cppnewclassdlg.cpp cppcodecompletion.cpp simpleparser.cpp kdevregexp.cpp problemreporter.cpp driver.cpp errors.cpp lexer.cpp parser.cpp ast.cpp configproblemreporter.ui backgroundparser.cpp implementmethodsdialog.ui implementmethodsdialog.ui.h cppsupport_events.h ast_utils.h ast_utils.cpp tree_parser.h tree_parser.cpp store_walker.h store_walker.cpp parser.h realtime_classbrowser.h realtime_classbrowser.cpp subclassingdlg.cpp subclassingdlgbase.ui lookup.h lookup.cpp keywords.lut.h addmethoddialogbase.ui addmethoddialog.cpp addattributedialogbase.ui addattributedialog.cpp addattributedialog.h KDevCppSupportIface.h KDevCppSupportIface.cpp KDevCppSupportIface.skel classgeneratorconfigbase.ui classgeneratorconfig.cpp classgeneratorconfig.h cppsupportfactory.cpp cppsupportfactory.h
+libkdevcppsupport_shared_la_LDFLAGS = $(LEXLIB) $(all_libraries) $(KDE_RPATH)
+libkdevcppsupport_shared_la_LIBADD = $(top_builddir)/lib/libkdevelop.la
+libkdevcppsupport_shared_la_SOURCES = cppsupportpart.cpp ccconfigwidget.cpp ccconfigwidgetbase.ui cppnewclassdlgbase.ui cppnewclassdlg.cpp cppcodecompletion.cpp simpleparser.cpp kdevregexp.cpp problemreporter.cpp driver.cpp errors.cpp lexer.cpp parser.cpp ast.cpp configproblemreporter.ui backgroundparser.cpp implementmethodsdialog.ui implementmethodsdialog.ui.h cppsupport_events.h ast_utils.h ast_utils.cpp tree_parser.h tree_parser.cpp store_walker.h store_walker.cpp parser.h realtime_classbrowser.h realtime_classbrowser.cpp subclassingdlg.cpp subclassingdlgbase.ui lookup.h lookup.cpp keywords.lut.h addmethoddialogbase.ui addmethoddialog.cpp addattributedialogbase.ui addattributedialog.cpp addattributedialog.h KDevCppSupportIface.h KDevCppSupportIface.cpp KDevCppSupportIface.skel classgeneratorconfigbase.ui classgeneratorconfig.cpp classgeneratorconfig.h cppsupportfactory.cpp cppsupportfactory.h static_constructor_trick_dynamiclib.cc
+
+libkdevcppsupport_la_LDFLAGS = $(LEXLIB) $(all_libraries) $(KDE_RPATH) -module
+libkdevcppsupport_la_LIBADD = libkdevcppsupport_shared.la
+libkdevcppsupport_la_SOURCES = static_constructor_trick_bundle.cc
+libkdevcppsupport_la_DEPENDENCIES = libkdevcppsupport_shared.la
 
 EXTRA_DIST =
-DISTCLEANFILES =
 
 METASOURCES = AUTO
 
@@ -29,5 +34,5 @@
 bin_PROGRAMS =  r++
 r___LDFLAGS = $(all_libraries)
 r___SOURCES = main.cpp cppsupportfactory.h
-r___DEPENDENCIES = libkdevcppsupport.la
-r___LDADD = libkdevcppsupport.la
+r___DEPENDENCIES = libkdevcppsupport_shared.la
+r___LDADD = libkdevcppsupport_shared.la
RCS file: parts/cppsupport/static_constructor_trick_bundle.cc
diff -N parts/cppsupport/static_constructor_trick_bundle.cc
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ parts/cppsupport/static_constructor_trick_bundle.cc	28 Apr 2003 01:05:58 -0000	1.1
@@ -0,0 +1,8 @@
+#ifdef __APPLE_CC__
+extern int libkdevcppsupport_shared_init_int;
+void libkdevcppsupport_so_init_func(void)
+{
+  libkdevcppsupport_shared_init_int++;
+}
+#pragma CALL_ON_LOAD libkdevcppsupport_so_init_func
+#endif
RCS file: parts/cppsupport/static_constructor_trick_dynamiclib.cc
diff -N parts/cppsupport/static_constructor_trick_dynamiclib.cc
--- /dev/null	1 Jan 1970 00:00:00 -0000
+++ parts/cppsupport/static_constructor_trick_dynamiclib.cc	28 Apr 2003 01:05:58 -0000	1.1
@@ -0,0 +1 @@
+int libkdevcppsupport_shared_init_int=0;
--- parts/qeditor/qeditor.cpp	21 Apr 2003 23:06:38 -0000	1.1.1.4
+++ parts/qeditor/qeditor.cpp	21 Apr 2003 23:29:51 -0000	1.10
@@ -203,12 +203,12 @@
 	    insert( "\t" );
 	e->accept();
     } else if( m_electricKeys.contains( e->ascii() ) ){
-	insert( e->text(), FALSE );
+	insert( e->text(), (bool)FALSE );
         indent();
 	e->accept();
     } else if( e->ascii() == '{' || e->ascii() == '}' ||
                e->ascii() == ':' || e->ascii() == '#' ){
-	insert( e->text(), FALSE );
+	insert( e->text(), (bool)FALSE );
 	e->accept();
     } else if (e->state() == Qt::ControlButton) {
 	bool bRemove = false;
