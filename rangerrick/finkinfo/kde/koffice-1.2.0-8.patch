
--- ./doc/kword/formatpara.docbook	10 Aug 2002 13:47:33 -0000	1.1.1.3
+++ ./doc/kword/formatpara.docbook	10 Aug 2002 14:07:15 -0000	1.3
@@ -230,7 +230,7 @@
 <term><guilabel>Width</guilabel></term>
 <listitem>
 <para>This will determine how wide the resulting border will be.  It is
-measured in points.</para>
+measured in points.</para>  
 </listitem>
 </varlistentry>
 
--- ./filters/karbon/ai/ailexer.cc	10 Aug 2002 13:48:20 -0000	1.1.1.3
+++ ./filters/karbon/ai/ailexer.cc	12 Aug 2002 01:08:39 -0000	1.2
@@ -38,9 +38,11 @@
   return (c==' ')||(c=='\n')||(c=='\t')||(c=='\r');
 }
 
+#ifndef isspecial
 int isspecial(char c){
   return (c=='*')||(c=='_')||(c=='?')||(c=='~')||(c=='-')||(c=='^')||(c=='`')||(c=='!')||(c=='.')||(c=='@')||(c=='&')||(c=='$')||(c=='=');
 }
+#endif
 
 int isletterhex(char c){
   return (c=='A')||(c=='B')||(c=='C')||(c=='D')||(c=='E')||(c=='F');
--- ./filters/karbon/ai/Makefile.am	20 Jun 2002 04:48:48 -0000	1.1.1.2
+++ ./filters/karbon/ai/Makefile.am	1 Dec 2002 19:28:48 -0000	1.2
@@ -2,7 +2,7 @@
 
 libkarbonaiimport_la_LIBADD = \
 	$(LIB_KOFFICEUI) \
-	../../../karbon/libkarbonpart.la
+	../../../karbon/libkarbonpart_shared.la
 
 libkarbonaiimport_la_LDFLAGS = \
 	$(all_libraries) \
--- ./filters/karbon/eps/Makefile.am	20 Jun 2002 04:48:49 -0000	1.1.1.2
+++ ./filters/karbon/eps/Makefile.am	1 Dec 2002 19:28:48 -0000	1.2
@@ -9,7 +9,7 @@
 libkarbonepsexport_la_LDFLAGS = $(KDE_PLUGIN)
 libkarbonepsexport_la_LIBADD  = \
 	$(LIB_KOFFICEUI) \
-	../../../karbon/libkarbonpart.la
+	../../../karbon/libkarbonpart_shared.la
 
 libkarbonepsimport_la_SOURCES = epsimport.cc
 libkarbonepsimport_la_LDFLAGS = $(KDE_PLUGIN)
--- ./filters/karbon/png/Makefile.am	20 Jun 2002 04:48:49 -0000	1.1.1.1
+++ ./filters/karbon/png/Makefile.am	1 Dec 2002 19:28:48 -0000	1.2
@@ -3,7 +3,7 @@
 libkarbonpngexport_la_LDFLAGS = $(KDE_PLUGIN)
 libkarbonpngexport_la_LIBADD = \
 	$(LIB_KOFFICEUI) \
-	../../../karbon/libkarbonpart.la
+	../../../karbon/libkarbonpart_shared.la
 
 INCLUDES = \
 	$(KOFFICE_INCLUDES) \
--- ./filters/karbon/svg/Makefile.am	20 Jun 2002 04:48:49 -0000	1.1.1.2
+++ ./filters/karbon/svg/Makefile.am	1 Dec 2002 19:28:49 -0000	1.2
@@ -3,7 +3,7 @@
 libkarbonsvgexport_la_LDFLAGS = $(KDE_PLUGIN)
 libkarbonsvgexport_la_LIBADD = \
 	$(LIB_KOFFICEUI) \
-	../../../karbon/libkarbonpart.la
+	../../../karbon/libkarbonpart_shared.la
 
 INCLUDES = \
 	$(KOFFICE_INCLUDES) \
--- ./filters/kspread/csv/Makefile.am	20 Jun 2002 04:43:09 -0000	1.1.1.1
+++ ./filters/kspread/csv/Makefile.am	1 Dec 2002 17:02:16 -0000	1.2
@@ -9,11 +9,11 @@
 
 libcsvimport_la_SOURCES = csvimport.cc xmltree.cc csvdialog.cpp dialogui.ui
 libcsvimport_la_LDFLAGS	= $(all_libraries) -module -avoid-version -no-undefined 
-libcsvimport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart.la
+libcsvimport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart_shared.la
 
 libcsvexport_la_SOURCES = csvexport.cc
 libcsvexport_la_LDFLAGS = $(all_libraries) -module -avoid-version -no-undefined
-libcsvexport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart.la
+libcsvexport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart_shared.la
 
 METASOURCES = AUTO
 
--- ./filters/kspread/gnumeric/Makefile.am	20 Jun 2002 04:43:09 -0000	1.1.1.1
+++ ./filters/kspread/gnumeric/Makefile.am	1 Dec 2002 17:02:16 -0000	1.2
@@ -8,11 +8,11 @@
 
 libgnumericexport_la_SOURCES = gnumericexport.cc
 libgnumericexport_la_LDFLAGS = $(all_libraries) -module -avoid-version -no-undefined
-libgnumericexport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart.la
+libgnumericexport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart_shared.la
 
 libgnumericimport_la_SOURCES = gnumericimport.cc
 libgnumericimport_la_LDFLAGS = $(all_libraries) -module -avoid-version -no-undefined
-libgnumericimport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart.la
+libgnumericimport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart_shared.la
 
 METASOURCES = AUTO
 
--- ./filters/kspread/html/Makefile.am	20 Jun 2002 04:43:09 -0000	1.1.1.1
+++ ./filters/kspread/html/Makefile.am	1 Dec 2002 17:02:16 -0000	1.2
@@ -9,7 +9,7 @@
 
 libkspreadhtmlexport_la_SOURCES = htmlexport.cc
 libkspreadhtmlexport_la_LDFLAGS = $(all_libraries) -module -avoid-version -no-undefined
-libkspreadhtmlexport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart.la
+libkspreadhtmlexport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart_shared.la
 
 METASOURCES = AUTO
 
--- ./filters/kspread/qpro/Makefile.am	20 Jun 2002 04:43:09 -0000	1.1.1.1
+++ ./filters/kspread/qpro/Makefile.am	1 Dec 2002 17:02:16 -0000	1.2
@@ -12,7 +12,7 @@
 libqproimport_la_SOURCES = qproimport.cc qproformula.cc
 
 libqproimport_la_LDFLAGS = $(all_libraries) -module -avoid-version -no-undefined
-libqproimport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart.la \
+libqproimport_la_LIBADD  = $(KOFFICE_LIBS) ../../../kspread/libkspreadpart_shared.la \
 	libqpro/src/libqpro.la
 
 METASOURCES = AUTO
--- ./filters/kword/latex/import/parser/Makefile.am	20 Jun 2002 04:49:28 -0000	1.1.1.1
+++ ./filters/kword/latex/import/parser/Makefile.am	1 Dec 2002 17:02:17 -0000	1.3
@@ -1,8 +1,8 @@
 ####### General stuff
 
 INCLUDES= -I$(srcdir) $(all_includes)
-liblatexparser_la_LDFLAGS = $(all_libraries) -module -avoid-version -no-undefined
-liblatexparser_la_LIBADD  = -lfl -lm $(KOFFICE_LIBS)
+liblatexparser_la_LDFLAGS = $(all_libraries) -avoid-version -no-undefined
+liblatexparser_la_LIBADD  = -ll -lm $(KOFFICE_LIBS)
 
 ####### Files
 
--- ./filters/xsltfilter/export/Makefile.am	20 Jun 2002 04:49:37 -0000	1.1.1.2
+++ ./filters/xsltfilter/export/Makefile.am	20 Jun 2002 04:48:28 -0000	1.2
@@ -1,9 +1,9 @@
 ####### General stuff
-SUBDIRS = xsl
 
-INCLUDES= -I$(srcdir) $(KOFFICE_INCLUDES) $(all_includes) $(LIBXML_CFLAGS) $(LIBXSLT_CFLAGS)
+KDE_INCLUDES=$(KDEDIR)/include
+INCLUDES= -I$(srcdir) $(KOFFICE_INCLUDES) -I$(KDE_INCLUDES)/libxml2 -I$(KDE_INCLUDES)/libxslt $(all_includes) $(LIBXML_CFLAGS) $(LIBXSLT_CFLAGS)
 
-AM_CPPFLAGS = -DSRCDIR="\"$(shell (cd $(top_srcdir)/filters/xsltfilter/export && pwd))\"" 
+AM_CPPFLAGS = -DSRCDIR="\"$(shell (cd $(srcdir) && pwd))\"" 
 
 ####### Files
 
--- ./filters/xsltfilter/import/Makefile.am	20 Jun 2002 04:49:38 -0000	1.1.1.2
+++ ./filters/xsltfilter/import/Makefile.am	20 Jun 2002 04:48:28 -0000	1.2
@@ -1,7 +1,8 @@
 ####### General stuff
 
-INCLUDES= -I$(srcdir) $(KOFFICE_INCLUDES)  $(all_includes) $(LIBXML_CFLAGS) $(LIBXSLT_CFLAGS)
-AM_CPPFLAGS = -DSRCDIR="\"$(shell (cd $(top_srcdir)/filters/xsltfilter/import && pwd))\"" 
+KDE_INCLUDES=$(KDEDIR)/include
+INCLUDES= -I$(srcdir) $(KOFFICE_INCLUDES) -I$(KDE_INCLUDES)/libxml2 -I$(KDE_INCLUDES)/libxslt $(all_includes) $(LIBXML_CFLAGS) $(LIBXSLT_CFLAGS)
+AM_CPPFLAGS = -DSRCDIR="\"$(shell (cd $(srcdir) && pwd))\"" 
 
 ####### Files
 
--- ./karbon/Makefile.am	12 Sep 2002 12:44:23 -0000	1.1.1.4
+++ ./karbon/Makefile.am	1 Dec 2002 17:02:17 -0000	1.2
@@ -15,9 +15,9 @@
 bin_PROGRAMS = karbon
 
 lib_LTLIBRARIES = karbon.la
-kde_module_LTLIBRARIES = libkarbonpart.la
+kde_module_LTLIBRARIES = libkarbonpart.la libkarbonpart_shared.la
 
-libkarbonpart_la_SOURCES = \
+libkarbonpart_shared_la_SOURCES = \
 	karbon_factory.cc \
 	karbon_part.cc \
 	karbon_part_iface.cc \
@@ -26,8 +26,8 @@
 	karbon_view_iface.cc \
 	karbon_view_iface.skel
 
-libkarbonpart_la_LDFLAGS = $(KDE_PLUGIN)
-libkarbonpart_la_LIBADD = $(LIB_KOFFICEUI) $(LIB_KOTEXT) \
+libkarbonpart_shared_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -avoid-version
+libkarbonpart_shared_la_LIBADD = $(LIB_KOFFICEUI) $(LIB_KOTEXT) \
 	tools/libkarbontools.la \
 	dialogs/libkarbondialogs.la \
 	dockers/libkarbondockers.la \
@@ -38,18 +38,25 @@
 	core/libkarboncore.la \
 	visitors/libkarbonvisitors.la 
 
-libkarbonpart_la_METASOURCES = AUTO
+libkarbonpart_shared_la_METASOURCES = AUTO
+
+libkarbonpart_la_SOURCES = dummy.cpp
+libkarbonpart_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
+libkarbonpart_la_LIBADD  = libkarbonpart_shared.la
+
+dummy.cc:
+	echo > dummy.cc
 
 karbon_la_SOURCES = main.cc
 karbon_la_LDFLAGS = $(all_libraries) -module -avoid-version
-karbon_la_LIBADD = libkarbonpart.la
+karbon_la_LIBADD = libkarbonpart_shared.la
 
-karbon_SOURCES = dummy.cc
+karbon_SOURCES = karbon_main.cc
 karbon_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-karbon_LDADD = karbon.la
+karbon_LDADD = libkarbonpart_shared.la
 
-dummy.cc:
-	echo > dummy.cc
+karbon_main.cc: main.cc
+	cat main.cc > karbon_main.cc
 
 noinst_HEADERS = \
 	karbon_factory.h \
--- ./karbon/render/xrgbrender/gdk-pixbuf-xlib-private.h	20 Jun 2002 04:43:15 -0000	1.1.1.1
+++ ./karbon/render/xrgbrender/gdk-pixbuf-xlib-private.h	20 Jun 2002 04:48:28 -0000	1.2
@@ -31,5 +31,11 @@
 #define KSVG_BIG_ENDIAN 2
 
 /* FIXME: Make this auto-detectable */
+/* FIXME AGAIN: probably only Apple Compilers define this */
+#ifdef __BIG_ENDIAN__
+#define KSVG_BYTE_ORDER KSVG_BIG_ENDIAN
+#else
 #define KSVG_BYTE_ORDER KSVG_LITTLE_ENDIAN
+#endif
+
 #endif
--- ./kchart/Makefile.am	10 Aug 2002 13:49:03 -0000	1.1.1.2
+++ ./kchart/Makefile.am	1 Dec 2002 17:02:17 -0000	1.2
@@ -46,12 +46,12 @@
 
 ## The executable
 bin_PROGRAMS = kchart
-kchart_SOURCES = dummy.cc
+kchart_SOURCES = kchart_main.cc
 kchart_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kchart_LDADD = kchart.la
+kchart_LDADD = $(LIB_KOFFICECORE)
 
-dummy.cc:
-	echo > dummy.cc
+kchart_main.cc: main.cc
+	cat main.cc > kchart_main.cc
 
 noinst_HEADERS =  kchart_part.h \
 		kchart_view.h kchart_factory.h \
--- ./kchart/kdchart/Makefile.am	20 Jun 2002 04:49:58 -0000	1.1.1.2
+++ ./kchart/kdchart/Makefile.am	1 Dec 2002 17:02:18 -0000	1.4
@@ -1,5 +1,7 @@
 lib_LTLIBRARIES = libkdchart.la
 
+libkdchart_la_LIBADD  = $(LIB_QT)
+libkdchart_la_LDFLAGS = $(all_libraries) -avoid-version
 libkdchart_la_SOURCES = KDChart.cpp 		\
 			KDChartAreaPainter.cpp	\
 			KDChartAxesPainter.cpp	\
--- ./kformula/Makefile.am	10 Aug 2002 13:49:17 -0000	1.1.1.3
+++ ./kformula/Makefile.am	1 Dec 2002 17:02:18 -0000	1.2
@@ -12,19 +12,19 @@
 libkformulapart_la_METASOURCES = AUTO
 
 ## The kdeinit loadable module
-lib_LTLIBRARIES = kformulamain.la
-kformulamain_la_SOURCES = main.cc
-kformulamain_la_LDFLAGS = $(all_libraries) -module -avoid-version
-kformulamain_la_LIBADD = $(LIB_KOFFICECORE)
+lib_LTLIBRARIES = kformula.la
+kformula_la_SOURCES = main.cc
+kformula_la_LDFLAGS = $(all_libraries) -module -avoid-version
+kformula_la_LIBADD = $(LIB_KOFFICECORE)
 
 ## The executable
 bin_PROGRAMS = kformula
-kformula_SOURCES = dummy.cc
+kformula_SOURCES = kformula_main.cc
 kformula_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kformula_LDADD = kformulamain.la
+kformula_LDADD   = $(LIB_KOFFICECORE)
 
-dummy.cc:
-	echo > dummy.cc
+kformula_main.cc:
+	cat main.cc > kformula_main.cc
 
 noinst_HEADERS =  kformula_doc.h \
 		  kformula_view.h kformula_factory.h \
--- ./kivio/kiviopart/Makefile.am	10 Aug 2002 13:49:24 -0000	1.1.1.3
+++ ./kivio/kiviopart/Makefile.am	1 Dec 2002 20:23:42 -0000
@@ -4,8 +4,8 @@
 ##############################################################
 SUBDIRS = ui kiviosdk tklib tools pics tiles stencils .
 
-kde_module_LTLIBRARIES = libkiviopart.la
-libkiviopart_la_LIBADD = \
+kde_module_LTLIBRARIES = libkiviopart.la libkiviopart_shared.la
+libkiviopart_shared_la_LIBADD = \
 		$(top_builddir)/kivio/kiviopart/tools/libtools.la\
 		$(top_builddir)/kivio/kiviopart/tklib/libtklib.la\
 		$(top_builddir)/kivio/kiviopart/kiviosdk/libkiviosdk.la\
@@ -21,8 +21,8 @@
 	-I$(top_srcdir)/lib/kformula\
 	$(all_includes)
 
-libkiviopart_la_METASOURCES = AUTO
-libkiviopart_la_SOURCES = \
+libkiviopart_shared_la_METASOURCES = AUTO
+libkiviopart_shared_la_SOURCES = \
 		kivio_canvas.cpp\
 		kivio_doc.cpp\
 		kivio_factory.cpp\
@@ -135,7 +135,16 @@
 		KIvioPageIface.skel KIvioPageIface.cc KIvioPageIface.h \
 		kivio_command.cc kivio_command.h KIvioLayerIface.cc \
 		KIvioLayerIface.h
-		
+
+libkiviopart_shared_la_LDFLAGS = -avoid-version $(all_libraries)
+
+libkiviopart_la_SOURCES = dummy.cpp
+libkiviopart_la_LDFLAGS = $(all_libraries) -avoid-version -module
+libkiviopart_la_LIBADD  = libkiviopart_shared.la
+
+dummy.cpp:
+	echo > dummy.cpp
+
 ##############################################################
 ####                  END KDEStudio part                  ####
 #2########################################################!@#$
@@ -144,15 +153,13 @@
 kivio_la_LDFLAGS = $(all_libraries) -module -avoid-version
 kivio_la_LIBADD = ../../lib/kofficecore/libkofficecore.la
 
-libkiviopart_la_LDFLAGS = -avoid-version -module $(all_libraries)
-
 bin_PROGRAMS = kivio
-kivio_SOURCES = dummy.cpp
+kivio_SOURCES = kivio_main.cpp
 kivio_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kivio_LDADD = kivio.la
+kivio_LDADD = ../../lib/kofficecore/libkofficecore.la
 
-dummy.cpp:
-	echo > dummy.cpp
+kivio_main.cpp: main.cpp
+	cat main.cpp > kivio_main.cpp
 
 kdelnk_DATA = kivio.desktop
 kdelnkdir = $(kde_appsdir)/Office
--- ./kivio/plugins/kivioconnectortool/Makefile.am	12 Sep 2002 12:44:57 -0000	1.1.1.3
+++ ./kivio/plugins/kivioconnectortool/Makefile.am	1 Dec 2002 17:02:19 -0000	1.2
@@ -30,7 +30,7 @@
 ####                  END KDEStudio part                  ####
 #2########################################################!@#$
 libkivioconnectortool_la_LDFLAGS = -module $(KDE_PLUGIN)
-libkivioconnectortool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart.la
+libkivioconnectortool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart_shared.la
 
 rc_DATA = kivioconnectortool.rc
 rcdir = $(kde_datadir)/kivio/kpartplugins
--- ./kivio/plugins/kivioconnectortool/straight_connector/Makefile.am	20 Jun 2002 04:50:13 -0000	1.1.1.2
+++ ./kivio/plugins/kivioconnectortool/straight_connector/Makefile.am	1 Dec 2002 17:02:19 -0000	1.3
@@ -3,6 +3,7 @@
 #### WARNING! All changes made in this part will be lost! ####
 ##############################################################
 
+libdir = $(kde_datadir)/kivio/autoloadStencils
 lib_LTLIBRARIES =libstraight_connector.la
 
 
@@ -10,7 +11,7 @@
 
 # Hack to make it work (dave m)
 libstraight_connector_la_LIBADD = \
-    $(top_builddir)/kivio/kiviopart/libkiviopart.la
+    $(top_builddir)/kivio/kiviopart/libkiviopart_shared.la
 
 INCLUDES = -I$(top_srcdir)/kivio/kiviopart\
 	-I$(top_srcdir)/kivio/kiviopart/kiviosdk\
@@ -30,14 +31,14 @@
 
 ## This is a very bad hack..... why is this needed ? (David)
 
-install-libLTLIBRARIES: $(lib_LTLIBRARIES)
-	@$(NORMAL_INSTALL)
-	$(mkinstalldirs) $(DESTDIR)$(libdir)
-	$(LIBTOOL)  --mode=install $(INSTALL) ./.libs/libstraight_connector.so $(DESTDIR)$(libdir)/straight_connector.ksp;
-
-uninstall-libLTLIBRARIES:
-	@$(NORMAL_UNINSTALL)
-	$(LIBTOOL)  --mode=uninstall rm -f $(DESTDIR)$(libdir)/straight_connector.ksp;
+#install-libLTLIBRARIES: $(lib_LTLIBRARIES)
+#	@$(NORMAL_INSTALL)
+#	$(mkinstalldirs) $(DESTDIR)$(libdir)
+#	$(LIBTOOL)  --mode=install $(INSTALL) ./.libs/libstraight_connector.dylib $(DESTDIR)$(libdir)/straight_connector.ksp;
+#
+#uninstall-libLTLIBRARIES:
+#	@$(NORMAL_UNINSTALL)
+#	$(LIBTOOL)  --mode=uninstall rm -f $(DESTDIR)$(libdir)/straight_connector.ksp;
 
 stencil_DATA = straight_connector.xpm
 stencildir = $(kde_datadir)/kivio/autoloadStencils
--- ./kivio/plugins/kivioselecttool/Makefile.am	12 Sep 2002 12:44:57 -0000	1.1.1.3
+++ ./kivio/plugins/kivioselecttool/Makefile.am	1 Dec 2002 17:02:19 -0000	1.2
@@ -26,7 +26,7 @@
 ####                  END KDEStudio part                  ####
 #2########################################################!@#$
 libkivioselecttool_la_LDFLAGS = -module $(KDE_PLUGIN)
-libkivioselecttool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart.la
+libkivioselecttool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart_shared.la
 
 rc_DATA = kivioselecttool.rc
 rcdir = $(kde_datadir)/kivio/kpartplugins
--- ./kivio/plugins/kiviotexttool/Makefile.am	12 Sep 2002 12:44:57 -0000	1.1.1.3
+++ ./kivio/plugins/kiviotexttool/Makefile.am	1 Dec 2002 17:02:19 -0000	1.2
@@ -30,7 +30,7 @@
 ####                  END KDEStudio part                  ####
 #2########################################################!@#$
 libkiviotexttool_la_LDFLAGS = -module $(KDE_PLUGIN)
-libkiviotexttool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart.la
+libkiviotexttool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart_shared.la
 
 rc_DATA = kiviotexttool.rc
 rcdir = $(kde_datadir)/kivio/kpartplugins
--- ./kivio/plugins/kiviozoomtool/Makefile.am	12 Sep 2002 12:44:57 -0000	1.1.1.3
+++ ./kivio/plugins/kiviozoomtool/Makefile.am	1 Dec 2002 17:02:20 -0000	1.2
@@ -25,7 +25,7 @@
 ####                  END KDEStudio part                  ####
 #2########################################################!@#$
 libkiviozoomtool_la_LDFLAGS = -module $(KDE_PLUGIN)
-libkiviozoomtool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart.la
+libkiviozoomtool_la_LIBADD = $(all_libraries) $(top_builddir)/kivio/kiviopart/libkiviopart_shared.la
 
 rc_DATA = kiviozoomtool.rc
 rcdir = $(kde_datadir)/kivio/kpartplugins
--- ./kontour/Makefile.am	10 Aug 2002 13:49:37 -0000	1.1.1.2
+++ ./kontour/Makefile.am	1 Dec 2002 17:02:20 -0000	1.2
@@ -19,12 +19,12 @@
 
 ## The executable
 bin_PROGRAMS = kontour
-kontour_SOURCES = dummy.cc
+kontour_SOURCES = kontour_main.cc
 kontour_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kontour_LDADD = kontour.la
+kontour_LDADD = ../lib/kofficecore/libkofficecore.la
 
-dummy.cc:
-	echo > dummy.cc
+kontour_main.cc: main.cc
+	cat main.cc > kontour_main.cc
 
 ## The part
 kde_module_LTLIBRARIES = libkontourpart.la
--- ./koshell/Makefile.am	20 Jun 2002 04:43:30 -0000	1.1.1.1
+++ ./koshell/Makefile.am	1 Dec 2002 17:02:20 -0000	1.2
@@ -2,19 +2,24 @@
 INCLUDES  = $(KOFFICE_INCLUDES) $(all_includes)
 
 ## The kdeinit loadable module
-lib_LTLIBRARIES = koshell.la
-koshell_la_SOURCES = koshell_main.cc koshell_shell.cc
-koshell_la_LDFLAGS = $(all_libraries) -avoid-version -module
-koshell_la_LIBADD = $(LIB_KOFFICEUI)
+lib_LTLIBRARIES = koshell.la libkoshell_shared.la
+
+libkoshell_shared_la_SOURCES = koshell_shell.cc
+libkoshell_shared_la_LDFLAGS = $(all_libraries) -avoid-version
+libkoshell_shared_la_LIBADD = $(LIB_KOFFICEUI)
+
+koshell_la_SOURCES = koshell_la_main.cc
+koshell_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -module -avoid-version
+koshell_la_LIBADD  = libkoshell_shared.la
+
+koshell_la_main.cc: koshell_main.cc
+	cat koshell_main.cc > koshell_la_main.cc
 
 ## The executable
 bin_PROGRAMS = koshell
-koshell_SOURCES = dummy.cc
+koshell_SOURCES = koshell_main.cc
 koshell_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-koshell_LDADD = koshell.la
-
-dummy.cc:
-	echo > dummy.cc
+koshell_LDADD = libkoshell_shared.la
 
 noinst_HEADERS = koshell_shell.h
 
--- ./kpresenter/kpresenter_view.cc	12 Sep 2002 12:45:08 -0000	1.1.1.4
+++ ./kpresenter/kpresenter_view.cc	12 Sep 2002 12:53:52 -0000	1.4
@@ -4451,7 +4451,7 @@
     //(Laurent) deselect object when we change page.
     //otherwise you can change object properties on other page
     m_canvas->deSelectAllObj();
-    m_pKPresenterDoc->repaint( FALSE );
+    m_pKPresenterDoc->repaint( (bool)FALSE );
 
     m_pKPresenterDoc->displayActivePage(m_pKPresenterDoc->pageList().at(currPg));
 
--- ./kpresenter/Makefile.am	10 Aug 2002 13:49:51 -0000	1.1.1.3
+++ ./kpresenter/Makefile.am	1 Dec 2002 17:02:20 -0000	1.2
@@ -60,12 +60,12 @@
 
 ## The executable
 bin_PROGRAMS = kpresenter
-kpresenter_SOURCES = dummy.cc
+kpresenter_SOURCES = kpresenter_main.cc
 kpresenter_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kpresenter_LDADD = kpresenter.la
+kpresenter_LDADD = $(LIB_KOFFICECORE)
 
-dummy.cc:
-	echo > dummy.cc
+kpresenter_main.cc: main.cc
+	cat main.cc > kpresenter_main.cc
 
 noinst_HEADERS = koPointArray.h kprcanvas.h kprpage.h kpresenter_doc.h kpresenter_view.h \
 		backdia.h styledia.h \
--- ./kspread/Makefile.am	10 Aug 2002 13:50:22 -0000	1.1.1.3
+++ ./kspread/Makefile.am	1 Dec 2002 17:02:21 -0000	1.2
@@ -3,8 +3,8 @@
 	 -I$(top_srcdir)/kchart/kdchart $(all_includes)
 
 ## The part
-kde_module_LTLIBRARIES = libkspreadpart.la
-libkspreadpart_la_SOURCES = kspread_locale.cc \
+kde_module_LTLIBRARIES = libkspreadpart_shared.la libkspreadpart.la
+libkspreadpart_shared_la_SOURCES = kspread_locale.cc \
 	kspread_dlg_formula.cc \
 	kspread_functions.cc kspread_dlg_csv.cc \
 	kspread_canvas.cc \
@@ -41,10 +41,17 @@
 	KSpreadRowIface.skel KSpreadRowIface.cc \
 	kspread_selection.cc kspread_dlg_paperlayout.cc
 
-libkspreadpart_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
-libkspreadpart_la_LIBADD = $(top_builddir)/interfaces/libkochart.la \
+libkspreadpart_shared_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -avoid-version
+libkspreadpart_shared_la_LIBADD = $(top_builddir)/interfaces/libkochart.la \
 	$(LIB_KOSCRIPT) $(LIB_KOFFICEUI) -lkspell
-libkspreadpart_la_METASOURCES = AUTO
+libkspreadpart_shared_la_METASOURCES = AUTO
+
+libkspreadpart_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
+libkspreadpart_la_LIBADD  = libkspreadpart_shared.la
+libkspreadpart_la_SOURCES = libkspreadpart_dummy.cpp
+
+libkspreadpart_dummy.cpp:
+	echo > libkspreadpart_dummy.cpp
 
 ## The kdeinit loadable module
 lib_LTLIBRARIES =  kspread.la
@@ -54,12 +61,12 @@
 
 ## The executable
 bin_PROGRAMS = kspread
-kspread_SOURCES = dummy.cc
+kspread_SOURCES = kspread_main.cc
 kspread_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kspread_LDADD = kspread.la
+kspread_LDADD = $(LIB_KOFFICECORE)
 
-dummy.cc:
-	echo > dummy.cc
+kspread_main.cc: main.cc
+	cat main.cc > kspread_main.cc
 
 noinst_HEADERS = kspread_doc.h kspread_functions.h \
 	kspread_undo.h kspread_view.h kspread_tabbar.h \
--- ./kspread/plugins/calculator/kcalc_core.cpp	20 Jun 2002 04:43:37 -0000	1.1.1.1
+++ ./kspread/plugins/calculator/kcalc_core.cpp	11 Aug 2002 16:42:11 -0000	1.2
@@ -51,7 +51,7 @@
 #undef HAVE_LONG_DOUBLE
 #endif
 
-#ifndef HAVE_FUNC_ISINF
+#if !defined(HAVE_FUNC_ISINF) || defined(__APPLE__)
 #ifdef HAVE_IEEEFP_H
 #include <ieeefp.h>
 #else
--- ./kspread/plugins/calculator/Makefile.am	20 Jun 2002 04:43:37 -0000	1.1.1.1
+++ ./kspread/plugins/calculator/Makefile.am	1 Dec 2002 17:02:21 -0000	1.2
@@ -9,7 +9,7 @@
 			main.cpp \
 			stats.cpp
 libkspreadcalc_la_LDFLAGS = -avoid-version -module -no-undefined
-libkspreadcalc_la_LIBADD = $(all_libraries) ../../libkspreadpart.la
+libkspreadcalc_la_LIBADD = $(all_libraries) ../../libkspreadpart_shared.la
 
 METASOURCES = AUTO
 
--- ./kugar/part/Makefile.am	20 Jun 2002 04:43:38 -0000	1.1.1.1
+++ ./kugar/part/Makefile.am	20 Jun 2002 04:48:29 -0000	1.2
@@ -3,7 +3,7 @@
 lib_LTLIBRARIES = libkugarpart.la
 libkugarpart_la_SOURCES = kugar_part.cpp
 libkugarpart_la_LDFLAGS = $(all_libraries) -module -avoid-version
-libkugarpart_la_LIBADD = ../lib/libkugar.la $(LIB_KPARTS) $(LIB_KDEPRINT)
+libkugarpart_la_LIBADD = ../lib/libkugar.la $(LIB_KPARTS) $(LIB_KDEPRINT) $(LIB_QT) $(LIB_KDECORE) $(LIB_KDEUI) $(LIB_KIO)
 
 libkugarpart_la_METASOURCES = AUTO
 
--- ./kword/Makefile.am	10 Aug 2002 13:50:51 -0000	1.1.1.3
+++ ./kword/Makefile.am	1 Dec 2002 17:02:21 -0000	1.2
@@ -1,3 +1,4 @@
+KDE_OPTIONS = nofinal
 
 KDE_CXXFLAGS = $(USE_RTTI)
 INCLUDES = $(KOFFICE_INCLUDES) -I$(top_srcdir)/lib/kformula \
@@ -62,12 +63,12 @@
 
 ## The executable
 bin_PROGRAMS = kword
-kword_SOURCES = dummy.cc
+kword_SOURCES = bin_main.cc
 kword_LDFLAGS = $(all_libraries) $(KDE_RPATH)
-kword_LDADD = kword.la
+kword_LDADD = ../lib/kofficecore/libkofficecore.la
 
-dummy.cc:
-	echo > dummy.cc
+bin_main.cc:
+	cat main.cc > bin_main.cc
 
 kdelnk_DATA = kword.desktop
 kdelnkdir = $(kde_appsdir)/Office
