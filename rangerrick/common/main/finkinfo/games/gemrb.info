Package: gemrb
Version: 0.2.6
Revision: 1
Depends: libogg-shlibs, libvorbis-shlibs, sdl-shlibs, x11-shlibs, python24-shlibs
BuildDepends: libogg, libvorbis, sdl, x11-dev, python24
Maintainer: None <fink-devel@lists.sourceforge.net>

Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: efff48f8845e47bab499e6eb7cab62e6
Patch: %n.patch

GCC: 3.3
DocFiles: AUTHORS COPYING ChangeLog INSTALL NEWS README TODO
NoSetLDFLAGS: true
SetLIBS: -L%p/lib
SetCPPFLAGS: -no-cpp-precomp -I%p/include/SDL -Wno-long-double
ConfigureParams: --with-sdl-prefix=%p --disable-sdltest
CompileScript: <<
#!/bin/sh -ex

	ln -s /System/Library/Frameworks/OpenAL.framework/Headers AL
	PYTHON=%p/bin/python2.4 ./configure %c
	make
<<

InstallScript: <<
#!/bin/sh -ex
	make install DESTDIR=%d
	rm -rf %i/bin/Cache
	install -d -m 755 %i/var/cache/gemrb
	perl -pi -e 's,^CachePath=.*,CachePath=%p/var/cache/gemrb,; s,^GUIScriptsPath=.*,GUIScriptsPath=%p/share/gemrb/GUIScripts,; s,^.PluginsPath=.*,PluginsPath=%p/lib/gemrb,' %i/etc/GemRB.cfg
<<
ConfFiles: %p/etc/GemRB.cfg
Description: Infinity game engine clone
DescDetail: <<
GemRB is an Infinity Engine clone that will run games like
Baldur's Gate, Icewind Dale, Planescape Torment, etc.
<<
DescUsage: <<
You will probably need to edit %p/etc/GemRB.cfg to be able to
use this application.
<<
License: GPL
