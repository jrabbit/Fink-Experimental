Package: mono
Version: 0.96
Revision: 1
Source: http://www.go-mono.com/archive/beta3/%n-%v.tar.gz
Source-MD5: 2c786b47d3531bfbcd9ee4368c5ccfed
PatchScript: sed -e 's,@PREFIX@,%p,g' %a/%n.patch | patch -p1
DocFiles: AUTHORS COPYING* ChangeLog NEWS README
Depends: cairo-shlibs (>= 0.1.23-4), gc-shlibs (>= 6.3-0.alpha6.1), glib2-shlibs (>= 2.0.4-1), libicu28-shlibs (>= 2.8-4), system-java14
BuildDepends: cairo (>= 0.1.23-4), dlcompat-dev, gc (>= 6.3-0.alpha6.1), gettext-dev, gettext-bin, glib2-dev (>= 2.0.4-1), glib2 (>= 2.0.4-1), glitz (>= 0.1.4-1), libiconv-dev, libicu28-dev (>= 2.8-4), libpixman1, pkgconfig, system-java14-dev
Homepage: http://go-mono.com/
Maintainer: Benjamin Reed <ranger@befunk.com>
Description: The Mono CIL engine
NoSetCPPFLAGS: true
SetCPPFLAGS: -I%p/include
NoSETLDFLAGS: true
SetLIBS: -L%p/lib
ConfigureParams: --mandir=%p/share/man --with-gc=boehm --sysconfdir=%p/etc --with-jdk=/System/Library/Frameworks/JavaVM.framework/Versions/1.4.2/Home
ConfFiles: <<
  %p/etc/mono/browscap.ini
  %p/etc/mono/config
  %p/etc/mono/DefaultWsdlHelpGenerator.aspx
  %p/etc/mono/machine.config
<<
CompileScript: <<
#!/bin/sh

  JAVAVER=`find /System/Library/Frameworks/JavaVM.framework/Versions -name include 2>/dev/null | perl -p -e 's,.*Versions/(.*?)/.*,$1,g' | grep -E '^1.4' | tail -1`
  export ICU_DATA=/sw/lib/icu/current
  perl -pi -e 's/hardcode_direct=yes/hardcode_direct=no/g' configure
  ./configure %c --with-jdk=/System/Library/Frameworks/JavaVM.framework/Versions/$JAVAVER/Home
  make
<<
InstallScript: <<
  MAKEFLAGS=-j1 make install DESTDIR=%d
<<
SplitOff: <<
 Package: %N-dev
 BuildDependsOnly: true
 Depends: %N (>= %v-%r)
 Replaces: %N (<< %v-%r)
 Files: <<
  include
  lib/*.a
  lib/*.la
  lib/libMonoPosixHelper.dylib
  lib/libmint.dylib
  lib/libmono-ikvm-jni.dylib
  lib/libmono-profiler-cov.dylib
  lib/libmono.dylib
  lib/pkgconfig
 <<
<<

DescDetail: <<
The Mono runtime implements a JIT engine for the CIL virtual machine
(as well as a byte code interpreter, this is to quickly port it to
new systems), the class loader, the garbage collector, threading
system and metadata access libraries.
<<
License: LGPL
