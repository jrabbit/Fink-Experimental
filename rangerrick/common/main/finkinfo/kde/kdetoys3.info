Package: kdetoys3
Version: 3.3.0
Revision: 1
Description: KDE - toys
License: GPL/LGPL
Maintainer: Benjamin Reed <ranger@befunk.com>

Depends: amor (>= %v-%r), kde-panel-kmoon (>= %v-%r), kodo (>= %v-%r), kteatime (>= %v-%r), kworldclock (>= %v-%r), kde-panel-eyes (>= %v-%r), kde-panel-fifteen (>= %v-%r), kde-panel-worldwatch (>= %v-%r), ktux (>= %v-%r), kweather (>= %v-%r)
BuildDepends: pcre, arts-dev (>= 1.3.0-1), cctools (>= 446-1) | cctools-single-module, dlcompat-dev (>= 20030629-5), fink (>= 0.20.2.1-1), freetype2 | freetype2-hinting, kdelibs3-ssl-dev (>= %v-1) | kdelibs3-dev (>= %v-1), libart2, libjpeg, libpng3 (>= 1.2.5-4), qt3 (>= 3.3.2-1), x11-dev
Conflicts: %N (<< %v-%r)
Replaces: %N (<< %v-%r)
GCC: 3.3

CustomMirror: <<
  nam-US: http://ranger.befunk.com/fink
  nam-US: http://astrange.ithinksw.net/~astrange/ranger-fink
  nam-CA: http://www.southofheaven.net/befunk
<<
Source: mirror:kde:stable/%v/src/kdetoys-%v.tar.bz2
Source-MD5: 935e3e2e6d84c9fedb2f8acb8e36cdc7
Source2: mirror:custom:kde-build-20040821.tar.bz2
Source2-MD5: 5f222ad99ea992cf9a84d14ae12918cf
Source2ExtractDir: kdetoys-%v

PatchScript: <<
  perl -pi.bak -e 's,-O2,-Os,; s,doc/HTML,doc/kde,g' configure
  patch -p1 < %a/%n.patch
<<

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
ConfigureParams: --includedir=%p/include --libdir=%p/lib --prefix=%p --with-qt-dir=%p --with-qt-includes=%p/include/qt --with-extra-libs=%p/lib --with-extra-includes=%p/include --enable-mt --with-pic --enable-rpath --enable-shared=yes --enable-static=no --mandir=%i/share/man --with-xinerama --with-pam --enable-final --with-distribution='Fink/Mac OS X'

CompileScript: <<
#!/bin/sh -e

  export HOME=/tmp
  export PREFIX="%p"
  . ./environment-helper.sh

  ./build-helper.sh configure %N %v %r ./configure %c
  ./build-helper.sh make      %N %v %r make all all_libraries="$ALL_LIBRARIES"
<<

InstallScript: <<
#!/bin/sh -e

  export PREFIX="%p"
  . ./environment-helper.sh

  ./build-helper.sh install %N %v %r make -j1 install DESTDIR=%d

  mkdir -p %i/share/doc/kde-installed-packages
  touch %i/share/doc/kde-installed-packages/%N
  touch %i/share/doc/kde-installed-packages/%N-base
<<

DocFiles: AUTHORS COPYING ChangeLog INSTALL README
SplitOff: <<
  Package: amor
  Description: KDE - themeable animated window toy
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/amor
    include/AmorIface.h
    share/applications/kde/amor.desktop
    share/apps/amor
    share/doc/kde/en/amor
    share/icons/crystalsvg/16x16/apps/amor.png
    share/icons/crystalsvg/32x32/apps/amor.png
  <<
<<
SplitOff2: <<
  Package: kde-panel-kmoon
  Description: KDE - moon phases
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), kmoon
  Conflicts: kmoon
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/*kmoon_panelapplet*
    share/apps/kicker/applets/kmoonapplet.desktop
    share/apps/kmoon
    share/doc/kde/en/kmoon
    share/icons/crystalsvg/16x16/apps/kmoon.png
    share/icons/crystalsvg/32x32/apps/kmoon.png
    share/icons/crystalsvg/48x48/apps/kmoon.png
  <<
<<
SplitOff3: <<
  Package: kodo
  Description: KDE - desktop mileage odometer
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kodo
    share/applications/kde/kodo.desktop
    share/apps/kodo
    share/doc/kde/en/kodo
    share/icons/crystalsvg/16x16/apps/kodo.png
    share/icons/crystalsvg/32x32/apps/kodo.png
    share/icons/crystalsvg/48x48/apps/kodo.png
  <<
<<
SplitOff4: <<
  Package: kteatime
  Description: KDE - tea timer
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kteatime
    share/apps/kteatime
    share/applications/kde/kteatime.desktop
    share/doc/kde/en/kteatime
    share/icons/crystalsvg/16x16/apps/kteatime.png
  <<
<<
SplitOff5: <<
  Package: kworldclock
  Description: KDE - international clock
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Suggests: kworldclock-maps
  Files: <<
    bin/kworldclock
    share/applications/kde/kworldclock.desktop
    share/apps/kdesktop/programs/kdeworld.desktop
    share/apps/kworldclock
    share/doc/kde/en/kworldclock
    share/icons/crystalsvg/16x16/apps/kworldclock.png
    share/icons/crystalsvg/32x32/apps/kworldclock.png
    share/icons/crystalsvg/48x48/apps/kworldclock.png
  <<
<<
SplitOff6: <<
  Package: kde-panel-eyes
  Description: KDE - xeyes panel applet
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/*eyes_panelapplet*
    share/apps/kicker/applets/eyesapplet.desktop
  <<
<<
SplitOff7: <<
  Package: kde-panel-fifteen
  Description: KDE - moving squares panel game
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/*fifteen_panelapplet*
    share/apps/kicker/applets/kfifteenapplet.desktop
  <<
<<
SplitOff8: <<
  Package: ktux
  Description: KDE - tux the penguin screensaver
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/ktux
    share/applnk/System/ScreenSavers/ktux.desktop
    share/apps/ktux
    share/icons/locolor/16x16/apps/ktux.png
    share/icons/locolor/32x32/apps/ktux.png
  <<
<<
SplitOff9: <<
  Package: kweather
  Description: KDE - weather reporting tools
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kweatherreport
    bin/kweatherservice
    lib/kde3/*weather*
    lib/libkdeinit_kweatherreport*
    share/apps/kicker/applets/kweather.desktop
    share/apps/kweather
    share/apps/kweatherservice
    share/doc/kde/en/kweather
    share/services/kcmweather*
    share/services/kweatherservice.desktop
    share/icons/crystalsvg/16x16/apps/kweather.png
    share/icons/crystalsvg/32x32/apps/kweather.png
    share/icons/crystalsvg/48x48/apps/kweather.png
  <<
<<
SplitOff10: <<
  Package: kde-panel-worldwatch
  Description: KDE - worldclock panel applet
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/*ww_panelapplet*
    share/apps/kicker/applets/kwwapplet.desktop
  <<
<<
SplitOff11: <<
  Package: %N-base
  Description: KDE - kdetoys base package
  Depends: kdebase3-ssl (>= %v-1) | kdebase3 (>= %v-1)
  Replaces: %N (<< %v-%r)
  Recommends: %N (>= %v-%r), kdebase3-ssl (>= %v-1) | kdebase3 (>= %v-1)
  Files: <<
    share/doc/kde-installed-packages/%N-base
  <<
<<

PostInstScript: <<
  env HOME=/tmp/ %p/bin/kbuildsycoca --global
<<

DescDetail: <<
Various miscellaneous toy applications for KDE.

Install the kdetoys3 package if you want to install all of the
kdetoys packages.  kdetoys3 contains:

  amor
  kaphorism
  kde-panel-eyes
  kde-panel-fifteen
  kde-panel-kmoon
  kde-panel-worldwatch
  kodo
  kteatime
  kworldclock
<<
