Package: kdesdk3
Version: 3.2.0
Revision: 1
Description: KDE - tools for developers
License: GPL/LGPL
Maintainer: Benjamin Reed <ranger@befunk.com>

Depends: cervisia (>= %v-%r), kapptemplate (>= %v-%r), kbabel (>= %v-%r), kbugbuster (>= %v-%r), kcachegrind (>= %v-%r), kdeaccounts-plugin (>= %v-%r), %N-extra-kfile-plugins (>= %v-%r), kompare (>= %v-%r), kspy (>= %v-%r), kuiviewer (>= %v-%r), poxml (>= %v-%r), scheck (>= %v-%r), umbrello (>= %v-%r), %N-scripts (>= %v-%r)
BuildDepends: arts-dev (>= 1.2.0-1), autoconf2.5 (>= 2.58-1), automake1.8, cctools (>= 446-1) | cctools-single-module, db42 | db42-ssl, dlcompat-dev (>= 20030629-5), fink (>= 0.14.0-1), flex-devel (>= 2.5.31-1), freetype2 | freetype2-hinting, gettext-dev, kdelibs3-ssl-dev (>= %v-1) | kdelibs3-dev (>= %v-1), libart2, libiconv-dev, libjpeg, libpng3 (>= 1.2.5-4), libtool14, pcre, qt3 (>= 3.2.3-1), x11-dev
Replaces: %N-dev (<< %v-1)
GCC: 3.3

Source: mirror:kde:stable/3.2/src/kdesdk-%v.tar.bz2
Source-MD5: 170baf93150c231605bec047d49d0742
Source2: mirror:custom:kde-admindir-20040126.tar.bz2
Source2-MD5: e746e3ab59cc70a6368ac85c0a31a238
Source2ExtractDir: kdesdk-%v

PatchScript: <<
  sed -e 's,@PREFIX@,%p,g' %a/%n.patch | patch -p0
  perl -pi -e 's,-O2,-Os,' admin/acinclude.m4.in
  perl -pi -e 's,doc/HTML,doc/kde,g' admin/acinclude.m4.in
<<

SetCPPFLAGS: -I%p/lib/flex/include -fno-common -no-cpp-precomp -I%p/include/freetype2 -I/usr/X11R6/include -I%p/include
SetLIBS: -L%p/lib
NoSetLDFLAGS: true
SetMAKEFLAGS: -j1
NoSetMAKEFLAGS: true
SetMACOSX_DEPLOYMENT_TARGET: 10.2
ConfigureParams: --includedir=%p/include --libdir=%p/lib --prefix=%p --with-qt-dir=%p --with-qt-includes=%p/include/qt --with-extra-libs=%p/lib --with-extra-includes=%p/include --enable-mt --with-pic --enable-rpath --enable-shared=yes --enable-static=no --mandir=%p/share/man --with-xinerama --with-pam --disable-final --with-db-name=db-4.2 --with-distribution='Fink/Mac OS X'
CompileScript: <<
#!/bin/sh -e
  mkdir -p /tmp/kde-build

# breaks a lot of plugins on 10.2, enable this again on 10.3
#  export LD_TWOLEVEL_NAMESPACE=true
  export PATH="%p/lib/flex/bin:$PATH"
  export LEX="%p/lib/flex/bin/flex"

  date > /tmp/kde-build/%N-%v-%r.cvs
  make -f admin/Makefile.common cvs 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.cvs
  date > /tmp/kde-build/%N-%v-%r.configure
  FREETYPE_CONFIG=%p/bin/freetype-config sh ./configure %c 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.configure
  date > /tmp/kde-build/%N-%v-%r.make
  find . -name \*.l -exec touch {} \;
  find . -name \*.ll -exec touch {} \;
  make all LIB_DBIV=-ldb-4.2 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.make
<<

InstallScript: <<
#!/bin/sh -e
  mkdir -p /tmp/kde-build
  mkdir -p %i/share/doc/kde-installed-packages
  touch %i/share/doc/kde-installed-packages/%N
  touch %i/share/doc/kde-installed-packages/%N-base

  date > /tmp/kde-build/%N-%v-%r.install
  make -j1 install DESTDIR=%d 2>&1 | tee -a /tmp/kde-build/%N-%v-%r.install
<<

DocFiles: COPYING README
SplitOff: <<
  Package: %N-dev
  Description: KDE - kdesdk development headers and libraries
  Depends: %N (>= %v-%r), %N-base (>= %v-%r)
  Replaces: %N (<< %v-1)
  Recommends: arts-dev (>= 1.2.0-1), autoconf2.5 (>= 2.58-1), automake1.8, dlcompat-dev (>= 20030629-5), fink (>= 0.14.0-1), kdelibs3-ssl-dev (>= %v-1) | kdelibs3-dev (>= %v-1), libart2, libjpeg, libpng3 (>= 1.2.5-4), libtool14, qt3 (>= 3.2.3-1), x11-dev
  BuildDependsOnly: true
  Files: <<
    include
  <<
<<
SplitOff2: <<
  Package: cervisia
  Description: KDE - graphical CVS client
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/cervisia
    lib/kde3/libcervisiapart*
    lib/libcvsservice*
    share/man/man1/cervisia.1
    share/applications/kde/cervisia.desktop
    share/apps/cervisia
    share/apps/cervisiapart
    share/apps/kconf_update/cervisia.upd
    share/apps/kconf_update/change_colors.pl
    share/apps/kconf_update/move_repositories.pl
    share/doc/kde/en/cervisia
    share/icons/crystalsvg/16x16/apps/cervisia.png
    share/icons/crystalsvg/22x22/apps/cervisia.png
    share/icons/crystalsvg/32x32/apps/cervisia.png
    share/icons/crystalsvg/48x48/apps/cervisia.png
    share/services/cvsservice.desktop
  <<
  Shlibs: <<
    %p/lib/libcvsservice.0.dylib 1.0.0 %n (>= 3.2.0-1)
  <<
<<
SplitOff3: <<
  Package: kapptemplate
  Description: KDE - application generator
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kapptemplate
    share/apps/kapptemplate
  <<
<<
SplitOff4: <<
  Package: kbabel
  Description: KDE - edit and manage gettext PO files
  Depends: %N-base (>= %v-%r), db42-shlibs | db42-ssl-shlibs
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/catalogmanager
    bin/kbabel*
    lib/kde3/*kbabel*
    lib/*babel*
    share/applications/kde/catalogmanager.desktop
    share/applications/kde/kbabel.desktop
    share/applications/kde/kbabeldict.desktop
    share/apps/catalogmanager
    share/apps/kbabel*
    share/doc/kde/en/kbabel*
    share/icons/crystalsvg/16x16/apps/kbabel*
    share/icons/crystalsvg/32x32/apps/kbabel*
    share/icons/crystalsvg/48x48/apps/kbabel*
    share/icons/locolor/16x16/apps/kbabel*
    share/icons/locolor/32x32/apps/kbabel*
    share/icons/crystalsvg/16x16/apps/catalogmanager.png
    share/icons/crystalsvg/32x32/apps/catalogmanager.png
    share/icons/crystalsvg/48x48/apps/catalogmanager.png
    share/icons/locolor/16x16/apps/catalogmanager.png
    share/icons/locolor/32x32/apps/catalogmanager.png
    share/services/dbsearchengine.desktop
    share/services/kbabel*
    share/services/po*.desktop
    share/services/tmxcompendium.desktop
    share/servicetypes/kbabel*
  <<
  Shlibs: <<
    %p/lib/libkbabelcommon.3.dylib 6.0.0 %n (>= 3.2.0-1)
    %p/lib/libkbabeldict.1.dylib 4.0.0 %n (>= 3.2.0-1)
  <<
<<
SplitOff5: <<
  Package: kbugbuster
  Description: KDE - bug-reporting tool
  Depends: %N-base (>= %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kbugbuster
    share/applications/kde/kbugbuster.desktop
    share/apps/kbugbuster
    share/doc/kde/en/kbugbuster
    share/icons/crystalsvg/16x16/apps/kbugbuster.png
    share/icons/crystalsvg/32x32/apps/kbugbuster.png
    share/icons/crystalsvg/48x48/apps/kbugbuster.png
    share/icons/locolor/16x16/apps/kbugbuster.png
    share/icons/locolor/32x32/apps/kbugbuster.png
  <<
<<
SplitOff6: <<
  Package: kcachegrind
  Description: KDE - profiling visualization
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kcachegrind
    share/applications/kde/kcachegrind.desktop
    share/apps/kcachegrind
    share/doc/kde/en/kcachegrind
    share/icons/hicolor/32x32/apps/kcachegrind.png
    share/icons/hicolor/48x48/apps/kcachegrind.png
    share/icons/locolor/16x16/apps/kcachegrind.png
    share/icons/locolor/32x32/apps/kcachegrind.png
    share/mimelnk/application/x-kcachegrind.desktop
  <<
<<
SplitOff7: <<
  Package: kdeaccounts-plugin
  Description: KDE - manage KDE CVS accounts
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/*kabcformat_kdeaccounts*
    share/apps/kabc/formats/kdeaccountsplugin.desktop
  <<
<<
SplitOff8: <<
  Package: kdesdk3-extra-kfile-plugins
  Description: KDE - extra kfile plugins from kdesdk
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/*kfile*
    share/services/kfile*
  <<
<<
SplitOff9: <<
  Package: kompare
  Description: KDE - graphical patch browser
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kompare
    lib/kde3/*kompare*
    lib/*kompare*
    share/applications/kde/kompare.desktop
    share/apps/kompare
    share/apps/komparepart
    share/doc/kde/en/kompare
    share/icons/crystalsvg/16x16/apps/kompare.png
    share/icons/locolor/16x16/apps/kompare.png
    share/icons/locolor/32x32/apps/kompare.png
    share/icons/crystalsvg/32x32/apps/kompare.png
    share/icons/crystalsvg/48x48/apps/kompare.png
    share/icons/crystalsvg/128x128/apps/kompare.png
    share/services/kompare*
    share/servicetypes/kompare*
  <<
  Shlibs: <<
    %p/lib/libkompareinterface.0.dylib 1.0.0 %n (>= 3.2.0-1)
  <<
<<
SplitOff10: <<
  Package: kuiviewer
  Description: KDE - preview KDE .ui files
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/kuiviewer
    lib/kde3/libkuiviewerpart*
    lib/kde3/quithumbnail*
    share/applications/kde/kuiviewer.desktop
    share/apps/kuiviewer*
    share/icons/hicolor/16x16/apps/kuiviewer.png
    share/icons/hicolor/32x32/apps/kuiviewer.png
    share/icons/hicolor/48x48/apps/kuiviewer.png
    share/icons/locolor/16x16/apps/kuiviewer.png
    share/icons/locolor/32x32/apps/kuiviewer.png
    share/services/kuiviewer_part.desktop
    share/services/designerthumbnail.desktop
  <<
<<
SplitOff11: <<
  Package: kspy
  Description: KDE - Qt/KDE application state examination
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/libkspy.*
  <<
  Shlibs: <<
    %p/lib/libkspy.1.dylib 4.0.0 kspy (>= 3.2.0-1)
  <<
<<
SplitOff12: <<
  Package: poxml
  Description: KDE - use PO files to translate DocBook XML
  Depends: %N-base (>= %v-%r), kbabel (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/po2xml
    bin/split2po
    bin/swappo
    bin/transxx
    bin/xml2pot
    lib/kde3/po*
  <<
<<
SplitOff13: <<
  Package: scheck
  Description: KDE - accelerator and style guide conflict checker
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    lib/kde3/plugins/styles/scheck*
    share/apps/kstyle/themes/scheck.themerc
  <<
<<
SplitOff14: <<
  Package: umbrello
  Description: KDE - UML modeler
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/umbrello
    share/applications/kde/umbrello.desktop
    share/apps/umbrello
    share/doc/kde/en/umbrello
    share/icons/hicolor/16x16/apps/umbrello.png
    share/icons/hicolor/16x16/mimetypes/umbrellofile.png
    share/icons/hicolor/32x32/apps/umbrello.png
    share/icons/hicolor/32x32/mimetypes/umbrellofile.png
    share/icons/locolor/16x16/apps/umbrello.png
    share/icons/locolor/16x16/mimetypes/umbrellofile.png
    share/icons/locolor/32x32/apps/umbrello.png
    share/icons/locolor/32x32/mimetypes/umbrellofile.png
    share/mimelnk/application/x-umbrello.desktop
  <<
<<
SplitOff15: <<
  Package: %N-scripts
  Description: KDE - various development-related scripts
  Depends: %N-base (>= %v-%r)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r)
  Files: <<
    bin/adddebug
    bin/build-progress.sh
    bin/cheatmake
    bin/create_*
    bin/cvs*
    bin/cxxmetric
    bin/ex*
    bin/findmissingcrystal
    bin/fixkdeincludes
    bin/includemocs
    bin/kde*
    bin/licensecheck
    bin/makeobj
    bin/noncvslist
    bin/pruneemptydirs
    bin/qtdoc
    bin/zonetab2pot.py
    share/man/man1
  <<
<<
SplitOff16: <<
  Package: %N-base
  Description: KDE - kdesdk base package
  Depends: kdebase3-ssl (>= %v-1) | kdebase3 (>= %v-1)
  Replaces: %N (<< %v-%r), %N-dev (<< %v-%r)
  Recommends: %N (>= %v-%r), kdebase3-ssl (>= %v-1) | kdebase3 (>= %v-1)
  Files: <<
    share/doc/kde-installed-packages/%N-base
  <<
<<

PostInstScript: <<
  env HOME=/tmp/ %p/bin/kbuildsycoca --global
<<

DescDetail: <<
Various tools for KDE development.

Install the kdesdk3 package if you want to install all of the
kdesdk packages.
<<
