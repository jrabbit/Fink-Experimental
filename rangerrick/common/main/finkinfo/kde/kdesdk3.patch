diff -uNr kdesdk-3.3.92/admin/ltmain.sh kdesdk-3.3.92-new/admin/ltmain.sh
--- kdesdk-3.3.92/admin/ltmain.sh	Mon Jan  3 09:54:23 2005
+++ kdesdk-3.3.92-new/admin/ltmain.sh	Sat Feb  5 17:58:17 2005
@@ -4453,6 +4453,7 @@
 	# We should set the shlibpath_var
 	rpath=
 	for dir in $temp_rpath; do
+     if test "$dir" != "@FINKPREFIX@/lib"; then
 	  case $dir in
 	  [\\/]* | [A-Za-z]:[\\/]*)
 	    # Absolute path.
@@ -4463,6 +4464,7 @@
 	    rpath="$rpath\$thisdir/$dir:"
 	    ;;
 	  esac
+     fi
 	done
 	temp_rpath="$rpath"
       fi
diff -uNr kdesdk-3.3.92/cervisia/cvsservice/Makefile.in kdesdk-3.3.92-new/cervisia/cvsservice/Makefile.in
--- kdesdk-3.3.92/cervisia/cvsservice/Makefile.in	Fri Feb  4 06:47:25 2005
+++ kdesdk-3.3.92-new/cervisia/cvsservice/Makefile.in	Sat Feb  5 17:58:17 2005
@@ -123,11 +123,11 @@
 	$(CXXFLAGS) $(KDE_CXXFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
-LTCOMPILE = $(LIBTOOL) --mode=compile --tag=CC $(CC) $(DEFS) \
+LTCOMPILE = $(LIBTOOL) --mode=compile --tag=CXX $(CC) $(DEFS) \
 	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
 	$(AM_CFLAGS) $(CFLAGS)
 CCLD = $(CC)
-LINK = $(LIBTOOL) --mode=link --tag=CC $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
+LINK = $(LIBTOOL) --mode=link --tag=CXX $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
 	$(AM_LDFLAGS) $(LDFLAGS) -o $@
 SOURCES = $(libcvsservice_la_SOURCES) $(cvsaskpass_SOURCES) \
 	$(cvsservice_SOURCES)
@@ -153,7 +153,7 @@
 AUTOHEADER = @AUTOHEADER@
 AUTOMAKE = @AUTOMAKE@
 AWK = @AWK@
-CC = @CC@
+CC = $(CXX)
 CCDEPMODE = @CCDEPMODE@
 CFLAGS = @CFLAGS@
 CONF_FILES = @CONF_FILES@
diff -uNr kdesdk-3.3.92/configure kdesdk-3.3.92-new/configure
--- kdesdk-3.3.92/configure	Fri Feb  4 06:47:42 2005
+++ kdesdk-3.3.92-new/configure	Sat Feb  5 17:58:18 2005
@@ -8246,6 +8246,19 @@
     lt_cv_sys_max_cmd_len=8192;
     ;;
 
+  netbsd* | freebsd* | openbsd* | darwin* )
+    # This has been around since 386BSD, at least.  Likely further.
+    if test -x /sbin/sysctl; then
+      lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`
+    elif test -x /usr/sbin/sysctl; then
+      lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`
+    else
+      lt_cv_sys_max_cmd_len=65536 # usable default for *BSD
+    fi
+    # And add a safety zone
+    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \/ 4`
+    ;;
+
  *)
     # If test is not a shell built-in, we'll probably end up computing a
     # maximum length that is only half of the actual maximum length, but
diff -uNr kdesdk-3.3.92/kcachegrind/kcachegrind/sourceitem.h kdesdk-3.3.92-new/kcachegrind/kcachegrind/sourceitem.h
--- kdesdk-3.3.92/kcachegrind/kcachegrind/sourceitem.h	Fri Apr  2 08:00:42 2004
+++ kdesdk-3.3.92-new/kcachegrind/kcachegrind/sourceitem.h	Sat Feb  5 17:58:18 2005
@@ -25,6 +25,7 @@
 
 #include <qlistview.h>
 #include "tracedata.h"
+#undef fileno
 
 class SourceView;
 
diff -uNr kdesdk-3.3.92/umbrello/umbrello/classparser/Makefile.in kdesdk-3.3.92-new/umbrello/umbrello/classparser/Makefile.in
--- kdesdk-3.3.92/umbrello/umbrello/classparser/Makefile.in	Fri Feb  4 06:47:30 2005
+++ kdesdk-3.3.92-new/umbrello/umbrello/classparser/Makefile.in	Sat Feb  5 17:58:18 2005
@@ -383,7 +383,7 @@
 xdg_appsdir = @xdg_appsdir@
 xdg_directorydir = @xdg_directorydir@
 xdg_menudir = @xdg_menudir@
-INCLUDES = -I../dialogs $(all_includes)
+INCLUDES = -I../dialogs -I@FINKPREFIX@/lib/flex/include $(all_includes)
 noinst_LTLIBRARIES = libclassparser.la
 libclassparser_la_SOURCES = ast.cpp driver.cpp errors.cpp lexer.cpp lookup.cpp parser.cpp tree_parser.cpp urlutil.cpp ast_utils.cpp cpptree2uml.cpp
 #>- all: all-am
