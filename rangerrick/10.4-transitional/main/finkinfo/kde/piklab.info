Package: piklab
Version: 0.7.0
Revision: 21
Description: KDE - PIC microcontroller IDE
License: GPL
Maintainer: Benjamin Reed <piklab@fink.racoonfink.com>

Depends: kdelibs3-unified-shlibs (>= 3.5.1-21), gputils, libusb-shlibs (>= 0.1.8-15)
BuildDepends: arts-dev (>= 1.5.1-21), autoconf2.5, automake1.7, cctools-single-module, fink (>= 0.24-1), fontconfig2-dev, freetype219, kdelibs3-unified-dev (>= 3.5.1-21), libart2, libidn, libpng3 (>= 1.2.5-4), libusb (>= 0.1.8-15), qt3 (>= 3.3.6-24), x11-dev
BuildConflicts: unsermake
GCC: 3.3

CustomMirror: <<
	nam-US: http://ranger.befunk.com/fink
	nam-US: http://astrange.ithinksw.net/~astrange/ranger-fink
	nam-CA: http://www.southofheaven.net/befunk
<<
Source: mirror:sourceforge:%n/%n-%v.tar.bz2
Source2: mirror:custom:kde-admindir-full-3.5.2-2.tar.bz2
Source2ExtractDir: %n-%v
Source-MD5: 78667fe1befc432b914ac9c008e659bb
Source2-MD5: b2afdafba2c416555105667c17046e32

NoSetCPPFLAGS: true
NoSetLDFLAGS: true
ConfigureParams: --prefix=%p --with-qt-dir=%p --with-qt-includes=%p/include/qt --with-extra-libs=%p/lib --with-extra-includes=%p/include --enable-mt --with-pic --enable-rpath --enable-shared=yes --enable-static=no --mandir=%i/share/man --with-xinerama --disable-final --disable-dependency-tracking
CompileScript: <<
#!/bin/sh -e

	export HOME=/tmp EH_PREFIX="%p" PREFIX="%p"
	. ./environment-helper.sh

	./build-helper.sh cvs       %N %v %r make -f admin/Makefile.common cvs
	./build-helper.sh configure %N %v %r ./configure %c
	./build-helper.sh make      %N %v %r make
<<

InstallScript: <<
#!/bin/sh -e

	export PREFIX="%p" EH_PREFIX="%p"
	. ./environment-helper.sh

	./build-helper.sh install %N %v %r make -j1 install DESTDIR=%d

	mkdir -p %i/share/doc/installed-packages
	touch %i/share/doc/installed-packages/%N

	install -d -m 755 %i/share/doc/%N
	mv docs/lplab %i/share/doc/%N/
<<
DocFiles: COPYING ChangeLog README TODO docs/*.txt

DescDetail: <<
Piklab is an integrated development environment for applications based on PIC and
dsPIC microcontrollers similar to Microchip MPLAB software.  The GNU PIC Utilities
are used for compiling assembler files.  Microchip programmers (currently only
ICD2) and several direct programmers are supported.  A command-line programmer is
also included.
<<

