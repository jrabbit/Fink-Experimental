diff -uNr kdevelop-3.2.0/languages/java/Makefile.am kdevelop-3.2.0-new/languages/java/Makefile.am
--- kdevelop-3.2.0/languages/java/Makefile.am	Thu Feb  3 18:04:17 2005
+++ kdevelop-3.2.0-new/languages/java/Makefile.am	Mon Feb 28 14:13:58 2005
@@ -9,10 +9,11 @@
 	-I$(top_srcdir)/lib/compat -I$(top_srcdir)/lib/interfaces \
 	-I$(top_srcdir)/lib/interfaces/extensions -I$(top_srcdir)/lib/interfaces/external -I$(top_srcdir)/lib/util \
 	-I$(top_builddir)/bdb/build_unix -I$(top_srcdir)/bdb/include $(all_includes)
+LDFLAGS = -L$(top_builddir)/bdb/build_unix
 
 kde_module_LTLIBRARIES = libkdevjavasupport.la
 libkdevjavasupport_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
-libkdevjavasupport_la_LIBADD = $(top_builddir)/bdb/build_unix/libdb.a $(top_builddir)/lib/libkdevelop.la $(top_builddir)/lib/antlr/src/libantlr.la $(top_builddir)/lib/catalog/libkdevcatalog.la
+libkdevjavasupport_la_LIBADD = -ldb $(top_builddir)/lib/libkdevelop.la $(top_builddir)/lib/antlr/src/libantlr.la $(top_builddir)/lib/catalog/libkdevcatalog.la
 
 libkdevjavasupport_la_SOURCES = JavaLexer.cpp KDevJavaSupportIface.cpp javasupportfactory.cpp \
 JavaRecognizer.cpp backgroundparser.cpp configproblemreporter.ui  javasupportpart.cpp \
diff -uNr kdevelop-3.2.0/languages/pascal/Makefile.am kdevelop-3.2.0-new/languages/pascal/Makefile.am
--- kdevelop-3.2.0/languages/pascal/Makefile.am	Thu Feb  3 18:04:17 2005
+++ kdevelop-3.2.0-new/languages/pascal/Makefile.am	Mon Feb 28 14:13:58 2005
@@ -3,11 +3,13 @@
 INCLUDES = -I$(top_srcdir)/lib/antlr -I$(top_srcdir)/lib/catalog \
 	-I$(top_srcdir)/lib/interfaces -I$(top_srcdir)/lib/interfaces/external -I$(top_srcdir)/lib/util \
 	-I$(top_builddir)/bdb/build_unix -I$(top_srcdir)/bdb/include $(all_includes)
+LDFLAGS = -L$(top_builddir)/bdb/build_unix
+
 SUBDIRS = file_templates app_templates compiler doc
 
 kde_module_LTLIBRARIES = libkdevpascalsupport.la
-libkdevpascalsupport_la_LDFLAGS = $(LEXLIB) $(all_libraries) $(KDE_PLUGIN)
-libkdevpascalsupport_la_LIBADD = $(top_builddir)/bdb/build_unix/libdb.a $(top_builddir)/lib/libkdevelop.la $(top_builddir)/lib/antlr/src/libantlr.la $(top_builddir)/lib/catalog/libkdevcatalog.la
+libkdevpascalsupport_la_LDFLAGS = $(all_libraries) $(KDE_PLUGIN)
+libkdevpascalsupport_la_LIBADD = -ldb $(top_builddir)/lib/libkdevelop.la $(top_builddir)/lib/antlr/src/libantlr.la $(top_builddir)/lib/catalog/libkdevcatalog.la
 
 libkdevpascalsupport_la_SOURCES = pascalsupport_part.cpp PascalLexer.cpp PascalParser.cpp PascalStoreWalker.cpp backgroundparser.cpp configproblemreporter.ui problemreporter.cpp
 
diff -uNr kdevelop-3.2.0/languages/pascal/PascalLexer.cpp kdevelop-3.2.0-new/languages/pascal/PascalLexer.cpp
--- kdevelop-3.2.0/languages/pascal/PascalLexer.cpp	Sat Nov  1 16:10:51 2003
+++ kdevelop-3.2.0-new/languages/pascal/PascalLexer.cpp	Mon Feb 28 14:13:58 2005
@@ -1,4 +1,7 @@
 /* $ANTLR 2.7.2: "pascal.g" -> "PascalLexer.cpp"$ */
+
+#include "PascalTokenTypes.hpp"
+
 #include "PascalLexer.hpp"
 #include <antlr/CharBuffer.hpp>
 #include <antlr/TokenStreamException.hpp>
diff -uNr kdevelop-3.2.0/languages/pascal/PascalParser.cpp kdevelop-3.2.0-new/languages/pascal/PascalParser.cpp
--- kdevelop-3.2.0/languages/pascal/PascalParser.cpp	Sat Nov  1 16:10:51 2003
+++ kdevelop-3.2.0-new/languages/pascal/PascalParser.cpp	Mon Feb 28 14:13:58 2005
@@ -1,4 +1,7 @@
 /* $ANTLR 2.7.2: "pascal.g" -> "PascalParser.cpp"$ */
+
+#include "PascalTokenTypes.hpp"
+
 #include "PascalParser.hpp"
 #include <antlr/NoViableAltException.hpp>
 #include <antlr/SemanticException.hpp>
diff -uNr kdevelop-3.2.0/languages/pascal/PascalStoreWalker.cpp kdevelop-3.2.0-new/languages/pascal/PascalStoreWalker.cpp
--- kdevelop-3.2.0/languages/pascal/PascalStoreWalker.cpp	Mon Jan  3 09:55:08 2005
+++ kdevelop-3.2.0-new/languages/pascal/PascalStoreWalker.cpp	Mon Feb 28 14:13:58 2005
@@ -1,4 +1,5 @@
 /* $ANTLR 2.7.2: "pascal.tree.g" -> "PascalStoreWalker.cpp"$ */
+#include "PascalStoreWalkerTokenTypes.hpp"
 #include "PascalStoreWalker.hpp"
 #include <antlr/Token.hpp>
 #include <antlr/AST.hpp>
diff -uNr kdevelop-3.2.0/languages/pascal/backgroundparser.cpp kdevelop-3.2.0-new/languages/pascal/backgroundparser.cpp
--- kdevelop-3.2.0/languages/pascal/backgroundparser.cpp	Thu Oct 30 15:57:47 2003
+++ kdevelop-3.2.0-new/languages/pascal/backgroundparser.cpp	Mon Feb 28 14:13:58 2005
@@ -9,6 +9,8 @@
  *                                                                         *
  ***************************************************************************/
 
+#include "PascalTokenTypes.hpp"
+
 #include <strstream>
 
 #include "backgroundparser.h"
diff -uNr kdevelop-3.2.0/languages/pascal/pascalsupport_part.cpp kdevelop-3.2.0-new/languages/pascal/pascalsupport_part.cpp
--- kdevelop-3.2.0/languages/pascal/pascalsupport_part.cpp	Tue Nov 16 17:15:56 2004
+++ kdevelop-3.2.0-new/languages/pascal/pascalsupport_part.cpp	Mon Feb 28 14:13:58 2005
@@ -7,6 +7,10 @@
  *   the Free Software Foundation; either version 2 of the License, or     *
  *   (at your option) any later version.                                   *
  ***************************************************************************/
+
+#include "PascalTokenTypes.hpp"
+#include "PascalStoreWalkerTokenTypes.hpp"
+
 #include <fstream>
 
 #include <qdir.h>
diff -uNr kdevelop-3.2.0/lib/catalog/Makefile.am kdevelop-3.2.0-new/lib/catalog/Makefile.am
--- kdevelop-3.2.0/lib/catalog/Makefile.am	Wed Feb 23 05:53:08 2005
+++ kdevelop-3.2.0-new/lib/catalog/Makefile.am	Mon Feb 28 14:13:58 2005
@@ -1,6 +1,8 @@
 INCLUDES = $(all_includes)
 lib_LTLIBRARIES = libkdevcatalog.la
 libkdevcatalog_la_SOURCES = tag.cpp
+libkdevcatalog_la_LIBADD  = $(LIB_QT) $(LIB_X11)
+libkdevcatalog_la_LDFLAGS = $(all_libraries) -no-undefined
 libkdevcatalog_la_LDFLAGS = $(all_libraries) -no-undefined
 libkdevcatalog_la_LIBADD = $(LIB_QT)
 
diff -uNr kdevelop-3.2.0/lib/cppparser/Makefile.am kdevelop-3.2.0-new/lib/cppparser/Makefile.am
--- kdevelop-3.2.0/lib/cppparser/Makefile.am	Fri Jan  9 15:48:40 2004
+++ kdevelop-3.2.0-new/lib/cppparser/Makefile.am	Mon Feb 28 14:13:58 2005
@@ -1,7 +1,8 @@
 INCLUDES = $(all_includes)
 AM_CXXFLAGS = -DKDEVELOP_BGPARSER
 lib_LTLIBRARIES = libkdevcppparser.la
-libkdevcppparser_la_LDFLAGS = $(all_libraries)
+libkdevcppparser_la_LIBADD  = $(LIB_QT) $(LIB_KDECORE)
+libkdevcppparser_la_LDFLAGS = $(all_libraries) $(KDE_RPATH) -no-undefined
 libkdevcppparser_la_SOURCES = ast.cpp driver.cpp errors.cpp lexer.cpp lookup.cpp parser.cpp tree_parser.cpp
 
 kdevcppparserincludedir = $(includedir)/kdevelop/cppparser
diff -uNr kdevelop-3.2.0/src/main.cpp kdevelop-3.2.0-new/src/main.cpp
--- kdevelop-3.2.0/src/main.cpp	Thu Feb  3 18:04:22 2005
+++ kdevelop-3.2.0-new/src/main.cpp	Mon Feb 28 14:14:00 2005
@@ -28,7 +28,7 @@
     { 0,0,0 }
 };
 
-int main(int argc, char *argv[])
+extern "C" int kdemain(int argc, char *argv[])
 {
   static const char description[] = I18N_NOOP("The KDevelop Integrated Development Environment");
   KAboutData aboutData("kdevelop", I18N_NOOP("KDevelop"),
diff -uNr kdevelop-3.2.0/src/main_assistant.cpp kdevelop-3.2.0-new/src/main_assistant.cpp
--- kdevelop-3.2.0/src/main_assistant.cpp	Thu Feb  3 18:04:22 2005
+++ kdevelop-3.2.0-new/src/main_assistant.cpp	Mon Feb 28 14:14:00 2005
@@ -28,7 +28,7 @@
     { 0,0,0 }
 };
 
-int main(int argc, char *argv[])
+extern "C" int kdemain(int argc, char *argv[])
 {
   static const char description[] = I18N_NOOP("The KDevelop Integrated Development Environment:\nassistant and documentation viewer");
   KAboutData aboutData("kdevassistant", I18N_NOOP("KDevelop Assistant"),
