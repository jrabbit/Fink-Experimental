Package: ikvm
Version: 0.26.0.1
Revision: 1021
Description: Java implementation for .Net
License: BSD
Maintainer: Benjamin Reed <ikvm@fink.racoonfink.com>

Depends: mono (>= 1.1.15-1)
BuildDepends: mono-dev (>= 1.1.14-1021), nant (>= 0.85-1032), ecj (>= 3.1.2-1021)
Suggests: monodevelop (>= 0.9-1023)

Source: mirror:sourceforge:%n/%n-%v.zip
Source2: mirror:gnu:classpath/classpath-0.90.tar.gz
Source3: http://go-mono.com/sources/%n/%n-0.14.tar.gz
Source-MD5: 28256475eb69b7a215b512e6aff799c5
Source2-MD5: cf5aaaf07fe43567fa605b33165355d7
Source3-MD5: 042e49520251f9c76c0180cc2437a0b4
Patch: %n.patch

SetCPPFLAGS: -I%p/include
SetLIBS: -L%p/lib
SetMAKEFLAGS: -j1
NoSetCPPFLAGS: true
NoSetLDFLAGS: true
NoSetMAKEFLAGS: true
ConfigureParams: --mandir=%p/share/man --disable-dependency-tracking --libdir=%p/lib
CompileScript: <<
#!/bin/sh -ev

	pushd ../%n-0.14
	./configure %c
	make
	popd

	export MONO_PATH=`pwd`/bin:$MONO_PATH

	nant
<<

InstallScript: <<
#!/bin/sh -ev

	export MONO_PATH=`pwd`/bin:$MONO_PATH

	pushd ../%n-0.14
	make install DESTDIR=%d
	popd

	perl -pi -e 's,0.14,%v,g' %i/lib/pkgconfig/*.pc

	rm -rf %i/lib/%n/{*.exe,*.dll}
	install -c -m 755 bin/*.exe bin/IKVM*.dll %i/lib/%n/
<<
DocFiles: LICENSE THANKYOU website/*.txt

Homepage: http://go-mono.com/
DescDetail: <<
IKVM.NET is an implementation of Java for Mono and the Microsoft
.NET Framework.  It includes the following components:

	  * A Java Virtual Machine implemented in .NET
	  * A .NET implementation of the Java class libraries
	  * Tools that enable Java and .NET interoperability
<<

