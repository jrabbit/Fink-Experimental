Package: clisp
# IMPORTANT: see DescPackaging before changing this package's version or 
# revision
Version: 2.41
Revision: 1
License: GPL
Description: ANSI Common Lisp implementation
Maintainer: Lars Rosengreen <lrosengreen@gmail.com>

Depends: readline5-shlibs, libgettext3-shlibs, libsigsegv-shlibs
BuildDepends: readline5, libgettext3-dev, libsigsegv

Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: 99c355b828ced05771cd44b86251d155

Patch: %n.patch

GCC: 4.0
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
ConfigureParams: --with-readline --with-gettext
CompileScript: <<
  ./configure %c
  cd src ; ./makemake %c > Makefile ; make config.lisp ; make
<<

InfoTest: <<
  TestScript: cd src; (make check-recompile && make check-tests) || exit 2
<<

InstallScript: cd src; make DESTDIR=%d install

DescDetail: <<
A feature loaded common lisp programming environment with unicode
support, excellent ANSI compliance, and a full-featured MOP.
<<

DescPackaging: <<
Fink's maxima package has a dependency on this package. This is necessary
because in fink, maxima uses clisp as its host lisp. As part of maxima's build
process, it dumps a new lisp image. This image will only work reliably if it
is used with a clisp kernel of the same verison built under the same
conditions. In other words, the version of clisp used to run maxima must be
exactly the same as the version used to build maxima.  Any time you change
clisp's version or revision, you must also change the versioned dependency in
fink's maxima package (and of course also bump maxima's revision).  
<<

Homepage: http://clisp.cons.org
