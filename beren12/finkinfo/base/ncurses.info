Package: ncurses
Version: 5.3-20031018
Revision: 500
GCC: 3.3
Source: mirror:sourceforge:fink/%n-5.3.tar.gz
Source-MD5: 5dcc9faa93157eafa572494bffed131a
Source2: mirror:sourceforge:fink/%n-5.3-20031004-patch.sh.bz2
Source2-MD5: 3c1d1c4c78a4e2b9d99924ba8aa2a608
Source2ExtractDir: %n-5.3
PatchScript: <<
  #!/bin/sh -e
  bunzip2 %n-5.3-20031004-patch.sh.bz2
  chmod +x %n-5.3-20031004-patch.sh
  ./%n-5.3-20031004-patch.sh
  echo "***********************************************************************"
  patch -p1 < %a/%n.patch
  perl -p -i.bak -e 's|tic\$suffix|tic\$suffix -x|;' misc/run_tic*
  echo "***********************************************************************"
<<
BuildDepends: fink (>= 0.13.0)
ConfigureParams: --without-ada --without-debug --with-shared --with-debug --enable-termcap --mandir=%p/share/man --with-terminfo-dirs="%p/share/terminfo:/usr/share/terminfo" --with-default-terminfo-dir="%p/share/terminfo" --enable-no-padding --enable-sigwinch --enable-tcap-names --enable-hard-tabs
NoSetCFLAGS: true
NoSetLDFLAGS: true
SetLDFLAGS: -Wl,-search_paths_first
CompileScript: <<
  #!/bin/sh -e
  ./configure %c
  make -j1
<<
InstallScript: <<
  #!/bin/sh -e
  make install DESTDIR=%d DYLD_LIBRARY_PATH=`pwd`/lib
  rm -rf %I/bin %I/share/man %I/share/terminfo %I/share/tabset %I/lib/terminfo

<<
SplitOff: <<
 Package: %N-shlibs
 Replaces: %N (<= 5.3-1)
 Depends: base-files
 Essential: true
 InstallScript: <<
  #!/bin/sh -e

  mkdir -p %i/lib
  mv %I/lib/libform.*.dylib %I/lib/libmenu.*.dylib %I/lib/libncurses.*.dylib %I/lib/libpanel.*.dylib %i/lib

 <<
Description: Transition for old ncurses package
<<
SplitOff2: <<
 Package: %N-dev
 Depends: %N-shlibs (= %v-%r)
 Replaces: %N (<= 5.3-1), ncurses5-dev
 Conflicts: ncurses5-dev
 BuildDependsOnly: True
 Files: include lib/libform.dylib lib/libmenu.dylib lib/libncurses.dylib lib/libpanel.dylib lib/*.a
 Description: Development files for ncurses package
<<

DocFiles: README ANNOUNCE NEWS INSTALL TO-DO MANIFEST
Description: Full-screen ascii drawing library
DescDetail: This is for backword compat only, purge as soon as an update-all has been done
DescPort: <<
The -no-cpp-precomp is strictly needed.
More changes by Chris Zubrzycki to be more compatable with apple's lib
-udates to the (sometimes) monthly releases of ncurses (in patch form)
<<
DescPackaging: <<
First revision by David Ross.
Previous versions by Christoph Pfisterer.
<<
License: OSI-Approved
Maintainer: Chris Zubrzycki <beren12@users.sourceforge.net>
Homepage: http://www.gnu.org/software/ncurses/ncurses.html
