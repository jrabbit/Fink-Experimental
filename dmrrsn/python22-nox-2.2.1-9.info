Package: python22-nox
Version: 2.2.1
Revision: 9
Maintainer: Jeffrey Whitaker <jsw@cdc.noaa.gov>
Depends: %N-shlibs (= %v-%r) | python22-shlibs (= %v-%r)
Conflicts: python22, python (<= 2.2.1-8), python-unstable, python-nox-unstable
Replaces: python22, python (<= 2.2.1-8), python-nox (<= 2.2.1-8), python-unstable, python-nox-unstable
Provides: python
BuildDepends: readline (>= 4.3-5), db3 (>= 3.3.11-8), gdbm (>= 1.8.0-4), gmp, libpoll, expat
Source: http://python.org/ftp/python/%v/Python-%v.tgz
PatchScript: (sed 's|<PREFIX>|%p|g' < %a/%f.patch | patch -p1)
ConfigureParams: --mandir='${prefix}/share/man'
GCC: 3.1
CompileScript: (export OPT="-O3 -Wall -Wstrict-prototypes -fno-common"; export HOME=""; ./configure %c; make)
InstallScript: <<
 make install prefix=%i 
 (cd %i/bin; ln -s %p/bin/python pythonx)
 (cd Misc; /bin/rm -rf RPM)
 mkdir -p %i/share/doc/%n
 cp -R Demo Doc %i/share/doc/%n
 cp -R Misc Tools %i/lib/python2.2
 cc -dynamiclib -all_load -framework System -framework CoreServices -framework Foundation %i/lib/python2.2/config/libpython2.2.a -o %i/lib/python2.2/config/libpython2.2.dylib -install_name %p/lib/python2.2/config/libpython2.2.dylib -current_version %v -compatibility_version 2.2 -L%p/lib -ldl
 (cd %i/lib/python2.2/config; mv Makefile Makefile.orig; sed 's|-fno-common||g' < Makefile.orig > Makefile; /bin/rm -f Makefile.orig)
<<
SplitOff: <<
 Package: %N-shlibs
 Depends: readline-shlibs (>= 4.3-5), dlcompat, expat-shlibs, gdbm-shlibs (>= 1.8.0-4), gmp-shlibs, db3-shlibs (>= 3.3.11-8), libpoll-shlibs
 Conflicts: python22-shlibs
 Replaces: python22--shlibs, python (<= 2.2.1-8), python-nox (<= 2.2.1-8), python-unstable, python-nox-unstable
 Files: lib/python2.2/config/libpython2.2.dylib
 Shlibs: %p/lib/python2.2/config/libpython2.2.dylib %n (>= %v-%r) | python22 (>= 2.2.1-9)
 DocFiles: README LICENSE 
<<
SplitOff2: <<
 Package: python-nox
 Depends: python22-nox
 Conflicts: python
 Replaces: python
 Files: bin/pydoc bin/python share/man/man1/python.1
 DocFiles: README LICENSE
 <<
DocFiles: README LICENSE 
Description: Interpreted, object-oriented language. 
DescDetail: <<
 Python is often compared to Tcl, Perl, Scheme or Java. 
 This package installs unix python - not the OSX Framework version.
 Builds a two-level namespace dynamic libpython (needed for koffice).
<<
DescPackaging: All available extension modules are built, except ssl.
License: OSI-Approved
Homepage: http://www.python.org
