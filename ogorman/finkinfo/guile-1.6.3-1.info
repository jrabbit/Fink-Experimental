Package: guile
Version: 1.6.3
Revision: 1
BuildDepends: dlcompat-dev, readline
Depends: guile16-shlibs (= %v-%r)
Source: gnu
Source-MD5: d29bd197ef776b339d942d82d8ba8bdf
Patch: %f.patch
ConfigureParams: --infodir=%p/share/info
NoSetCPPFLAGS: true
NoSetLDFLAGS: true
SetCPPFLAGS: -no-cpp-precomp -Dmacosx
CompileScript: <<
#! /bin/sh -ex
  export LIBRARY_PATH=/sw/lib
  export CPATH=/sw/include
  export DYLD_LIBRARY_PATH=/sw/lib
  ./configure %c
  echo "#undef LTDL_DLOPEN_DEPLIBS" >> config.h
  echo "#define LTDL_SHLIB_EXT \".so\"" >> config.h
  make
<<
InstallScript: <<
 make install DESTDIR=%d
<<
SplitOff: <<
  Package: guile16-shlibs
  Depends: dlcompat-shlibs, readline-shlibs
  Replaces: %N (<< 1.6.1)
  Files: <<
    lib/libguile.*.dylib
    lib/libguile-srfi-srfi-13-14-v-1.*.dylib
    lib/libguile-srfi-srfi-4-v-1.*.dylib
    lib/libguilereadline-v-12.*.dylib
    lib/libguile-ltdl.1.0.0.dylib
    lib/libguile-ltdl.1.dylib
  <<
  DocFiles: README COPYING AUTHORS NEWS THANKS
  Shlibs: <<
  %p/lib/libguilereadline-v-12.12.3.0.dylib 16.0.0 %n (>= 1.6.3-1)
  %p/lib/libguile-srfi-srfi-13-14-v-1.1.dylib 2.0.0 %n (>= 1.6.3-1)
  %p/lib/libguile-srfi-srfi-4-v-1.1.dylib 2.0.0 %n (>= 1.6.3-1)
  %p/lib/libguile.12.dylib 16.0.0 %n (>= 1.6.3-1)
  %p/lib/libguile-ltdl.1.dylib 2.0.0 %n (>= 1.6.3-1)
  <<
<<
SplitOff2: <<
  Package: guile16-dev
  BuildDependsOnly: True
  Depends: guile16-shlibs (= %v-%r)
  Replaces: %N (<< 1.6.3-1), guile-dev
  Conflicts: guile-dev
  Files: <<
    bin/guile-config
    include
    share/aclocal
    lib/libguile.a
    lib/libguile-srfi-srfi-13-14-v-1.a
    lib/libguile-srfi-srfi-4-v-1.a
    lib/libguilereadline-v-12.a
    lib/libguile.la
    lib/libguile-srfi-srfi-13-14-v-1.la
    lib/libguile-srfi-srfi-4-v-1.la
    lib/libguilereadline-v-12.la
    lib/libguile.dylib
    lib/libguile-srfi-srfi-13-14-v-1.dylib
    lib/libguile-srfi-srfi-4-v-1.dylib
    lib/libguilereadline-v-12.dylib
    lib/libguile-ltdl.dylib
    lib/libguile-ltdl.la
    lib/libguile-ltdl.a
  <<
  DocFiles: README COPYING AUTHORS NEWS THANKS
<<
DocFiles: README COPYING AUTHORS HACKING NEWS THANKS
InfoDocs: guile.info guile-tut.info goops.info r5rs.info
#
Description: Embedable Scheme interpreter
DescPort: <<
Thread support currently disabled (configure's default).
"borrowed" a patch from darwinports to posix.c makes it
pass make check.
Patched libtool to make it build two level namespace and
ensure it links against the just built libs.
<<
License: GPL
Homepage: http://www.gnu.org/software/guile/guile.html
#Maintainer: David Bacher <drbacher@alum.mit.edu>
Maintainer: Peter O'Gorman <peter@pogma.com>