Package: freefem++
Version: 1.41
Revision: 1
Source: http://www.ann.jussieu.fr/~hecht/ftp/freefem/%n-%v.tar.gz
Source-MD5: 139af27cd4eb09e516c707e17c530c7a
Source2: http://www.caam.rice.edu/software/ARPACK/SRC/arpack96.tar.gz
Source2-MD5: fffaa970198b285676f4156cebc8626e
Source2ExtractDir: %n-%v/download/arpack
Source3: http://www.caam.rice.edu/software/ARPACK/SRC/patch.tar.gz
Source3-MD5: 14830d758f195f272b8594a493501fa2
Source3Rename: arpack96-patch.tar.gz
Source3ExtractDir: %n-%v/download/arpack
Source4: http://www.cise.ufl.edu/research/sparse/umfpack/v4.3/UMFPACKv4.3.tar.gz
Source4-MD5: f9d753fbd1922ec7f3d04157970182ab
Source4ExtractDir: %n-%v/download/umfpack
PatchScript: <<
 perl -pi.bak -e 's|G2CLIB=.*|G2CLIB=-L%p -lg2c|g' configure
<<
Depends: g77, x11, x11-shlibs
BuildDepends: x11-dev
ConfigureParams: --enable-download
CompileScript: <<
 ./configure %c
# we trick make into thinking it dowwnloaded the tarballs itself
 tar zcf download/arpack/arpack96.tar.gz NEWS
 tar zcf download/arpack/patch.tar.gz NEWS
 tar zcf download/umfpack/UMFPACKv4.3.tar.gz NEWS
 cd download; make
 cd src; make
# cd DOC; make
<<   
InstallScript: <<
#!/bin/sh -e
 mkdir -p %i/share/doc/%n %i/bin %d/Applications/Fink
 mkdir -p %i/Applications/FreeFem++.app/Contents/MacOS
 cp -R examples* %i/share/doc/%n
 cp -r FreeFem++.app %i/Applications
 cd src
 cp agl/FreeFem++-agl %i/Applications/FreeFem++.app/Contents/MacOS/FreeFem++
 cp agl/FreeFem++-agl %i/Applications/FreeFem++.app/Contents/Resources/FreeFem++
 ln -s %p/Applications/FreeFem++.app %d/Applications/Fink/
 cp agl/FreeFem++-agl glx/FreeFem++-glx nw/FreeFem++-nw std/FreeFem++ %i/bin
 sed 's|/App|%p/App|g' FreeFem++-CoCoa > %i/bin/FreeFem++-CoCoa
 chmod +x %i/bin/FreeFem++-CoCoa
<< 
License: Restrictive/Distributable 
DocFiles: COPYING ChangeLog HISTORY README BUGS TODO DOC/manual.pdf 
Description: Finite element program
DescDetail: << 
Freefem is a program for solving numerically partial differential equations. 
As its name tells, it is public domain software based on the Finite Element 
Method. This software runs on all Unix OS, on Window95, 98, 2000, NT, XP and 
on MacOS9 and X.

Many phenomena involve several different fields. Fluid-structure
interactions, Lorentz forces in liquid aluminium and ocean-atmosphere
problems are three such systems. These require approximations of different
degrees possibly on different meshes. Some algorithms such as Schwarz'
domain decomposition method require also the interpolation of data on
different meshes within one program. Freefem++ can handle these
difficulties: Arbitrary finite element spaces on arbitrary unstructured and
adaptated meshes.

The characteristics of freefem++ are:
- Many finite elements : linear and quadratic Lagrangian elements, 
  discontinuous P1 and Raviart-Thomas elements, mini-element, ...
- Automatic interpolation of data on different meshes to a super mesh
- Definition of the linear problem with a formal variational form with 
  access to the vectors and the matrix
- Tools to define discontinuous Galerkin formulations
- Automatic 2D mesh generator, based on the Delaunay-Voronoi algorithm 
- Anisotropic mesh adaptation 
- LU, Cholesky, Crout, CG, GMRES, UMFPACK linear solvers, and eigenvalue 
  and eigenvector computations using ARPACK
- Online graphics using either X11 or Aqua windows, C++ like syntax
- Lots of examples
<<
DescUsage: <<
 Three binaries are installed:
- FreeFem++:       Uses X11 windows for graphics
- FreeFem++-Cocoa: Uses Aqua windows for graphics
- FreeFem++-nw:    No graphics
 The FreeFem++.app in /Applications/Fink uses Aqua windows for graphics.
 It is equivalent to FreeFem++-Cocoa, but *.edp files can also be 
 double-clicked or dropped on the app icon. 
 Many examples and the manual in pdf form are in %p/share/doc/%n.
<<
DescPackaging: <<
 The *.app is copied to %p/Applications with a symlink in /Applications/Fink.

 No mpi.

 There exists also a precompiled version for MacOSX on the web server.
<<
DescPort: <<
 This version is for the first time based on gnu auto tools.
 It knows about MacOSX, but it is too intelligent by half and
 make install is badly broken.
 We have to circumvent some of configure's logic, and we don't use
 make install.
<<
Maintainer: Martin Costabel <costabel@wanadoo.fr>
Homepage: http://www.freefem.org/
