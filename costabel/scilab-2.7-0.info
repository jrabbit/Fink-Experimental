Package: scilab
Version: 2.7
Revision: 0
Maintainer: Jeffrey Whitaker <jsw@cdc.noaa.gov>
BuildDepends: dlcompat-dev
Depends: g77 (>= 3.1-20020420-1),  dlcompat
Conflicts: scilab-atlas
Replaces: scilab-atlas
Source: ftp://ftp.inria.fr/INRIA/Projects/Meta2/Scilab/distributions/%n-%v.src.tar.gz
SourceDirectory: scilab-%v
Source-MD5: e8aa1ede5efa20eeced284963d08bebb
ConfigureParams: --with-g77
CompileScript: <<
 ./configure %c
 make all
<< 
#(cd routines/metanet; mv Makefile Makefile.orig; sed 's|FFLAGS = $(FC_OPTIONS)|FFLAGS = -O1|g' < Makefile.orig > Makefile)
InstallScript: <<
 mkdir -p %i/lib
 mkdir -p %i/bin
rm -f man/eng/*/*.xml
rm -f man/fr/*/*.xml
mkdir -p %i/lib/%n-%v/man
mv man/eng %i/lib/%n-%v/man/
mv man/fr  %i/lib/%n-%v/man/
 make install LIBPREFIX=%i/lib
 ln -fs %p/lib/%n-%v/bin/scilab %i/bin/scilab
 ln -fs %p/lib/%n-%v/bin/intersci %i/bin/intersci
 ln -fs %p/lib/%n-%v/bin/intersci-n %i/bin/intersci-n
<< 
PostInstScript: (cd %p/lib/%n-%v; make)
Docfiles: ACKNOWLEDGEMENTS license.txt README_Unix CHANGES
Description: Software package for numerical computations
DescPort: <<
 Almost no tricks needed. The only problem comes from the install script
 that uses tar to move the files. The original version gives
 /sw/bin/tar: Argument list too long.
 There are too many htm files in man/eng and man/fr, so we move them 
 separately. 
<<
License: OSI-Approved
Homepage: http://www-rocq.inria.fr/scilab/
