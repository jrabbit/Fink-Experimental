Package: aqbanking
Version: 2.2.0
Revision: 1
Description: Online banking interface
License: GPL
Maintainer: Sebastien Maret <bmaret@users.sourceforge.net>
Depends: <<
  %N-shlibs (= %v-%r), atk1-shlibs, glib2-shlibs, gtk+2-shlibs,
  gwenhywfar-shlibs, libgettext3-shlibs, libglade2-shlibs, libiconv,
  libofx1-shlibs, libxml2-shlibs, pango1-xft2-shlibs, qt3-shlibs,
  x11-shlibs
<<
BuildDepends: <<
  system-openssl-dev, atk1, gettext-bin, gettext-tools, glib2-dev,
  gtk+2-dev, gwenhywfar (>= 2.3.1-1), libofx1 (>= 0.8.0),
  libgettext3-dev, libglade2, libiconv-dev, libxml2, libiconv-dev,
  libofx1, pango1-xft2-dev, qt3, x11-dev
<<
Source: mirror:sourceforge:%n/%n-%v.tar.gz
Source-MD5: 0908d3de2b7bfa256a626ce8ab7c5e80
PatchScript:<<
  perl -i.bak -p -e 's/qt_searchname=\"lib\$\{qt_libname\}\$\{std_shrext\}\.3\"/qt_searchname=\"lib\$\{qt_libname\}\.3\.dylib\"/' configure
<<
ConfigureParams: --with-qt3-includes=%p/include/qt --with-qt3-libs=%p/lib --disable-dependency-tracking --with-backends="aqhbci aqdtaus aqofxconnect" --with-frontends="cbanking g2banking qbanking"
CompileScript: <<
#!/bin/sh -ev
export LIBRARY_PATH=%p/lib
./configure %c
find . -name Makefile | xargs perl -pi -e "s|-L%p/lib||g"
make
<<
InstallScript: <<
make install DESTDIR=%d
find %i -name "*.la" | xargs perl -pi -e "s|-L%b/([^\s\']*)||g"
<<
DocFiles: README COPYING
Shlibs: <<
  %p/lib/libaqbanking.16.3.0.dylib 20.0.0 %n (>= 2.2.0-1)
  %p/lib/libaqdtaus.3.0.0.dylib 4.0.0 %n (>= 2.2.0-1)
  %p/lib/libaqhbci.10.1.0.dylib 12.0.0 %n (>= 2.2.0-1)
  %p/lib/libaqnone.0.0.0.dylib 1.0.0 %n (>= 2.2.0-1)
  %p/lib/libaqofxconnect.3.0.0.dylib 4.0.0 %n (>= 2.2.0-1)
  %p/lib/libcbanking.16.3.0.dylib 20.0.0 %n (>= 2.2.0-1)
  %p/lib/libg2banking.2.0.0.dylib 3.0.0 %n (>= 2.2.0-1)
  %p/lib/libqbanking.4.0.0.dylib 5.0.0 %n (>= 2.2.0-1)
<<
SplitOff: <<
  Package: %N-shlibs
  Files: <<
    lib/aqbanking
    lib/gwenhywfar/plugins
    lib/libaqbanking.16.dylib
    lib/libaqbanking.16.3.0.dylib
    lib/libaqdtaus.3.dylib
    lib/libaqdtaus.3.0.0.dylib
    lib/libaqhbci.10.dylib
    lib/libaqhbci.10.1.0.dylib
    lib/libaqnone.0.dylib
    lib/libaqnone.0.0.0.dylib
    lib/libaqofxconnect.3.dylib
    lib/libaqofxconnect.3.0.0.dylib
    lib/libcbanking.16.dylib
    lib/libcbanking.16.3.0.dylib
    lib/libg2banking.2.dylib
    lib/libg2banking.2.0.0.dylib
    lib/libqbanking.4.0.0.dylib
    lib/libqbanking.4.dylib
  <<
  DocFiles: COPYING
<<
SplitOff2: <<
  Package: %N-bin
  Files: <<
    bin/
  <<
  DocFiles: COPYING
<<  
DescDetail: <<
AqBanking is a generic online banking interface. It allows multiple
backends (currently HBCI) and multiple frontends (e.g. KDE, GNOME,
console) to be used.
<<
DescPort: <<
The author doesn't seem to like using .la's in Makefile.am, causing
the wrong library to be linked if an installed library is
available. So we must remove all -L%p/lib from the generated Makefiles
and set LIBRARY_PATH so that %p/lib comes last.
<<
DescPackaging: <<
KDE frontend disabled to avoid KDE dependency. AqGeldKarte backend
is also disabled because it depends on libchipcard2 which is not 
packaged yet.
<<
Homepage: http://aqbanking.sourceforge.net/
