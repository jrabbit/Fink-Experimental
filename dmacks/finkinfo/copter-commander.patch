diff -Nurd -x'*~' copter-commander-1.8.orig/Makefile copter-commander-1.8/Makefile
--- copter-commander-1.8.orig/Makefile	2002-02-08 17:12:31.000000000 -0500
+++ copter-commander-1.8/Makefile	2003-11-12 07:29:44.000000000 -0500
@@ -54,10 +54,10 @@
 
 
 # INSTALLATION LOCATIONS
-COCO_INSTALL_DIRECTORY=/usr/local
+COCO_INSTALL_DIRECTORY=@PREFIX@
 COCO_BIN_DIRECTORY=${COCO_INSTALL_DIRECTORY}/bin
 COCO_SHARE_DIRECTORY=${COCO_INSTALL_DIRECTORY}/share/copter-commander/${COCO_MAJOR_VERSION}.${COCO_MINOR_VERSION}
-COCO_DOC_DIRECTORY=${COCO_SHARE_DIRECTORY}/doc
+COCO_DOC_DIRECTORY=${COCO_INSTALL_DIRECTORY}/share/doc/copter-commander
 COCO_LEVEL_DIRECTORY=${COCO_SHARE_DIRECTORY}/levels
 COCO_SOUND_DIRECTORY=${COCO_SHARE_DIRECTORY}/sounds
 
@@ -65,7 +65,7 @@
 
 # Mesa-derived OpenGLs won't be able to run on some machines without
 # libpthread thrown in.  See ./pthread-why.txt.
-COCO_BASIC_LIBS= -lm -lpthread
+COCO_BASIC_LIBS= -lpthread
 
 # GII: General Input Interface (optional & experimental)
 # If support for GII is compiled in, it may be possible to get
@@ -83,19 +83,19 @@
 COCO_X11_INCLUDE_DIRECTORY=/usr/X11R6/include
 
 # GtkGLArea (copter-commander only)
-COCO_GTKGLAREA_LIB_DIRECTORY=/usr/lib
-COCO_GTKGLAREA_INCLUDE_DIRECTORY=/usr/include
+COCO_GTKGLAREA_LIB_DIRECTORY=@PREFIX@/lib
+COCO_GTKGLAREA_INCLUDE_DIRECTORY=@PREFIX@/include
 
 # Gnome (handled by the gnome-config script)
 
 # OpenGL (According to http://oss.sgi.com/projects/ogl-sample/ABI, these
 # should be as shown, if not, consider making a symlink)
-COCO_GL_LIB_DIRECTORY=/usr/lib
-COCO_GL_INCLUDE_DIRECTORY=/usr/include
+COCO_GL_LIB_DIRECTORY=/usr/X11R6/lib
+COCO_GL_INCLUDE_DIRECTORY=/usr/X11R6/include
 
 # LibTIFF image library
-COCO_LIBTIFF_LIB_DIRECTORY=/usr/lib
-COCO_LIBTIFF_INCLUDE_DIRECTORY=/usr/include
+COCO_LIBTIFF_LIB_DIRECTORY=@PREFIX@/lib
+COCO_LIBTIFF_INCLUDE_DIRECTORY=@PREFIX@/include
 
 # Sound Support
 # Select the sound technique that works for you, valid values are 
@@ -112,8 +112,8 @@
 COCO_OPENAL_INCLUDE_DIRECTORY=/usr/local/include
 
 # ESD sound library (only used if COCO_SOUND=esd)
-COCO_ESD_LIB_DIRECTORY=/usr/lib
-COCO_ESD_INCLUDE_DIRECTORY=/usr/include
+COCO_ESD_LIB_DIRECTORY=@PREFIX@/lib
+COCO_ESD_INCLUDE_DIRECTORY=@PREFIX@/include
 COCO_ESD_LIBS=-lesd
 
 
@@ -127,8 +127,8 @@
 # Files that bring in gnomish headers must use CFLAGS_UNANSI.
 CFLAGS_UNANSI=-Wall ${COCO_OPTIMIZATION_FLAGS}
 # While everything else uses CFLAGS.
-CFLAGS=-ansi -pedantic ${CFLAGS_UNANSI}
-# CFLAGS=${CFLAGS_UNANSI}
+# CFLAGS=-ansi -pedantic ${CFLAGS_UNANSI}
+CFLAGS=${CFLAGS_UNANSI}
 
 # COMMON LISP COMPILER
 # (Only needed to do development, not to compile from distribution)
@@ -350,11 +350,13 @@
 	  `gnome-config --cflags gnomeui`
 
 client.o: client.c
-	${CC} ${CFLAGS_UNANSI} -c client.c ${COCO_GII_INCLUDE_ARGUMENTS}
+	${CC} ${CFLAGS_UNANSI} -c client.c ${COCO_GII_INCLUDE_ARGUMENTS} \
+	  -I${COCO_GL_INCLUDE_DIRECTORY}
 
 screenshot.o: screenshot.c 
 	${CC} ${CFLAGS} -c screenshot.c -o $@ \
-          -I${COCO_LIBTIFF_INCLUDE_DIRECTORY}
+          -I${COCO_LIBTIFF_INCLUDE_DIRECTORY} \
+          -I${COCO_GL_INCLUDE_DIRECTORY}
 
 # build other objects the standard way
 %.o: %.c 
@@ -483,7 +485,6 @@
 	  ${COCO_LEVEL_DIRECTORY} \
 	  ${COCO_SOUND_DIRECTORY} ;\
 	install copter-commander ${COCO_BIN_DIRECTORY} ;\
-	install glx-copter-commander ${COCO_BIN_DIRECTORY} ;\
 	install -m u=rw,go=r keybindings.txt manual.txt copyright ${COCO_DOC_DIRECTORY} ;\
 	install -m u=rw,go=r levels/*.ccl ${COCO_LEVEL_DIRECTORY} ;\
 	install -m u=rw,go=r levels/*.cct ${COCO_LEVEL_DIRECTORY} ;\
diff -Nurd -x'*~' copter-commander-1.8.orig/ccl.c copter-commander-1.8/ccl.c
--- copter-commander-1.8.orig/ccl.c	2001-07-17 15:04:37.000000000 -0400
+++ copter-commander-1.8/ccl.c	2003-11-12 06:44:10.000000000 -0500
@@ -25,8 +25,6 @@
 #include <errno.h>
 #include <assert.h>
 #include <string.h> /* for strlen */
-#include <alloca.h> /* for alloca.  Normally stdlib would get it, but
-                       we're compiling -ansi */
 #include "coco.h"
 
 
@@ -901,4 +899,3 @@
   else coco_cookie( "ccl_test done.  No errors detected.\n", error );
 }
 #endif /* COCO_IGNORE */
-
diff -Nurd -x'*~' copter-commander-1.8.orig/clsho.c copter-commander-1.8/clsho.c
--- copter-commander-1.8.orig/clsho.c	2001-12-19 13:49:07.000000000 -0500
+++ copter-commander-1.8/clsho.c	2003-11-12 05:16:45.000000000 -0500
@@ -18,7 +18,6 @@
  */
 
 #include <string.h>
-#include <alloca.h>
 #include <assert.h>
 #include <stdlib.h>             /* for exit */
 #include "coco.h"
diff -Nurd -x'*~' copter-commander-1.8.orig/dashboard.c copter-commander-1.8/dashboard.c
--- copter-commander-1.8.orig/dashboard.c	2001-07-11 22:44:43.000000000 -0400
+++ copter-commander-1.8/dashboard.c	2003-11-12 05:57:06.000000000 -0500
@@ -19,6 +19,7 @@
 
 
 #include <math.h> /* sin and cos */
+#include <string.h>
 #include <GL/gl.h>
 #include <assert.h>
 #include "coco.h"
diff -Nurd -x'*~' copter-commander-1.8.orig/gamesho.c copter-commander-1.8/gamesho.c
--- copter-commander-1.8.orig/gamesho.c	2002-02-08 15:40:57.000000000 -0500
+++ copter-commander-1.8/gamesho.c	2003-11-12 05:21:04.000000000 -0500
@@ -17,6 +17,7 @@
  * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  */
 
+#include <stdlib.h>
 #include <assert.h>
 #include "coco.h"
 #include "rasters.h"
diff -Nurd -x'*~' copter-commander-1.8.orig/gnome-window.c copter-commander-1.8/gnome-window.c
--- copter-commander-1.8.orig/gnome-window.c	2002-01-29 20:34:18.000000000 -0500
+++ copter-commander-1.8/gnome-window.c	2003-11-12 05:59:40.000000000 -0500
@@ -118,6 +118,7 @@
 #include <assert.h>
 #include "coco.h"
 #include "gnome-kennel.h"
+#include <stdlib.h>
 
 #define COCO_JOIN_DIALOG_Y_PAD 5
 #define COCO_JOIN_DIALOG_X_PAD 5
diff -Nurd -x'*~' copter-commander-1.8.orig/language.c copter-commander-1.8/language.c
--- copter-commander-1.8.orig/language.c	2001-11-28 17:44:02.000000000 -0500
+++ copter-commander-1.8/language.c	2003-11-12 05:16:26.000000000 -0500
@@ -29,7 +29,7 @@
 #include <dirent.h>    /* for readdir */
 #include <assert.h>
 #include <errno.h>
-#include <alloca.h>
+#include <unistd.h>
 
 #include "coco.h"
 
diff -Nurd -x'*~' copter-commander-1.8.orig/network.c copter-commander-1.8/network.c
--- copter-commander-1.8.orig/network.c	2002-01-03 19:44:29.000000000 -0500
+++ copter-commander-1.8/network.c	2003-11-12 05:20:12.000000000 -0500
@@ -141,7 +141,7 @@
   coco_set_fd_blocking( fd, COCO_FALSE );
   if (port_return)
     {
-      socklen_t sockaddr_size = sizeof( sockaddr );
+      int sockaddr_size = sizeof( sockaddr );
       if(-1 == getsockname( fd, (struct sockaddr *) &sockaddr, 
                             &sockaddr_size ))
         {
diff -Nurd -x'*~' copter-commander-1.8.orig/server.c copter-commander-1.8/server.c
--- copter-commander-1.8.orig/server.c	2002-01-29 00:43:07.000000000 -0500
+++ copter-commander-1.8/server.c	2003-11-12 05:35:10.000000000 -0500
@@ -417,10 +417,8 @@
     if ((connfd==EAGAIN) || (connfd==EWOULDBLOCK))
       return;
     else if ((connfd==ENETDOWN) ||
-             (connfd==EPROTO) ||
              (connfd==ENOPROTOOPT) ||
              (connfd==EHOSTDOWN) ||
-             (connfd==ENONET) ||
              (connfd==EHOSTUNREACH) ||
              (connfd==EOPNOTSUPP) ||
              (connfd==ENETUNREACH))
diff -Nurd -x'*~' copter-commander-1.8.orig/simple-command-line.c copter-commander-1.8/simple-command-line.c
--- copter-commander-1.8.orig/simple-command-line.c	2001-12-11 19:23:38.000000000 -0500
+++ copter-commander-1.8/simple-command-line.c	2003-11-12 05:17:00.000000000 -0500
@@ -21,7 +21,6 @@
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
-#include <alloca.h> /* for alloca. (not stdlib because of --ansi) */
 #include <assert.h>
 #include "coco.h"
 
diff -Nurd -x'*~' copter-commander-1.8.orig/tiff-compile.c copter-commander-1.8/tiff-compile.c
--- copter-commander-1.8.orig/tiff-compile.c	2002-02-11 14:40:14.000000000 -0500
+++ copter-commander-1.8/tiff-compile.c	2003-11-12 05:10:50.000000000 -0500
@@ -26,7 +26,6 @@
 #include <stdlib.h>    /* for exit */
 #include <ctype.h>
 #include <assert.h>
-#include <malloc.h>
 #include <string.h>
 #include <sys/types.h> /* for directory */
 #include <dirent.h>    /* for directory */
