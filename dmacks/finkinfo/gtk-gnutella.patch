diff -Nurd -x'*~' gtk-gnutella-0.96.3.orig/Configure gtk-gnutella-0.96.3/Configure
--- gtk-gnutella-0.96.3.orig/Configure	2006-11-09 18:01:15.000000000 -0500
+++ gtk-gnutella-0.96.3/Configure	2007-05-03 04:28:42.000000000 -0400
@@ -5309,6 +5309,8 @@
 	gnutlsconfig='false'
 	modver=''
 fi
+gnutlsconfig='false'
+modver=''
 echo "(I'll use '$gnutlsconfig' to gather that information.)"
 
 gnutlscflags=""
@@ -5318,12 +5320,12 @@
 case "$version" in
 '') ;;
 *)
-	gnutlscflags=`$gnutlsconfig --cflags`
-	gnutlsldflags=`$gnutlsconfig --libs`
 	vint=`echo $version | $awk -F. '{print $1 * 10000 + $2 * 100 + $3;}'`
 	if test 0$vint -lt 010016; then
 		echo "Sorry, you have GNU TLS $version, I need at least 1.0.16." >&4
 	else
+		gnutlscflags=`$gnutlsconfig --cflags`
+		gnutlsldflags=`$gnutlsconfig --libs`
 		echo "Good, you have GNU TLS $version."
 		
 		$cat <<'EOM'
@@ -5947,6 +5949,8 @@
 	sqliteconfig='false'
 	modver=''
 fi
+sqliteconfig='false'
+modver=''
 echo "(I'll use '$sqliteconfig' to gather that information.)"
 
 sqlitecflags=""
@@ -5956,12 +5960,12 @@
 case "$version" in
 '') ;;
 *)
-	sqlitecflags=`$sqliteconfig --cflags`
-	sqliteldflags=`$sqliteconfig --libs`
 	vint=`echo $version | $awk -F. '{print $1 * 10000 + $2 * 100 + $3;}'`
 	if test 0$vint -lt 030300; then
 		echo "Sorry, you have SQLite $version, I need at least 3.3.0." >&4
 	else
+		sqlitecflags=`$sqliteconfig --cflags`
+		sqliteldflags=`$sqliteconfig --libs`
 		val="$define"
 		echo "Good, you have SQLite $version."
 		
