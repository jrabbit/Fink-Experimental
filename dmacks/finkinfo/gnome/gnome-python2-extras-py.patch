diff -Nurd -x'*~' gnome-python-extras-2.14.0.orig/configure gnome-python-extras-2.14.0/configure
--- gnome-python-extras-2.14.0.orig/configure	2006-03-12 17:56:20.000000000 -0500
+++ gnome-python-extras-2.14.0/configure	2006-06-21 15:03:36.000000000 -0400
@@ -464,7 +464,7 @@
 # include <unistd.h>
 #endif"
 
-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar ACLOCAL_AMFLAGS build build_cpu build_vendor build_os host host_cpu host_vendor host_os CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE EGREP LN_S ECHO AR ac_ct_AR RANLIB ac_ct_RANLIB CPP CXX CXXFLAGS ac_ct_CXX CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CXXCPP F77 FFLAGS ac_ct_F77 LIBTOOL PYTHON PYTHON_VERSION PYTHON_PREFIX PYTHON_EXEC_PREFIX PYTHON_PLATFORM pythondir pkgpythondir pyexecdir pkgpyexecdir PYTHON_INCLUDES PKG_CONFIG ac_pt_PKG_CONFIG PYGTK_CFLAGS PYGTK_LIBS PYGTK_CODEGEN PYGTK_DEFSDIR GNOME_PYTHON_ARGTYPES_DIR GLIB_CFLAGS GLIB_LIBS GLIB_GENMARSHAL GOBJECT_QUERY GLIB_MKENUMS GTK_CFLAGS GTK_LIBS GTKHTML2_CFLAGS GTKHTML2_LIBS BUILD_GTKHTML2_TRUE BUILD_GTKHTML2_FALSE EGGTRAY_CFLAGS EGGTRAY_LIBS BUILD_EGGTRAY_TRUE BUILD_EGGTRAY_FALSE EGG_RECENT_CFLAGS EGG_RECENT_LIBS BUILD_EGGRECENT_TRUE BUILD_EGGRECENT_FALSE GTKMOZEMBED_CFLAGS GTKMOZEMBED_LIBS BUILD_GTKMOZEMBED_TRUE BUILD_GTKMOZEMBED_FALSE MOZILLA_HOME GTKSPELL_CFLAGS GTKSPELL_LIBS BUILD_GTKSPELL_TRUE BUILD_GTKSPELL_FALSE GDL_CFLAGS GDL_LIBS BUILD_GDL_TRUE BUILD_GDL_FALSE GDA_CFLAGS GDA_LIBS BUILD_GDA_TRUE BUILD_GDA_FALSE GKSU_CFLAGS GKSU_LIBS BUILD_GKSU_TRUE BUILD_GKSU_FALSE GKSUUI_CFLAGS GKSUUI_LIBS BUILD_GKSUUI_TRUE BUILD_GKSUUI_FALSE LIBOBJS LTLIBOBJS'
+ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar ACLOCAL_AMFLAGS build build_cpu build_vendor build_os host host_cpu host_vendor host_os CC CFLAGS LDFLAGS CPPFLAGS ac_ct_CC EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE EGREP LN_S ECHO AR ac_ct_AR RANLIB ac_ct_RANLIB CPP CXX CXXFLAGS ac_ct_CXX CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CXXCPP F77 FFLAGS ac_ct_F77 LIBTOOL PYTHON PYTHON_VERSION PYTHON_PREFIX PYTHON_EXEC_PREFIX PYTHON_PLATFORM pythondir pkgpythondir pyexecdir pkgpyexecdir PYTHON_INCLUDES PKG_CONFIG ac_pt_PKG_CONFIG PYGTK_CFLAGS PYGTK_LIBS PYGTK_CODEGEN PYGTK_DEFSDIR GNOME_PYTHON_DEFSDIR GNOME_PYTHON_ARGTYPES_DIR GLIB_CFLAGS GLIB_LIBS GLIB_GENMARSHAL GOBJECT_QUERY GLIB_MKENUMS GTK_CFLAGS GTK_LIBS GTKHTML2_CFLAGS GTKHTML2_LIBS BUILD_GTKHTML2_TRUE BUILD_GTKHTML2_FALSE EGGTRAY_CFLAGS EGGTRAY_LIBS BUILD_EGGTRAY_TRUE BUILD_EGGTRAY_FALSE EGG_RECENT_CFLAGS EGG_RECENT_LIBS BUILD_EGGRECENT_TRUE BUILD_EGGRECENT_FALSE GTKMOZEMBED_CFLAGS GTKMOZEMBED_LIBS BUILD_GTKMOZEMBED_TRUE BUILD_GTKMOZEMBED_FALSE MOZILLA_HOME GTKSPELL_CFLAGS GTKSPELL_LIBS BUILD_GTKSPELL_TRUE BUILD_GTKSPELL_FALSE GDL_CFLAGS GDL_LIBS BUILD_GDL_TRUE BUILD_GDL_FALSE GDA_CFLAGS GDA_LIBS BUILD_GDA_TRUE BUILD_GDA_FALSE GKSU_CFLAGS GKSU_LIBS BUILD_GKSU_TRUE BUILD_GKSU_FALSE GKSUUI_CFLAGS GKSUUI_LIBS BUILD_GKSUUI_TRUE BUILD_GKSUUI_FALSE LIBOBJS LTLIBOBJS'
 ac_subst_files=''
 
 # Initialize some variables set by options.
@@ -20272,6 +20272,13 @@
 echo "$as_me:$LINENO: result: $PYGTK_DEFSDIR" >&5
 echo "${ECHO_T}$PYGTK_DEFSDIR" >&6
 
+echo "$as_me:$LINENO: checking for gnome-python defs" >&5
+echo $ECHO_N "checking for gnome-python defs... $ECHO_C" >&6
+GNOME_PYTHON_DEFSDIR=`$PKG_CONFIG --variable=defsdir gnome-python-2.0`
+
+echo "$as_me:$LINENO: result: $GNOME_PYTHON_DEFSDIR" >&5
+echo "${ECHO_T}$GNOME_PYTHON_DEFSDIR" >&6
+
 echo "$as_me:$LINENO: checking for gnome-python argtypes dir" >&5
 echo $ECHO_N "checking for gnome-python argtypes dir... $ECHO_C" >&6
 GNOME_PYTHON_ARGTYPES_DIR=`$PKG_CONFIG --variable=argtypesdir gnome-python-2.0`
@@ -21527,55 +21489,10 @@
 
 
 build_gda=false
-
-pkg_failed=no
 echo "$as_me:$LINENO: checking for GDA" >&5
 echo $ECHO_N "checking for GDA... $ECHO_C" >&6
-
-if test -n "$PKG_CONFIG"; then
-        if test -n "$PKG_CONFIG" && \
-    { (echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"libgda >= 1.2.0 pygtk-2.0 >= 2.4.0\"") >&5
-  ($PKG_CONFIG --exists --print-errors "libgda >= 1.2.0 pygtk-2.0 >= 2.4.0") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; then
-  pkg_cv_GDA_CFLAGS=`$PKG_CONFIG --cflags "libgda >= 1.2.0 pygtk-2.0 >= 2.4.0" 2>/dev/null`
-else
-  pkg_failed=yes
-fi
-else
-	pkg_failed=untried
-fi
-if test -n "$PKG_CONFIG"; then
-        if test -n "$PKG_CONFIG" && \
-    { (echo "$as_me:$LINENO: \$PKG_CONFIG --exists --print-errors \"libgda >= 1.2.0 pygtk-2.0 >= 2.4.0\"") >&5
-  ($PKG_CONFIG --exists --print-errors "libgda >= 1.2.0 pygtk-2.0 >= 2.4.0") 2>&5
-  ac_status=$?
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); }; then
-  pkg_cv_GDA_LIBS=`$PKG_CONFIG --libs "libgda >= 1.2.0 pygtk-2.0 >= 2.4.0" 2>/dev/null`
-else
-  pkg_failed=yes
-fi
-else
-	pkg_failed=untried
-fi
-
-if test $pkg_failed = yes; then
-	GDA_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors "libgda >= 1.2.0 pygtk-2.0 >= 2.4.0"`
-	# Put the nasty error message in config.log where it belongs
-	echo "$GDA_PKG_ERRORS" 1>&5
-
-	build_gda=false
-elif test $pkg_failed = untried; then
-	build_gda=false
-else
-	GDA_CFLAGS=$pkg_cv_GDA_CFLAGS
-	GDA_LIBS=$pkg_cv_GDA_LIBS
-        echo "$as_me:$LINENO: result: yes" >&5
-echo "${ECHO_T}yes" >&6
-	build_gda=true
-fi
+        echo "$as_me:$LINENO: result: disabled" >&5
+echo "${ECHO_T}disabled" >&6
 
 
 if $build_gda; then
@@ -22663,6 +22580,7 @@
 s,@PYGTK_LIBS@,$PYGTK_LIBS,;t t
 s,@PYGTK_CODEGEN@,$PYGTK_CODEGEN,;t t
 s,@PYGTK_DEFSDIR@,$PYGTK_DEFSDIR,;t t
+s,@GNOME_PYTHON_DEFSDIR@,$GNOME_PYTHON_DEFSDIR,;t t
 s,@GNOME_PYTHON_ARGTYPES_DIR@,$GNOME_PYTHON_ARGTYPES_DIR,;t t
 s,@GLIB_CFLAGS@,$GLIB_CFLAGS,;t t
 s,@GLIB_LIBS@,$GLIB_LIBS,;t t
@@ -23451,3 +23369,14 @@
 $build_gda               || echo     gda
 $build_gksu              || echo     gksu
 $build_gksuui            || echo     gksu.ui
+
+if $build_gtkhtml2 && $build_eggtray && $build_eggrecent && $build_gtkmozembed && $build_gtkspell && $build_gl && $build_gksu && $build_gksuui; then
+  :
+else
+  echo "Incomplete package configuration."
+  exit 1
+fi
+if $build_gda; then
+  echo "Incorrect package configuration."
+  exit 1
+fi
diff -Nurd -x'*~' gnome-python-extras-2.14.0.orig/egg/recent/Makefile.in gnome-python-extras-2.14.0/egg/recent/Makefile.in
--- gnome-python-extras-2.14.0.orig/egg/recent/Makefile.in	2006-03-12 17:56:14.000000000 -0500
+++ gnome-python-extras-2.14.0/egg/recent/Makefile.in	2006-06-21 14:18:44.000000000 -0400
@@ -186,6 +186,7 @@
 PYGTK_CFLAGS = @PYGTK_CFLAGS@
 PYGTK_CODEGEN = @PYGTK_CODEGEN@
 PYGTK_DEFSDIR = @PYGTK_DEFSDIR@
+GNOME_PYTHON_DEFSDIR = @GNOME_PYTHON_DEFSDIR@
 PYGTK_LIBS = @PYGTK_LIBS@
 PYTHON = @PYTHON@
 PYTHON_EXEC_PREFIX = @PYTHON_EXEC_PREFIX@
@@ -661,9 +662,9 @@
 	    --load-types $(GNOME_PYTHON_ARGTYPES_DIR)/bonobo-arg-types.py \
 	    --register $(PYGTK_DEFSDIR)/gtk-types.defs \
 	    --register $(PYGTK_DEFSDIR)/gdk-types.defs \
-	    --register $(PYGTK_DEFSDIR)/bonobo-types.defs \
-	    --register $(PYGTK_DEFSDIR)/bonoboui-types.defs \
-	    --register $(PYGTK_DEFSDIR)/ui.defs \
+	    --register $(GNOME_PYTHON_DEFSDIR)/bonobo-types.defs \
+	    --register $(GNOME_PYTHON_DEFSDIR)/bonoboui-types.defs \
+	    --register $(GNOME_PYTHON_DEFSDIR)/ui.defs \
 	    --prefix py$* $*.defs) > gen-$*.c \
 	&& cp gen-$*.c $*.c \
 	&& rm -f gen-$*.c
diff -Nurd -x'*~' gnome-python-extras-2.14.0.orig/egg/tray/trayicon.override gnome-python-extras-2.14.0/egg/tray/trayicon.override
--- gnome-python-extras-2.14.0.orig/egg/tray/trayicon.override	2004-11-21 14:56:58.000000000 -0500
+++ gnome-python-extras-2.14.0/egg/tray/trayicon.override	2006-06-21 14:39:59.000000000 -0400
@@ -3,6 +3,7 @@
 headers
 #include <Python.h>
 
+#define NO_IMPORT_PYGOBJECT
 #include "pygobject.h"
 #include "eggtrayicon.h"
 %%
diff -Nurd -x'*~' gnome-python-extras-2.14.0.orig/gtkhtml2/gtkhtml2.override gnome-python-extras-2.14.0/gtkhtml2/gtkhtml2.override
--- gnome-python-extras-2.14.0.orig/gtkhtml2/gtkhtml2.override	2004-06-26 07:36:23.000000000 -0400
+++ gnome-python-extras-2.14.0/gtkhtml2/gtkhtml2.override	2006-06-21 14:39:57.000000000 -0400
@@ -3,6 +3,7 @@
 headers
 #include <Python.h>
 
+#define NO_IMPORT_PYGOBJECT
 #include "pygobject.h"
 #include <libgtkhtml/gtkhtml.h>
 #include <libgtkhtml/view/htmlselection.h>
diff -Nurd -x'*~' gnome-python-extras-2.14.0.orig/gtkmozembed/gtkmozembed.override gnome-python-extras-2.14.0/gtkmozembed/gtkmozembed.override
--- gnome-python-extras-2.14.0.orig/gtkmozembed/gtkmozembed.override	2005-09-10 10:56:17.000000000 -0400
+++ gnome-python-extras-2.14.0/gtkmozembed/gtkmozembed.override	2006-06-21 14:39:55.000000000 -0400
@@ -3,6 +3,7 @@
 headers
 #include <Python.h>
 
+#define NO_IMPORT_PYGOBJECT
 #include "pygobject.h"
 #include <gtkmozembed.h>
 
