Package: evolution-exchange
Version: 2.24.5
Revision: 1
Source-MD5: 7a9d0da44196b8f3fac728f2d00ac5ec
Source: mirror:gnome:sources/%n/2.24/%n-%v.tar.bz2
BuildDepends: <<
 atk1, audiofile, avahi-dev, cairo, cyrus-sasl2-dev, db44-aes | db44, dbus-dev, esound, evolution-2.24-dev,
 expat1, fontconfig2-dev, freetype219, gconf2-dev, gettext-tools, glib2-dev, glitz, gnome-keyring-dev, 
 gnome-vfs2-unified-dev, gnutls26, gtk-doc, gtk+2-dev, gtkhtml3.14-dev, intltool40, libart2, libavahi-glib1-dev, libbonobo2-dev,
 libbonoboui2-dev, libgcrypt, libgettext3-dev, libglade2, libgnome2-dev, libgnomecanvas2-dev,
 libgnomeui2-dev, libgpg-error, libiconv-dev, libjpeg, libpng3, libsoup2.4.1-ssl,
 libtasn1-3, libxml2, orbit2-dev, pango1-xft2-ft219-dev (>= 1.18.4-4), pixman, pkgconfig, popt,
 seamonkey-dev, x11-dev, sed, fink (>= 0.24.12)
<<
Depends: evolution
Conflicts: ximian-connector
Replaces: ximian-connector
SetLDFLAGS: -L%p/lib/fontconfig2/lib -L%p/lib/seamonkey
SetCPPFLAGS: -I%p/lib/fontconfig2/include -I%p/include/seamonkey/nspr -I%p/include/seamonkey/nss
SetCFLAGS: -Os
# no -fstrict-aliasing, else "dereferencing type-punned pointer will break strict-aliasing rules" warning
NoSetMAKEFLAGS: true
SetMAKEFLAGS: -j1
PatchFile: %n.patch
PatchFile-MD5: 72820c47077590f1c621554b56cf7c37
PatchScript: <<
	%{default_script}
	perl -pi -e 's,([<"])(mapi\.h[">]),\1exchange/\2,' */*.[ch]
<<
ConfigureParams: --libexecdir=%p/sbin --disable-static --disable-gtk-doc --mandir=%p/share/man --with-openldap=%p --with-libdb=%p --enable-maintainer-mode --enable-compile-warnings=yes PKG_CONFIG_PATH=%p/lib/fontconfig2/lib/pkgconfig:$PKG_CONFIG_PATH
CompileScript: <<
	./configure %c
	make
	make check
<<
InstallScript: make DESTDIR=%d install
DocFiles: AUTHORS COPYING ChangeLog MAINTAINERS NEWS README
Description: Advanced email client
DescPort: <<
 Original package and port for evolution < 1.4 by Max Horn
<<
DescPackaging: <<
	libytnef-dev has %p/include/mapi.h so patch sources to look
	for mapi.h specifically in e-d-s location.

	Fix some -I weirdness. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=572950

	Scrap autoconf test whose results are ignored. See:
	http://bugzilla.gnome.org/show_bug.cgi?id=573820
<<
Homepage: http://gnome.org/projects/evolution/
License: GPL
Maintainer: The Gnome Core Team <fink-gnome-core@lists.sourceforge.net>

