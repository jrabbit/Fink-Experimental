Package: swi-prolog
Version: 5.6.10
Revision: 1

Source: http://gollem.science.uva.nl/cgi-bin/nph-download/SWI-Prolog/pl-%v.tar.gz
Source-MD5: 2a32e53f2d01b07a8726c4e91cb3d789

BuildDepends: readline5, libncursesw5, gmp
Depends: readline5-shlibs, libncursesw5-shlibs, gmp-shlibs

PatchScript: <<
  perl -pi -e 's/ARCH=.*/ARCH=%m-darwin/' src/configure
  perl -pi -e 's/( \$\(LDFLAGS\))(.*)/\2\1/' src/Makefile.in src/rc/Makefile.in
<<
ConfigureParams: --mandir=%p/share/man
SetCFLAGS: -I%p/include
InstallScript: make install DESTDIR=%d
DocFiles: ANNOUNCE COPYING ChangeLog PORTING README

DescPackaging: <<
  Some symbols look like C++ munges, but that's their real name so no GCC

  Rewrite ARCH to remove kernel version number

  Patch Makefiles to link locally-built libs in preference to system ones

  TODO:
    remove %v from libdir?
    libpl.dylib doesn't know a thing about binary compatibility
    fix ordering of added -I and -L dirs in plld
<<
Description: SWIProlog interpretter
Maintainer: Daniel Macks <dmacks@netspace.org>
License: LGPL
Homepage: http://www.swi-prolog.org
