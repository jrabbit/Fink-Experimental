diff -Nurd -x'*~' webkit-1.1.15.4.orig/GNUmakefile.am webkit-1.1.15.4/GNUmakefile.am
--- webkit-1.1.15.4.orig/GNUmakefile.am	2009-10-20 17:33:05.000000000 -0400
+++ webkit-1.1.15.4/GNUmakefile.am	2010-03-28 11:58:28.000000000 -0400
@@ -248,7 +248,7 @@
 	$(GEOCLUE_LIBS) \
 	$(GLIB_LIBS) \
 	$(GSTREAMER_LIBS) \
-	$(GTK_LIBS) \
+	$(GTK_LIBS) -lintl \
 	$(HILDON_LIBS) \
 	$(JPEG_LIBS) \
 	$(LIBSOUP_LIBS) \
diff -Nurd -x'*~' webkit-1.1.15.4.orig/WebKitTools/GNUmakefile.am webkit-1.1.15.4/WebKitTools/GNUmakefile.am
--- webkit-1.1.15.4.orig/WebKitTools/GNUmakefile.am	2009-09-29 15:23:22.000000000 -0400
+++ webkit-1.1.15.4/WebKitTools/GNUmakefile.am	2010-03-28 11:27:01.000000000 -0400
@@ -81,8 +81,8 @@
 	$(LIBSOUP_CFLAGS)
 
 Programs_DumpRenderTree_LDADD = \
-	libwebkit-1.0.la \
 	libJavaScriptCore.la \
+	libwebkit-1.0.la \
 	$(GLOBALDEPS_LIBS) \
 	$(CAIRO_LIBS) \
 	$(GTK_LIBS) \
@@ -117,7 +117,7 @@
 	-I$(srcdir)/WebCore/plugins \
 	-I$(srcdir)/WebKitTools/DumpRenderTree/TestNetscapePlugIn.subproj \
 	$(global_cppflags) \
-	$(javascriptcore_cppflags)
+	$(javascriptcore_cppflags) -DXP_UNIX
 
 TestNetscapePlugin_libtestnetscapeplugin_la_SOURCES = \
 	WebKitTools/DumpRenderTree/gtk/TestNetscapePlugin/ForwardingHeaders/WebKit/npapi.h \
diff -Nurd -x'*~' webkit-1.1.15.4.orig/autotools/dolt.m4 webkit-1.1.15.4/autotools/dolt.m4
--- webkit-1.1.15.4.orig/autotools/dolt.m4	2009-09-22 11:29:22.000000000 -0400
+++ webkit-1.1.15.4/autotools/dolt.m4	2010-03-28 11:27:29.000000000 -0400
@@ -14,7 +14,7 @@
 # Josh Triplett <josh@freedesktop.org>
 AC_PATH_PROG(DOLT_BASH, bash)
 AC_MSG_CHECKING([if dolt supports this host])
-dolt_supported=yes
+dolt_supported=no
 if test x$DOLT_BASH = x; then
     dolt_supported=no
 fi
diff -Nurd -x'*~' webkit-1.1.15.4.orig/autotools/webkit.m4 webkit-1.1.15.4/autotools/webkit.m4
--- webkit-1.1.15.4.orig/autotools/webkit.m4	2009-10-20 17:18:12.000000000 -0400
+++ webkit-1.1.15.4/autotools/webkit.m4	2010-03-28 11:28:09.000000000 -0400
@@ -145,7 +145,7 @@
 # keep the ICU dependency. That's why we temporarily add icu headers and libs for glib config case as well.
 if test "$with_unicode_backend" = "icu" -o "$with_unicode_backend" = "glib"; then
         case "$host" in
-            *-*-darwin*)
+            *-*-darwin*-but-not-fink-because-it-has-icu-config)
 		UNICODE_CFLAGS="-I$srcdir/JavaScriptCore/icu -I$srcdir/WebCore/icu"
 		UNICODE_LIBS="-licucore"
                 ;;
diff -Nurd -x'*~' webkit-1.1.15.4.orig/configure.ac webkit-1.1.15.4/configure.ac
--- webkit-1.1.15.4.orig/configure.ac	2009-11-27 08:53:14.000000000 -0500
+++ webkit-1.1.15.4/configure.ac	2010-03-28 11:43:33.000000000 -0400
@@ -83,6 +83,7 @@
 AC_DISABLE_STATIC
 AC_LIBTOOL_WIN32_DLL
 AC_PROG_LIBTOOL
+AC_PROG_CXX
 # use dolt to speedup the build
 DOLT
 
@@ -216,7 +217,7 @@
 # todo: webcore gtk
 WEBKIT_CHECK_DEPENDENCIES([glib unicode])
 
-GETTEXT_PACKAGE=$PACKAGE
+GETTEXT_PACKAGE="${PACKAGE}-1.0.2"
 AC_SUBST(GETTEXT_PACKAGE)
 AC_DEFINE_UNQUOTED(GETTEXT_PACKAGE,"$GETTEXT_PACKAGE",
                    [The gettext catalog name])
