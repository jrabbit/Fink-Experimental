Package: libgs8.63
Version: 8.63
Revision: 1
Source: http://mirror.cs.wisc.edu/pub/mirrors/ghost/GPL/gs863/ghostscript-%v.tar.bz2
Source-MD5: c770eedfdd846a53e211e3ba5339de21
BuildDepends: <<
	fink (>= 0.24.12-1),
	libpng3,
	x11-dev
<<
Depends: %n-shlibs (= %v-%r)
BuildDependsOnly: true
PatchFile: %n.patch
PatchFile-MD5: dd25a10f6ac548bf780b3ef67ae0cc43
PatchScript: <<
	%{default_script}
	mv libpng libpng_UNUSED
	mv zlib zlib_UNUSED
<<
CompileScript: <<
	ln -s src/unix-gcc.mak makefile
	make so prefix=%p

	nm -j sobin/libgs.8.63.dylib | sort | uniq > sym
	echo "_gs_error_names" > expsym
	grep ^_gsapi_ sym | grep -v _gsapi_instance_counter >> expsym
	nmedit -s expsym sobin/libgs.8.63.dylib
<<
InstallScript: <<
	make soinstall DESTDIR=%d prefix=%p
<<
DocFiles: LICENSE
SplitOff: <<
	Package: %N-shlibs
	Depends: <<
		ghostscript-fonts,
		libpng3-shlibs,
		x11
	<<
	Files: <<
		lib/libgs.8.63.dylib
		share/ghostscript/%N/Resource
		share/ghostscript/%N/lib
	<<
	Shlibs: %p/lib/libgs.8.63.dylib 8.63.0 %n (>= 8.63-1)
	DocFiles: LICENSE
<<
DescPort: <<
	Adjust compiler and linker flags for darwin and fink

	Privatize all symbols except ones that seem part of external
	API (avoids multiple-definition warnings and other collisions
	if linking against (libgs and an external lib that libgs also
	has internally)
<<
DescPackaging: <<
	Hack to build the lib *only*, not programs on top of it.

	Adjust runtime datadir pathname (2 places!) to avoid collision
	with one from whatever fink package would have the programs as
	part of some other build.

	Use external libs whenever possible and adjust makefiles to
	pass fink -I and -L flags for them:
		png (fink)
		libz (system)
		jpeg (use included--apparently needs customized lib)

	CMap files are not GPL (see LICENSE file for info)
<<
Description: Ghostscript (PostScript rendering) library
Homepage: http://pages.cs.wisc.edu/~ghost
#License: GPL
License: Restrictive/Distributable
Maintainer: Daniel Macks <dmacks@netspace.org>
