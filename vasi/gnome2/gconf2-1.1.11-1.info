Package: gconf2
Version: 1.1.11
Revision: 1
Depends: %N-shlibs (= %v-%r), gtk+2-shlibs
BuildDepends: glib2-dev, atk1, pango1-dev, gtk+2-dev, linc1, orbit2-dev, libxml2, gtk-doc, pkgconfig
Source: mirror:gnome:pre-gnome2/sources/GConf/GConf-%v.tar.bz2
Source-MD5: c1107d92e7e3b0837af49b7273897c74
Patch: %f.patch
PatchScript: cp gconf/GConf.idl gconf/GConfI.idl
SetCPPFLAGS: -no-cpp-precomp
ConfigureParams: --disable-bdbbackend --disable-debug
CompileScript: (export LDFLAGS="`/usr/bin/find . -name Makefile.am | /usr/bin/xargs /usr/bin/egrep '^[[:alnum:]_@]+_(LT|)LIBRARIES[[:space:]]*=[[:space:]]*[^[:space:]]' | /usr/bin/egrep -v noinst | /usr/bin/sed -e 's,^\.\(.*\)Makefile.am:.*,-L@PWD@\1.libs,g' -e "s,@PWD@,$PWD,g" | /usr/bin/xargs echo` -L%p/lib" && ./configure %c && make) 
InstallScript: make install DESTDIR=%d
SplitOff: <<
  Package: %N-shlibs
  Depends: orbit2, libxml2-shlibs
  Files: lib/libgconf-2.*.dylib lib/GConf/
  DocFiles: AUTHORS COPYING ChangeLog NEWS README TODO
<<
SplitOff2: <<
  Package: %N-dev
  Depends: %N-shlibs (= %v-%r)
  BuildDependsOnly: True
  Files: include lib/libgconf-2.* lib/pkgconfig share/aclocal share/gtk-doc
  DocFiles: AUTHORS COPYING ChangeLog NEWS README TODO
<<
ConfFiles: %p/etc/gconf/2/path
DocFiles: AUTHORS COPYING ChangeLog NEWS README TODO
Description: Gnome Config System
DescDetail: <<
GConf is the GNOME Configuration database system.
<<
DescPort: <<
The global header file, gconf.h, clashes with the header generated
from the CORBA IDL description, GConf.h. Solved by renaming the IDL
stuff to GConfI.

Patched gconf_get_lock_or_current_holder() to call sync() after
ior was written in lockfile.

BDB is currently disabled as its implementation
is not current with the rest of the gconf distribution.
<<
License: LGPL
Maintainer: Masanori Sekino <msek@users.sourceforge.net>
Homepage: http://www.gnome.org/
