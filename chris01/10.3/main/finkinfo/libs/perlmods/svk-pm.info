Info2: <<
Package: svk-pm%type_pkg[perl]
Version: 0.16
Revision: 1
Type: perl (5.8.1)
Description: Perl modules for SVK
License: Artistic
Maintainer: Christian Schaffner <chris01@users.sourceforge.net>

# Dependencies:
BuildDepends: test-harness-pm%type_pkg[perl]
Depends: perl%type_pkg[perl]-core, svn-ssl-swig-pm%type_pkg[perl] (>= 1.0.4-1), algorithm-diff-pm, algorithm-annotate-pm, algorithm-diff-pm, text-diff-pm, data-hierarchy-pm%type_pkg[perl] (>= 0.18-1), regexp-shellish-pm, file-temp-pm%type_pkg[perl] (>= 0.14-1), pod-escapes-pm, pod-simple-pm, perlio-via-dynamic-pm (>= 0.02-1), svn-simple-pm%type_pkg[perl] (>= 0.21-1), yaml-pm, locale-maketext-pm%type_pkg[perl], locale-maketext-lexicon-pm%type_pkg[perl] (>= 0.38-1), locale-maketext-simple-pm (>= 0.12-1), svn-mirror-pm%type_pkg[perl] (>= 0.37-1), compress-zlib-pm%type_pkg[perl], vcp-pm%type_pkg[perl]

# Unpack Phase:
Source: mirror:cpan:authors/id/C/CL/CLKAO/SVK-%v.tar.gz
Source-MD5: af11c8f05d5d282d4806d1a202a246d4

# Patch Phase:
Patch: %{ni}.patch

# Compile Phase:
CompileScript: <<
 #!/bin/bash
 ulimit -n 9999
#  %{default_script}
 perl%type_raw[perl] Makefile.PL PERL=perl%type_raw[perl] PREFIX=%p \
  INSTALLPRIVLIB=%p/lib/perl5/%type_raw[perl] \
  INSTALLARCHLIB=%p/lib/perl5/%type_raw[perl]/darwin-thread-multi-2level \
  INSTALLSITELIB=%p/lib/perl5/%type_raw[perl] \
  INSTALLSITEARCH=%p/lib/perl5/%type_raw[perl]/darwin-thread-multi-2level \
  INSTALLMAN1DIR=%p/share/man/man1 \
  INSTALLMAN3DIR=%p/share/man/man3 \
  INSTALLSITEMAN1DIR=%p/share/man/man1 \
  INSTALLSITEMAN3DIR=%p/share/man/man3 \
  INSTALLBIN=%p/bin \
  INSTALLSITEBIN=%p/bin \
  INSTALLSCRIPT=%p/bin \
 make
 make test
<<

# Install Phase:
UpdatePOD: true
DocFiles: CHANGES MANIFEST README SIGNATURE
SplitOff: <<
 Package: svk
 Description: Decentralized version control system (SVK)
 Depends: %N (= %v-%r)
 Files: bin share/man
<<

# Additional Data:
DescDetail: <<
svk is a decentralized version control system written in Perl. It uses the
subversion filesystem but provides some other powerful features:

svk inherits the features from Subversion: 
- Versioned directories. 
- Versioned renames. 
- Atomic commits. 
- Cheap branching and tagging. 

Also:
- Distributed branches. 
- Lightweight checkout copy management (no CVS .svn directories). 
- Advanced MergeFeatures. 
- Changeset signing and verification. 
- MirrorVCP: VCP integration to support mirror/branch from alien version
  control systems transparently. 

Coming soon:
- Patch management UI. 
<<
DescUsage: <<
Type 'man svk' and 'svk help' to get usage help.
<<
DescPackaging: <<
The default compile script couldn't be used since 'ulimit -n 9999' had to
be set. Otherwise the tests would fail with an 'Too many open files' error.
<<
Homepage: http://svk.elixus.org/
<<