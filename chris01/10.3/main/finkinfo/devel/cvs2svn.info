Package: cvs2svn
Version: 1.0.0
Revision: 1
Epoch: 1
Description: CVS-to-Subversion repository converter
License: BSD
Maintainer: Christian Schaffner <chris01@users.sourceforge.net>

# Dependencies:
Depends: svn-ssl (>= 1.0.4-1) | svn (>= 1.0.4-1), svn-client-ssl (>= 1.0.4-1) | svn-client (>= 1.0.4-1), svn-ssl-swig-py23 (>= 1.0.4-1) | svn-swig-py23 (>= 1.0.4-1), python23 (>= 1:2.3.3-23) | python23-nox (>= 1:2.3.3-23), python23-socket-ssl (>= 1:2.3.3-23) | python23-socket (>= 1:2.3.3-23) | python23-socket-nox (>= 1:2.3.3-23), cvs
Conflicts: cvs2svn-ssl
Replaces: cvs2svn-ssl
Provides: cvs2svn-ssl

# Unpack Phase:
Source: http://cvs2svn.tigris.org/files/documents/1462/15387/%n-%v-rc4.tar.gz
Source-MD5: 76ccaac0ef96d923d49a6a76970141a9

# Patch Phase:
Patch: %n.patch
PatchScript: <<
 perl -pi -e 's;#!/usr/bin/env python;#!%p/bin/python2.3;' run-tests.py
 perl -pi -e 's;#!/usr/bin/env python;#!%p/bin/python2.3;' setup.py
<<

# Compile Phase:
CompileScript: <<
 python2.3 setup.py build

 ### The latest cvs2svn binary package already needs to be installed in
 ### order for the tests to find the cvs2svn_rcsparse module
 echo "Running regression tests on cvs2svn"
 make check
<<

# Install Phase:
DocFiles: BUGS COMMITTERS COPYING HACKING README design-notes.txt
InstallScript: <<
 make install DESTDIR=%d
 
 # Install verify-cvs2svn
 perl -pi -e 's;#!/usr/bin/env python;#!%p/bin/python2.3;' verify-cvs2svn
 /usr/bin/install -m 755 verify-cvs2svn %i/bin
 
 ### Install docu
 /usr/bin/install -d %i/share
 /usr/bin/install -d %i/share/doc
 /usr/bin/install -d %i/share/doc/%n
 cp -r www %i/share/doc/%n
<<

# Additional Info:
DescDetail: <<
cvs2svn is a Python script that converts a CVS repository to a Subversion 
repository. It is designed for one-time conversions, not for repeated 
synchronizations between CVS and Subversion.
<<
DescUsage: <<
Type 'cvs2svn --help' for a short usage guide. Read the home page for more 
information - also available from 
/sw/share/doc/cvs2svn/www/cvs2svn.html

Check your new repository carefully conversion. Mail dev@cvs2svn.tigris.org 
if you encounter any problems. You can also ask questions on IRC at
irc.freenode.net, channel #cvs2svn.                        

You may use the tool 'verify-cvs2svn' to verify your conversion. But a
WARNING: The 'verify-cvs2svn' is not yet finished. It may produce false 
warnings or ignore serious problems. Don't trust it!
<<
Homepage: http://cvs2svn.tigris.org/cvs2svn.html
