Package: squid-ssl
Version: 2.5.PRE10
Revision: 1
Source: http://www.squid-cache.org/Versions/v2/2.5/squid-%v.tar.bz2
Patch: %f.patch
Conflicts: squid
Replaces: squid
ConfFiles: <<
%p/etc/squid.conf
%p/etc/mime.conf
<<
CompileScript: <<
 ./configure --prefix=%p --enable-snmp --enable-gnuregexp --enable-ssl
 make mandir=%p/share/man DEFAULT_SWAP_DIR=%p/var/cache/squid DEFAULT_LOG_PREFIX=%p/var/log/squid DEFAULT_MIB_PATH=%p/share/doc/%n DEFAULT_PID_FILE=%p/var/run/squid.pid
<<
InstallScript: <<
 make install prefix=%i mandir=%i/share/man DEFAULT_SWAP_DIR=%i/var/cache/squid DEFAULT_LOG_PREFIX=%i/var/log/squid DEFAULT_MIB_PATH=%i/share/doc/%n DEFAULT_PID_FILE=%i/var/run/squid.pid install
 install -d -m 755 -o nobody %i/var/cache/squid
 install -d -m 755 -o nobody %i/var/log/squid
 rm -f %i/etc/squid.conf.default
 rm -f %i/etc/mime.conf.default
<<
ConfFiles: <<
  %p/etc/squid.conf
  %p/etc/mime.conf
<<
DaemonicFile: <<
<service>
<description>Squid proxy cache</description>
<message>Squid proxy cache</message>

<daemon name="squid-ssl">
<executable checkexit="true">%p/sbin/squid</executable>
<configfile>%p/etc/squid.conf</configfile>
<pidfile>%p/var/run/squid.pid</pidfile>
</daemon>

</service>
<<
PostInstScript: <<
if [ ! -d %p/var/cache/squid/00 ]; then
  %p/sbin/squid -z
fi
<<
PreRmScript: <<
# clean up
if [ $1 != "upgrade" ]; then
  daemonic remove squid-ssl
fi
<<
DocFiles: CONTRIBUTORS COPYING COPYRIGHT CREDITS ChangeLog INSTALL QUICKSTART README SPONSORS TODO
#
Description: Proxy caching server
DescDetail: <<
Squid is a high-performance proxy caching server for Web clients,
supporting FTP, gopher, and HTTP data objects. Unlike traditional
caching software, Squid handles all requests in a single,
non-blocking, I/O-driven process. Squid keeps meta data and especially
hot objects cached in RAM, caches DNS lookups, supports non-blocking
DNS lookups, and implements negative caching of failed requests.
<<
DescPort: <<
Only one small patch needed to fix a directory interrogation problem
with zsh.
<<
DescPackaging: <<
The only changes made to the default configuration is to enable local
access to the squid proxy (ie, connections from localhost).  By 
default, squid is configured to listen on port 3128 for proxy 
connections.  To change this, add or change the http_port line to the
port you want squid to listen on.

This version of the squid package allows using SSL in accelerator mode.
<<
License: GPL
Homepage: http://www.squid-cache.org/
Maintainer: Benjamin Reed <ranger@befunk.com>
